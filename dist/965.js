"use strict";(global.webpackChunkelectron_react_webpack_boilerplate=global.webpackChunkelectron_react_webpack_boilerplate||[]).push([[965],{7965:(e,t,r)=>{r.r(t),r.d(t,{default:()=>xe});var a=r(7294),o=r(3792),n=r(4187),i=r(9261);r.p;var c=r(4413);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var d=r(3822),f=r(9477),h=r(4732);r.p;var w=r(6034),p=r(9417),y=r(3728),g=r(6281),v=r(168),S=r(6204),b=r(6702),_=r(6117),E=r(6882);const M=r.p+"ac6925b15da92459a57391f751f3b314.gltf";var P=r(7526);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function A(e){var t,r,o=e.target,n=e.targetPosition,i=(0,c.y)().camera,l=(t=(0,a.useState)(new f.Vector3(4,3,4)),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return n}}(t,r)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=l[0],s=l[1];return(0,a.useEffect)((function(){var e=function(e){console.log(e.movementX);var t,r=m.add(new f.Vector3(0,e.movementY/10,0));s(new f.Vector3(r.x,(6.5,(t=r.y)<1.6?1.6:t>6.5?6.5:t),r.z)),console.log(m)};return window.addEventListener("mousemove",e),function(){window.removeEventListener("mousemove",e)}}),[]),(0,c.z)((function(){i.lookAt(o.position.x,o.position.y+2.9,o.position.z),i.position.set(n.position.x+m.x,n.position.y+m.y,n.position.z+m.z)})),a.createElement(a.Fragment,null)}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}E.L.preload(M);var x=function(e){var t=e.socket,r=(e.PrimaryClip,e.setPrimaryClip),o=(e.PrimaryAmmo,e.setPrimaryAmmo),n=e.id,l=e.Parts,y=O((0,a.useReducer)((function(e){return e+1}),0),2)[1],v=(0,c.y)(),S=v.camera,E=v.scene,M=(0,a.useContext)(_.dB),P=O((0,a.useState)(null),2),I=(P[0],P[1],O((0,a.useState)([0,0,0]),2)),k=(I[0],I[1],O((0,a.useState)(void 0),2)),x=k[0],C=k[1],L=O((0,a.useState)([0,0,0,"XYZ"]),2),R=(L[0],L[1]),D=O((0,a.useState)("stop"),2),z=D[0],U=D[1],T=O((0,a.useState)(0),2),V=(T[0],T[1],(0,a.useRef)()),F=((0,a.useRef)(),(0,a.useRef)()),N=(0,a.useRef)(),W=(0,a.useRef)(),Z=(0,a.useRef)();(0,a.useRef)(),(0,a.useEffect)((function(){var e=function(e){"b"==e.key&&C("laugh")};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[]);var q=(0,g.yO)()[n]&&1==(0,g.yO)()[n].effects.tranqualizer?370:700,Q=(0,g.yO)()[n]&&1==(0,g.yO)()[n].effects.tranqualizer?2:4,B=O((0,d.a)((function(){return{mass:100,fixedRotation:!0,position:[0,1,0],args:[.2,.2,.2],material:{friction:0}}})),2),G=B[0],Y=B[1],K=(0,a.useRef)({timeToShoot:0,timeTojump:0,vel:[0,0,0],jumping:!1,crouching:!1}),$=O((0,a.useState)(0),2),X=$[0],H=$[1],J=O((0,a.useState)(0),2),ee=J[0],te=J[1],re=O((0,a.useState)(0),2),ae=re[0],oe=re[1],ne=O((0,a.useState)(0),2),ie=ne[0],ce=ne[1],le=O((0,a.useState)(0),2),me=le[0],se=le[1];(0,a.useEffect)((function(){Y.velocity.subscribe((function(e){return K.current.vel=e}))}),[Y]);var ue=function(){var e,t,r={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",Space:"jump",ControlLeft:"crouch"},o=function(e){return r[e]},n=(e=(0,a.useState)({forward:!1,backward:!1,left:!1,right:!1,jump:!1,crouch:!1}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],c=n[1];return(0,a.useEffect)((function(){var e=function(e){c((function(t){return m(m({},t),{},s({},o(e.code),!0))}))},t=function(e){c((function(t){return m(m({},t),{},s({},o(e.code),!1))}))};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),i}(),de=ue.forward,fe=ue.backward,he=ue.left,we=ue.right,pe=ue.jump,ye=ue.crouch;(0,a.useEffect)((function(){we&&(0,h.ZB)(X,-.05,.002,5,H),he&&(0,h.ZB)(X,.05,.002,5,H),we||he||(0,h.ZB)(X,0,.002,5,H)}),[de,fe,he,we]);var ge=O((0,a.useState)(0),2),ve=ge[0],Se=ge[1],be=0,_e=O((0,a.useState)(JSON.parse(localStorage.getItem("loadout"))),2),Ee=_e[0],Me=_e[1],Pe=O((0,a.useState)(!1),2),Ie=(Pe[0],Pe[1]);(0,a.useEffect)((function(){(0,g.Qx)()>0&&(ye?(0,h.ZB)(ve,3,.05,9,Se):(0,h.ZB)(ve,3.55,.05,9,Se))}),[ye]);var Ae=O((0,a.useState)(1),2),je=Ae[0],Oe=Ae[1],ke=O((0,a.useState)(1),2),xe=ke[0],Ce=ke[1],Le=O((0,a.useState)(1),2),Re=Le[0],De=Le[1],ze=O((0,a.useState)(1),2),Ue=ze[0],Te=ze[1];(0,a.useEffect)((function(){(0,h.ZB)(je,Re,.05,20,Oe)}),[Re]),(0,a.useEffect)((function(){(0,h.ZB)(xe,Ue,.05,20,Ce)}),[Ue]),(0,c.z)((function(e,r){new f.Raycaster(G.current.position,new f.Vector3(0,-1,0),1,1e3);var a=new f.Vector3(0,0,0),o=new f.Vector3;S.getWorldDirection(o),o.toArray();var n=new f.Vector3;n.setFromMatrixColumn(S.matrix,0),n.crossVectors(S.up,n);var i=new f.Vector3;i.setFromMatrixColumn(S.matrix,0),(0,g.Qx)()>0&&(K.current.jumping&&!x?(Te(de?.75:fe?-.5:0),De(we?.5:he?-.5:0),(0,p.l)("jump")):K.current.crouching&&!x?(Te(de?.6:fe?-.6:0),De(we?.6:he?-.6:0),!de||we||he||K.current.jumping||(0,p.l)("cf"),de||we||he||K.current.jumping||(0,p.l)("crouch")):x||(Te(de?1:fe?-1:0),De(we?1:he?-1:0),we&&de&&!K.current.jumping?(0,p.l)("sr"):he&&de&&!K.current.jumping&&(0,p.l)("sl"),!de||we||he||K.current.jumping||(0,p.l)("run"),we&&!de?(0,p.l)("r"):!he||de||K.current.jumping||(0,p.l)("l"),we||he||de||fe||K.current.jumping||(0,p.l)("idle")),K.current.crouching=!(!ye||x)),0!==Re&&0!==Ue?(a.add(n.clone().multiplyScalar(q*Ue)).add(i.clone().multiplyScalar(q*Re)),a.clampLength(-q,q)):0!==Re?a.add(i.clone().multiplyScalar(q*Re)):0!==Ue&&a.add(n.clone().multiplyScalar(q*Ue)),Y.velocity.set(a.x*r,K.current.vel[1],a.z*r),S.eulerOrder="YXZ",x||S.position.set(G.current.position.x,ve+G.current.position.y,G.current.position.z),Z.current&&Z.current.position.set(G.current.position.x,G.current.position.y,G.current.position.z),W.current&&W.current.position.set(G.current.position.x,G.current.position.y,G.current.position.z),R(o.toArray()),window.CameraPosition=G.current.position.toArray(),window.CameraRotation=S.rotation.toArray();var c=new f.Vector3;S.getWorldDirection(c),window.CameraDirection=c.toArray();var l=new f.Vector3;if(S.getWorldDirection(l),l.multiplyScalar(.075),l.add(S.position),F.current.position.set(l.x,l.y,l.z),F.current.setRotationFromQuaternion(S.quaternion),(0,g.Qx)()>0&&U((de||fe||we||he)&&!ye?"run":(de||fe||we||he)&&ye?"crouch":"idle"),V.current&&function(e,r){var a=t.id,o=[],n=[];e.toArray(o),r.toArray(n),t.emit("move",{id:a,rotation:n,position:o})}(G.current.position,o),K.current.jumping&&K.current.vel[1]<0&&!x&&0!==new f.Raycaster(G.current.position,new f.Vector3(0,-1,0),0,.2).intersectObjects(E.children).length&&(K.current.jumping=!1),pe&&!K.current.jumping&&!x){var m=Date.now();m>K.current.timeTojump&&(K.current.timeTojump=m+400,K.current.jumping=!0,Y.velocity.set(K.current.vel[0],Q,K.current.vel[2]))}}));var Ve=O((0,a.useState)(0),2),Fe=Ve[0],Ne=Ve[1];function We(e){var t;return a.createElement(e.ref,(j(t={camera:S,Arms:l.arms,PrimaryAmmo:M.PrimaryAmmo,setPrimaryAmmo:o,PrimaryClip:M.PrimaryClip,setPrimaryClip:r,state:z},"camera",S),j(t,"scene",E),t))}return(0,a.useEffect)((function(){window.addEventListener("wheel",(function(e){y(),1==(0,g.vO)()&&(e.deltaY>1&&(be-1>=0?be-=1:be=2),e.deltaY<-1&&(be+1<=2?be+=1:be=0),Ie(!1),Me(Ee),Ne(be),t.emit("selW",be),y(),window.GameUIUpdate(),window.selectedWeapon=be)}))}),[]),(0,a.useEffect)((function(){y()}),[be]),(0,a.useEffect)((function(){console.log("Make_Weapons"),(0,g.v_)().setPrimaryAmmo(w.m[Ee[0]].ammoSize),(0,g.v_)().setPrimaryClip(w.m[Ee[0]].clipSize),(0,g.v_)().setSecondaryAmmo(w.m[Ee[1]].ammoSize),(0,g.v_)().setSecondaryClip(w.m[Ee[1]].clipSize),(0,g.v_)().setMeleeAmmo(w.m[Ee[2]].ammoSize),(0,g.v_)().setMeleeClip(w.m[Ee[2]].clipSize)}),[]),(0,a.useEffect)((function(){t.emit("loadout",Ee)}),[Ee]),(0,a.useEffect)((function(){var e=function(e){F.current&&(oe(ee+Math.PI/180*(e.movementX/5)),se(ie+Math.PI/180*(e.movementY/3)))};return window.addEventListener("mousemove",e),function(){window.removeEventListener("mousemove",e)}}),[]),(0,a.useEffect)((function(){var e=function(e){switch(e.key){case"1":if(y(),1==(0,g.vO)()){var r=0;Ie(!1),Ne(r),t.emit("selW",r),y(),window.GameUIUpdate(),window.selectedWeapon=r}break;case"2":y(),1==(0,g.vO)()&&(r=1,Ie(!1),Ne(r),t.emit("selW",r),y(),window.GameUIUpdate(),window.selectedWeapon=r);break;case"3":y(),1==(0,g.vO)()&&(r=2,Ie(!1),Ne(r),t.emit("selW",r),y(),window.GameUIUpdate(),window.selectedWeapon=r)}};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[]),(0,c.z)((function(){N.current&&(te((0,b.t7)(ee,ae,.1)),ce((0,b.t7)(ie,me,.1)))})),(0,a.useEffect)((function(){S.near=.001}),[]),(0,a.useEffect)((function(){V.current&&V.current.lock()}),[V.current]),a.createElement(a.Fragment,null,a.createElement("group",null,x?a.createElement(A,{targetPosition:G.current,target:Z.current}):a.createElement(i.q,{minPolarAngle:.01,maxPolarAngle:3,ref:V,camera:S})),a.createElement("group",{ref:F,scale:[.1,.1,.1],renderOrder:2},a.createElement("group",{ref:N,position:[.3,-.3,0],rotation:[ie,ee,X]},0==Fe?We(w.m[Ee[0]]):"",1==Fe?We(w.m[Ee[1]]):"",2==Fe?We(w.m[Ee[2]]):"")),a.createElement("group",{ref:Z}))},C=r(5977),L=r(8537),R=r(3593),D=r(1217);const z=r.p+"6da4e5170eabe08000fe505f5fe44d53.hdr",U=r.p+"d516aec7c37e8bbe2c7d8a564c2dbd77.gltf";function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}E.L.preload(U),r(4580);var V=function(){var e,t,r=(e=(0,d.u)((function(){return{rotation:[-Math.PI/2,0,0],position:[0,-.25,0],material:{friction:.1}}})),t=1,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return a.createElement("mesh",{ref:r,receiveShadow:!0,scale:[1e3,1e3,1e3]},a.createElement("planeBufferGeometry",{receiveShadow:!0}),a.createElement("meshPhongMaterial",{color:"skyblue",receiveShadow:!0}))},F=r(4975),N=r(2248);const W=r.p+"e6f09b38c4af066ad670f4c73cf99f82.gltf",Z=r.p+"c0aee2279cfa93d8082adfd342c1c46e.wav",q=r.p+"5ca3a9e406a210677e94242c8b57b770.wav",Q=r.p+"f7f5f1d0fa83427343fdcb073f427ac5.wav",B=r.p+"e53f25e430cbf5a3faf1a3b7069e3fc0.wav",G=r.p+"5e83dce1b8046fdffdab8ebd3f9395a2.wav",Y={"0x000000":{name:"",url:" ",range:0},"0x000001":{name:"Shotgun shot",url:Z,range:25},"0x000002":{name:"Shotgun reload",url:q,range:15},"0x000003":{name:"Shotgun cock",url:Q,range:20},"0x000004":{name:"Pistol shot",url:B,range:16},"0x000006":{name:"Pistol clip in",url:r.p+"0c4f1814219feab0155b094570761ec5.wav",range:12},"0x000005":{name:"Pistol reload",url:G,range:12},"0x000007":{name:"Deagle fire",url:r.p+"3b274c8682c7fc96abbe53326e5be8cd.wav",range:26},"0x000008":{name:"Deagle reload",url:r.p+"8e53b08af31e334bfbf5b6e00e6167de.wav",range:20},"0x000009":{name:"Tranquilizer Fire",url:r.p+"28036a946866eed4c5b503f4f2d27696.wav",range:18},"0x000010":{name:"Tranquilizer Hit",url:r.p+"b64ca92607986d264a8ac849ee12ac3d.wav",range:20}},K=r.p+"img/deagles__GS6QQ.png",$=r.p+"img/fists__RuXne.png",X=r.p+"img/shotgun__3ZhYB.png",H=r.p+"img/handgun_stock__1lVqZ.png";function J(e,t){switch(e){case"deagles":return K;case"shotgun":return X;case"fists":return $;case"pistol":return H;default:return""}}const ee=r.p+"img/health__9FyW/.png",te=r.p+"img/health_red__jkVNy.png",re=r.p+"img/ammo_blue__3GNpY.png",ae=r.p+"img/ammo_green__uJWmQ.png";r(8647);var oe=r(6826);const ne=r.p+"68adec7ac132dafe6e705b33f70389c7.gltf";function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ce(e){var t=e.CollisionData;return a.createElement(a.Fragment,null,t.map((function(e){return a.createElement(le,{item:e})})))}function le(e){var t,r,o=e.item,n=(t=(0,d.a)((function(){return{args:o.size,mass:1,type:"Kinematic",position:o.position,material:{friction:1,restitution:0}}})),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return n}}(t,r)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0];return n[1],a.createElement("group",{ref:i},a.createElement("mesh",null,a.createElement("boxGeometry",{args:o.size}),a.createElement("meshBasicMaterial",{lightMapIntensity:100,color:"green",transparent:!0,opacity:.5})))}function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},me.apply(this,arguments)}function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function fe(e){var t=(0,E.L)(ne),r=t.nodes,o=t.materials;(0,a.useEffect)((function(){(0,P.l)(r)}),[]);var n,i,c=(0,d.a)((function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({mass:1,type:"Static",position:[-2.6875,-2.625,-3.5625]},e)})),l=(i=2,function(e){if(Array.isArray(e))return e}(n=c)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return n}}(n,i)||function(e,t){if(e){if("string"==typeof e)return de(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=l[0];return l[1],a.createElement(a.Fragment,null,a.createElement("group",me({},e,{dispose:null,scale:2}),a.createElement("group",{position:[-7.96875,2.625,5.0625]},a.createElement("mesh",{ref:m,castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w048"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-3.5625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w049"].geometry,material:o.Material_0,position:[0,1.3125,-.9375],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[-7.96875,2.625,7.6875]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w050"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-3.5625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w051"].geometry,material:o.Material_0,position:[0,1.3125,-.9375],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[26.18124962,0,-1.5]},a.createElement("group",{position:[-7.96875,2.625,5.0625]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w052"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-3.5625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w053"].geometry,material:o.Material_0,position:[0,1.3125,-.9375],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[-7.96875,2.625,7.6875]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w054"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-3.5625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w055"].geometry,material:o.Material_0,position:[0,1.3125,-.9375],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[-12.96875,2.625,5.0625]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w056"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-3.5625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w057"].geometry,material:o.Material_0,position:[0,1.3125,-.9375],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[-7.96875,2.625,10.3125]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w058"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-3.5625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w059"].geometry,material:o.Material_0,position:[0,1.3125,-.9375],rotation:[-Math.PI,0,0]}))),a.createElement("group",{position:[-3.9375,2.625,3.84375],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w038"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w039"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[-6.5625,2.625,3.84375],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w036"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w037"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[0,0,.0046875]},a.createElement("group",{position:[-6.5625,2.625,7.51875019],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w040"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w041"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[-3.9375,2.625,7.51875019],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w042"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w043"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[-1.375,2.625,7.51875019],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w044"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w045"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[1.25,2.625,7.51875019],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w046"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w047"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]}))),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w001"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w002"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w003"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w004"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w005"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w006"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w007"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w008"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w009"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w010"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w011"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w012"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w013"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w014"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w015"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w016"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w017"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w018"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w019"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w020"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w021"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w022"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w023"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w024"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w025"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w026"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_floor_b-w027"].geometry,material:o.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),a.createElement("group",{position:[.03125,0,-.1875]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w"].geometry,material:o.Material_0}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w001"].geometry,material:o.Material_0}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w002"].geometry,material:o.Material_0}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w003"].geometry,material:o.Material_0}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w004"].geometry,material:o.Material_0}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w005"].geometry,material:o.Material_0}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w006"].geometry,material:o.Material_0,position:[-2.75,1.3125,-2.625],rotation:[0,-Math.PI/2,0]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w007"].geometry,material:o.Material_0,position:[-2.75,1.3125,-2.625],rotation:[0,-Math.PI/2,0]})),a.createElement("group",{position:[0,3.9375,-.8515625],rotation:[0,0,-Math.PI]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w008"].geometry,material:o.Material_0,position:[.03125,-1.3125,.6640625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w009"].geometry,material:o.Material_0,position:[.03125,-1.3125,.6640625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w010"].geometry,material:o.Material_0,position:[.03125,-1.3125,.6640625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w011"].geometry,material:o.Material_0,position:[-2.71875,0,-1.9609375],rotation:[0,-Math.PI/2,0]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w012"].geometry,material:o.Material_0,position:[-2.71875,0,-1.9609375],rotation:[0,-Math.PI/2,0]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w013"].geometry,material:o.Material_0,position:[.03125,-1.3125,.6640625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w014"].geometry,material:o.Material_0,position:[.03125,-1.3125,.6640625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w015"].geometry,material:o.Material_0,position:[.03125,-1.3125,.6640625]})),a.createElement("group",{position:[3.9375,2.625,3.84375],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w022"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w023"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[6.5625,2.625,3.84375],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w020"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w021"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[9.1875,2.625,3.84375],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w018"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w019"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[11.8125,2.625,3.84375],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w016"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w017"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[-.09375,0,3.6875]},a.createElement("group",{position:[6.5625,2.625,3.84375],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w028"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w029"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[3.9375,2.625,3.84375],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w030"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w031"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[14.4375,2.625,3.84375],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w032"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w033"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[17.0625,2.625,3.84375],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w034"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w035"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[11.8125,2.625,3.84375],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w024"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w025"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),a.createElement("group",{position:[9.1875,2.625,3.84375],rotation:[0,-Math.PI/2,0]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w026"].geometry,material:o.Material_0,position:[-2.6875,-2.625,-2.625]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["cc_wall_b-w027"].geometry,material:o.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})))),a.createElement(ce,{CollisionData:[{type:"box",size:[11,0,16],position:[0,0,0]},{type:"box",size:[56,0,8],position:[10,0,12]},{type:"box",size:[12,0,5.5],position:[32,0,5.25]}]}))}E.L.preload(ne);var he=r(4206),we=r.n(he);a.PureComponent;const pe=r.p+"859258808ecf21e4f5eacc823ad82993.gltf";function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ge(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ve(e){var t=e.startPosition,r=e.rotation,o=e.direction,n=e.socketID,i=e.damagerID,l=(0,E.L)(pe),m=l.nodes,s=(l.materials,(0,c.y)().scene),u=ye((0,a.useState)("Dynamic"),2),h=u[0],w=(u[1],ye((0,d.a)((function(){return{args:[.035,.035,.3],position:t,mass:1e-10,rotation:r,fixedRotation:!0,type:h}})),2)),p=w[0],y=w[1];(0,a.useEffect)((function(){console.log(r),(0,P.l)(m),y.applyLocalImpulse([0,0,-5e-9],[0,0,0])}),[]);var g=ye((0,a.useState)(!1),2),v=g[0],S=g[1];return(0,c.z)((function(){if(0==v){var e=[];new f.Raycaster(p.current.position,(new f.Vector3).fromArray(o),0,.6).intersectObjects(s.children,!0,e),e[0]&&e[0].object&&e[0].object.userData.id&&(n==i&&(window.Server.emit("dmg",{id:e[0].object.userData.id,dmg:10,weapon:"tranq_dart"}),window.Server.emit("AddEffect",{id:e[0].object.userData.id,name:"tranqualizer",time:8}),window.Server.emit("audioEmit",{position:[0,0,0],type:"0x000010",private:e[0].object.userData.id})),S(!0),y.fixedRotation=!1,y.velocity.set(0,0,0))}})),a.createElement("group",{dispose:null,ref:p},a.createElement("group",{position:[0,0,.06]},a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:m.cube.geometry,material:m.cube.material,position:[-.09,0,-.55]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:m.cube_5.geometry,material:m.cube_5.material,position:[-.09,0,-.55]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:m.cube_1.geometry,material:m.cube_1.material,position:[-.09,0,-.55]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:m.cube_2.geometry,material:m.cube_2.material,position:[0,0,.07],rotation:[0,0,Math.PI/2]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:m.cube_3.geometry,material:m.cube_3.material,position:[0,0,.07],rotation:[0,0,Math.PI/4]}),a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:m.cube_4.geometry,material:m.cube_4.material,position:[0,0,.07],rotation:[0,0,2.36]})))}E.L.preload(pe),r(9974);var Se=r(6337),be=r(3857);function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}r(8888);var Me=function(e){var t=e.position,r=e.rotation,o=void 0===r?[0,0,0,"XYZ"]:r,n=(e.id,e.animState),i=e.hideParts,c=void 0===i?[]:i,l=e.weaponState,m=e.Parts,s=e.loadout,u=void 0===s?[]:s,h=e.selW,p=void 0===h?0:h,y=(0,a.useRef)(),g=(0,a.useRef)(),S=((0,a.useRef)(),(0,a.useRef)(),(0,a.useRef)()),b=(0,E.L)(Se.Z),_=b.nodes,M=(b.materials,b.animations),I=((0,be.v)(M,y).actions,_e((0,a.useState)([0,0,0]),2)),A=I[0],j=(I[1],_e((0,a.useState)(!0),2));j[0],j[1],(0,a.useEffect)((function(){(0,P.l)(_)}),[]),(0,a.useEffect)((function(){var e=new f.Vector3;(e=(new f.Vector3).fromArray(o)).y=0,e.add(y.current.position),y.current.lookAt(e)}),[o]);var O=u.length>0?w.m[u[p]]:{};(0,a.useEffect)((function(){O=u.length>0?w.m[u[p]]:{}}),[p]);var k=_e((0,d.a)((function(){return{args:[1,1.5,.5],position:[0,2.25,0],type:"Dynamic",mass:10,fixedRotation:!1}})),2),x=k[0],C=(k[1],_e((0,d.a)((function(){return{args:[1,1.5,.5],position:[0,2.25,0],type:"Dynamic",mass:10,fixedRotation:!1}})),2)),L=C[0],R=(C[1],_e((0,d.a)((function(){return{args:[1,1,1],position:[0,3.5,0],type:"Dynamic",fixedRotation:!1,mass:10}})),2)),D=R[0];return R[1],(0,a.useEffect)((function(){x.current.add(L.current),L.current.add(D.current)}),[]),a.createElement("group",{ref:y,rotation:A,dispose:null,position:t},a.createElement("group",{ref:g}),a.createElement("group",{name:"blockbench_export"},a.createElement("group",null,a.createElement("group",{ref:x,name:"player_coll_Root",rotation:[Math.PI,0,Math.PI]},a.createElement("group",null,a.createElement("group",{ref:L,name:"player_coll_body"},a.createElement("group",{ref:D,name:"player_coll_HeadMod"},c.includes("head")?"":a.createElement(v.Z,null)),a.createElement("group",{name:"player_coll_arms",position:[0,1.25,0],ref:S},O.renderer?a.createElement(O.renderer,{state:l,nodes:(0,E.L)(O.model).nodes,animations:(0,E.L)(O.model).animations,group:S,animate:!0,Arms:m.arms}):""),m?a.createElement(m.body,{group:y,animState:n}):"")),m?a.createElement(m.legs,null):""))))};function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}E.L.preload(Se.Z);var Ae=[],je={points:{blue:0,green:0}},Oe=[],ke=(new AudioContext,"green");function xe(){(0,a.useEffect)((function(){we().get(window.ServerIP+"/config").then((function(e){(0,g.v6)(e.data)}))}),[]);(0,a.useContext)(_.dB),(0,a.useRef)(),(0,a.useRef)(),(0,a.useEffect)((function(){(0,g.v_)().setTeam(ke)}),[ke]);var e=Pe((0,a.useState)(["bab","daba","naba"]),2),t=(e[0],e[1],Pe((0,a.useState)({head:v.Z,body:S.SA,arms:{L:S.O$,R:S.qm},legs:S.ne}),2)),r=t[0],i=(t[1],(0,c.C)(D.E,W),(0,a.useRef)()),l=Pe((0,a.useState)(null),2),m=l[0],s=l[1],u=Pe((0,a.useState)({}),2),w=u[0],b=u[1],E=Pe(a.useReducer((function(e){return e+1}),0),2)[1];window.gameforceUpdate=function(){E()},(0,a.useEffect)((function(){var e=(0,o.io)(window.ServerIP,{reconnection:!1});return s(e),window.Server=e,function(){m&&m.disconnect()}}),[]);var M=Pe((0,a.useState)(125),2),I=M[0];M[1],(0,a.useEffect)((function(){(0,g.Qx)()<=0&&setTimeout((function(){m.emit("respawn")}),1e3*(0,g.iE)().sv.respawnTime)}),[(0,g.Qx)()]),(0,a.useEffect)((function(){if(m){m.on("move",(function(e){b(e),(0,g.x9)(e),window.health=e[m.id].health,(0,g.XV)(e[m.id].health),e[m.id].health<=0&&(0,p.l)("dead")})),m.on("spawnProjectile",(function(e){var t,r,a,o,n;console.log("SPAWNING"),t="tranq_dart",r=e.position,a=e.rotation,o=e.direction,n=e.id,Oe.push({type:t,startPosition:[r[0],r[1]+3.55,r[2]],rotation:a,direction:o,shooterID:n,id:"projectile_"+t+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)})})),m.on("kill",(function(e){var t=Ae;t.push(e),Ae=t.reverse(),setTimeout((function(){Ae.splice(Ae.indexOf(e),1)}),2e3)}));var e={name:localStorage.getItem("name"),uid:localStorage.getItem("uid")};m.on("connect",(function(){m.emit("UserData",JSON.stringify(e))})),m.on("disconnect",(function(e){})),m.on("connect_error",(function(e){setTimeout((function(){window.isGame=!1,window.location.hash="#mainmenu",window.forceUpdate()}),2e3)})),m.on("audio",(function(e){A.create(e.type,e.position,e.private)})),m.on("gamedata",(function(e){je=e}))}}),[m]),(0,a.useEffect)((function(){var e=function(e){window.ReloadLogic(e)};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[]),(0,a.useEffect)((function(){var e=function(e){if("Numpad7"==e.code){var t=m.id;window.Server.emit("dmg",{id:t,dmg:1e3,weapon:"self"}),window.forceUpdate(),E(),window.GameUIUpdate()}};return m&&window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[m]);var A={create:function(e,t,r){if(!r||r==m.id){var a=document.createElement("audio");a.src=Y[e].url;var o=(new f.Vector3).fromArray(window.CameraPosition).distanceTo((new f.Vector3).fromArray(t)),n=r?1:1-(0,h.uZ)(o,0,Y[e].range,0,1);a.volume=n>=0?n:0,document.body.appendChild(a),a.play(),a.onended=function(){document.body.removeChild(a)},1==(0,g.yO)()[m.id].effects.tranqualizer?(console.log("TIME",r),r||(a.playbackRate=.9)):a.playbackRate=1,a.ontimeupdate=function(){if(!r){var o=(new f.Vector3).fromArray(window.CameraPosition).distanceTo((new f.Vector3).fromArray(t)),n=1-(0,h.uZ)(o,0,Y[e].range,0,1);a.volume=n>=0?n:0,1==(0,g.yO)()[m.id].effects.tranqualizer?(console.log("TIME",r),r||(a.playbackRate=.9)):a.playbackRate=1}}}}},j=!1;return(0,a.useEffect)((function(){setInterval((function(){1==j&&(window.ClickAnim(),window.ShootClick())}),30);var e=function(e){j=!0},t=function(e){j=!1};return document.addEventListener("mousedown",e),document.addEventListener("mouseup",t),function(){document.removeEventListener("mousedown",e),document.removeEventListener("mouseup",t)}}),[]),(0,a.useEffect)((function(){m&&(window.ID=m.id)}),[m]),a.createElement(a.Fragment,null,m?a.createElement(a.Fragment,null,a.createElement(C.Xz,{style:{filter:w[m.id]&&1==w[m.id].effects.tranqualizer?"grayscale(200%) brightness(75%) blur(2px)":"",transition:"filter 1s ease-in-out"},onFocus:function(){navigator.keyboard.lock()},ref:i,onKeyUp:function(e){window.RKey(e),e.key},className:"GameViewport ".concat(w[m.id]&&1==w[m.id].effects.tranqualizer?"shakeDrunk":""),onClick:function(){},dpr:(Math.min(window.devicePixelRatio),2/12*parseFloat(localStorage.getItem("setting.pixelScale"))),shadows:{autoUpdate:!0,enabled:!0,type:f.PCFSoftShadowMap}},a.createElement(L.j,null),a.createElement(d.P,{gravity:[0,-9,0],tolerance:0,iterations:50,broadphase:"Naive"},(0,g.Qx)()>0?a.createElement(x,{socket:m,id:m.id,Parts:r}):a.createElement(a.Fragment,null,a.createElement(Le,{clients:w,killer:w[m.id].lastDamage})),a.createElement(V,null),a.createElement(fe,null),Oe.map((function(e){return(e.type="tranq_dart")?a.createElement(ve,{socketID:m.id,damagerID:e.shooterID,direction:e.direction,startPosition:e.startPosition,rotation:e.rotation,key:e.id}):a.createElement(a.Fragment,null)})),Object.keys(w).filter((function(e){return e!==m.id})).map((function(e){var t=(0,g.yO)()[e],o=t.position,n=t.rotation,i=t.loadout,c=t.selW,l=t.health;return l>0?a.createElement("group",{position:o},a.createElement(y.M,{key:e,id:e,position:o,rotation:n,animState:w[e].state,weaponState:w[e].WState,Parts:r,loadout:i,selW:c,health:l})):a.createElement(Me,{key:e,id:e,position:o,rotation:n,animState:w[e].state,weaponState:w[e].WState,Parts:r,loadout:i,selW:c,health:l})}))),a.createElement(R.qA,{background:!0,files:z}),a.createElement("ambientLight",{color:"#feb489",intensity:.3}),a.createElement(P.k,{color:"#ffffff",shadowBias:-.004,intensity:2,OriginPosition:[0,5,0],position:[0,5,0],rotation:[0,0,0],angle:.9}),a.createElement(F.xC,{multisampling:0},"false"!=localStorage.getItem("setting.Vignette")?a.createElement(F.sY,{eskil:!1,offset:.1,darkness:.8}):"","false"!=localStorage.getItem("setting.antialiasing")?a.createElement(F.k,{preset:1,edgeDetectionMode:parseInt(localStorage.getItem("setting.antialiasingMode"))}):"","false"!=localStorage.getItem("setting.AO")?a.createElement(a.Fragment,null,a.createElement(F.K,{blendFunction:N.YQ.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,scale:.5,bias:.5})):"")),a.createElement(Ce,{PlayerHealth:I,clients:w,id:m.id})):"",a.createElement("div",{className:"LoadScreen"},a.createElement("div",{className:"spinner",style:{backgroundImage:"url(".concat(n.Z,")")}})))}function Ce(e){var t=e.clients,r=(e.id,e.PlayerHealth,(0,a.useContext)(_.dB),Pe(a.useReducer((function(e){return e+1}),0),2)[1]);return(0,a.useEffect)((function(){window.GameUIUpdate=function(){r()}}),[]),a.createElement(a.Fragment,null,a.createElement("div",{className:"Points"},a.createElement("p",null,je.points.blue),a.createElement("p",null,je.points.green)),a.createElement("div",{style:{opacity:(0,g.Qx)()>0?1:0},className:"Health"},a.createElement("img",{className:"Red",src:te}),a.createElement("img",{className:(0,g.Qx)()<50?"redFlash":"",src:ee}),a.createElement("p",null,(0,g.Qx)())),a.createElement("div",{className:"KillList"},Ae.map((function(e,r){return a.createElement("div",{className:"Kill",key:JSON.stringify(e)+r},a.createElement("p",{style:{color:"blue"==e.by[1]?"#4a8bed":"#3f9b26"}},t[e.by[0]].name),a.createElement("img",{src:J(e.weapon)}),a.createElement("p",{style:{color:"blue"==e.who[1]?"#4a8bed":"#3f9b26"}},t[e.who[0]].name))}))),a.createElement("div",{className:"cel",style:{opacity:parseFloat(localStorage.getItem("setting.csOP"))/10}}),"horizontal_D"==(0,g.J8)().type?a.createElement("div",{className:"H",style:{width:"".concat((0,g.J8)().range/2,"px"),opacity:parseFloat(localStorage.getItem("setting.csOP"))/10}},a.createElement("div",null),a.createElement("div",null)):"",a.createElement("div",{style:{opacity:(0,g.Qx)()>0?1:0},className:"UIAmmo"},a.createElement("h2",{className:"ClipCount"},0),a.createElement("h3",{className:"AmmoCount"},0),a.createElement("img",{src:"green"==(0,g.v_)().team?ae:re})),a.createElement(oe.o,null,a.createElement("div",{style:{display:"inline-block",width:"200px",height:"100px",background:"blue"}})))}function Le(e){var t=e.killer,r=(e.clients,(0,c.y)().camera),o=Pe((0,a.useState)([0,0,0,"XYZ"]),2);return o[0],o[1],(0,a.useEffect)((function(){var e=setInterval((function(){var e=(new f.Vector3).fromArray((0,g.yO)()[t].position);e.add(new f.Vector3(0,2,0)),r.lookAt(e)}),10);setTimeout((function(){clearInterval(e)}),5e3)}),[]),a.createElement(a.Fragment,null)}}}]);