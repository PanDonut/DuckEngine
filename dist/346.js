/*! For license information please see 346.js.LICENSE.txt */
"use strict";(global.webpackChunkelectron_react_webpack_boilerplate=global.webpackChunkelectron_react_webpack_boilerplate||[]).push([[346],{826:(e,t,o)=>{o.d(t,{o:()=>c});var r=o(294);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var r,n,a=[],i=!0,c=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(c)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function i(e){switch(e){case"button":return"#0096e0";case"div":return"#72fa48";case"input":return"purple";default:return"red"}}function c(e){var t=n((0,r.useState)(!1),2),o=t[0],a=t[1],c=n((0,r.useState)(""),2),l=c[0],m=c[1];return(0,r.useEffect)((function(){m("UI_"+function(e){for(var t="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=o.length,n=0;n<20;n++)t+=o.charAt(Math.floor(Math.random()*r));return t}().toUpperCase()),console.log(e.children)}),[]),r.createElement(r.Fragment,null,""!=l&&e.children?r.createElement("div",{id:l,onMouseOver:function(e){a(!0)},onMouseOut:function(e){a(!1)}},r.createElement(r.Fragment,null,e.children,1==o?r.createElement("div",{className:"ElementControl",style:{outlineColor:i(e.children.type)}},r.createElement("div",{className:"ElementData",style:{backgroundColor:i(e.children.type)}},r.createElement(r.Fragment,null,e.children.type&&"div"!=e.children.type?e.children.type+" ":"",e.children.props.children&&e.children.props.children.toLowerCase?"'"+e.children.props.children.toLowerCase()+"' ":"",e.children.props.value&&e.children.props.value.toLowerCase?"'"+e.children.props.value.toLowerCase()+"' ":"",e.children.key?e.children.key+" ":""))):"")):"")}},732:(e,t,o)=>{function r(e,t,o,r,n){var a=setInterval((function(){t>e&&(n(e+=o),e>t&&clearInterval(a)),t<e&&(n(e-=o),e<t&&clearInterval(a))}),r)}function n(e,t,o,r){var n=0,a=setInterval((function(){n==o?clearInterval(a):(++n,r(e))}),t)}function a(e,t){return Math.random()*(e-t)+t}o.d(t,{$3:()=>a,ZB:()=>r,ib:()=>n,uZ:()=>i});var i=function(e,t,o,r,n){return(e-t)*(n-r)/(o-t)+r}},180:(e,t,o)=>{o.d(t,{Z:()=>i}),o(294);var r=o(477);function n(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}const i=a((function e(t,o,n,a,i,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var l=function(e){var c=new r.MeshBasicMaterial({color:new r.Color(16777215),opacity:.1,transparent:!0}),l=new r.Mesh(new r.SphereGeometry(.01,16,16));l.material=c,a.add(l),l.position.set(t,o,n);var m=Math.randomInRange(-4,-.1,1);l.position.add(new r.Vector3(Math.randomInRange(m*i,Math.abs(m)*i,1),m,Math.randomInRange(m*i,Math.abs(m)*i,1))),function e(){requestAnimationFrame(e),l.position.add(new r.Vector3(Math.randomInRange(-.001,.001,6),Math.randomInRange(-.001,.001,6),Math.randomInRange(-.001,.001,6)))}()},m=0;m<150;m++)l()}))},526:(e,t,o)=>{o.d(t,{k:()=>f,l:()=>u});var r=o(413),n=o(294),a=o(477),i=o(732),c=o(180);const l=o.p+"img/gradient_ray__OD4pa.png";function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},m.apply(this,arguments)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function u(e){Object.entries(e).forEach((function(e){e[1].material&&(e[1].material.side=a.FrontSide,e[1].material.shadowSide=a.FrontSide)}))}function f(e){var t,o,u=(0,r.y)(),f=u.gl,p=(u.camera,u.scene),d=(0,n.useRef)(),h=(t=(0,n.useState)(0),o=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var r,n,a=[],i=!0,c=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(c)throw n}}return a}}(t,o)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(e,t):void 0}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=h[0],w=h[1];return f.shadowMap.enabled=!0,(0,n.useEffect)((function(){if(d.current){var t=new a.Raycaster(new a.Vector3(e.OriginPosition[0],e.OriginPosition[1],e.OriginPosition[2]),new a.Vector3(0,-1,0),.1,1e3);t.intersectObjects(p.children)[0]&&w(t.intersectObjects(p.children)[0].distance),console.log(t.intersectObjects(p.children)),d.current.shadow.camera.updateProjectionMatrix(),d.current.shadow.mapSize=new a.Vector2(1024*parseFloat(localStorage.getItem("setting.shadowQ")),1024*parseFloat(localStorage.getItem("setting.shadowQ"))),d.current.transparent=!0,d.current.depthWrite=!1,d.current.shadow.bias=-.004,d.current.shadow.camera.left=100,d.current.shadow.camera.right=100,d.current.shadow.camera.top=100,d.current.shadow.camera.bottom=100,new c.Z(e.OriginPosition[0],e.OriginPosition[1],e.OriginPosition[2],p,e.angle,d.current)}}),[d]),console.log(e.angle),n.createElement(n.Fragment,null,n.createElement("spotLight",m({castShadow:!0,ref:d},e)),n.createElement("mesh",{frustumCulled:!1,castShadow:!1,receiveShadow:!1,position:e.position},n.createElement("coneGeometry",{args:[23.8*e.angle,6*y,100,100]}),n.createElement("meshBasicMaterial",{color:e.color?e.color:"#ffffff",alphaMap:(new a.TextureLoader).load(l),transparent:!0,opacity:(0,i.uZ)(e.intensity,0,10,0,1),side:a.DoubleSide})))}},346:(e,t,o)=>{o.r(t),o.d(t,{default:()=>lo});var r=o(294),n=o(792),a=o(187),i=o(856);o.p;var c=o(413);function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach((function(t){s(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var f=o(822),p=o(477),d=o(732);o.p;const h=o.p+"d6b8dd038e66bfaefb75dae6d0317300.gltf";var y=o(882),w=o(951),g=!1,E={type:"horizontal_D",range:90};function b(){return console.log(g),g}function v(e){console.log("settingCanShoot",e),g=e}function S(){return E}function _(e){console.log("settingCanShoot",e),E=e}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},P.apply(this,arguments)}function I(e,t,o,n){return function(o){var n=(0,y.L)(t);return r.createElement(e,P({},o,{gltfHook:n,animHook:function(e,t){return(0,w.v)(e,t)}}))}}var R=function(e){var t=e.value,o=e.didUpdate;return(0,r.useEffect)((function(){o(t)}),t),null};function A(e){var t=(0,w.v)(e.animations,e.group).actions;(0,r.useEffect)((function(){t["animation.viewmodel.draw"].setLoop(p.LoopOnce,1),t["animation.viewmodel.draw"].weight=2,t["animation.viewmodel.draw"].play(),t["animation.viewmodel.hold"].play(),window.addEventListener("keyup",(function(e){"f"==e.key&&(t["animation.viewmodel.inspect"].stop(),t["animation.viewmodel.inspect"].setLoop(p.LoopOnce,1),t["animation.viewmodel.inspect"].weight=2,t["animation.viewmodel.inspect"].timeScale=1,t["animation.viewmodel.inspect"].play())}))}),[]);var o,n,a=1;return(0,r.useEffect)((function(){window.ClickAnim=function(o){if(window.gameforceUpdate(),parseInt(document.getElementsByClassName("ClipCount")[0].innerHTML)>0&&1==b())if("basic"==e.DiffAnims)t["animation.viewmodel.inspect"].stop(),t["animation.viewmodel.fire"].timeScale=1.7,t["animation.viewmodel.fire"].stop(),t["animation.viewmodel.fire"].setLoop(p.LoopOnce,1),t["animation.viewmodel.fire"].weight=3,t["animation.viewmodel.fire"].play();else if("random"==e.DiffAnims){var r=e.anims[e.anims.length*Math.random()|0];t["animation.viewmodel.inspect"].stop(),t[r].timeScale=1.7,t[r].stop(),t[r].setLoop(p.LoopOnce,1),t[r].weight=3,t[r].play()}else"pershot"==e.DiffAnims&&(r=e.anims[a-1],t["animation.viewmodel.inspect"].stop(),t[r].timeScale=1.7,t[r].stop(),t[r].setLoop(p.LoopOnce,1),t[r].weight=3,t[r].play(),a=a>=2?1:2)}}),[]),(o=r.useReducer((function(e){return e+1}),0),n=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var r,n,a=[],i=!0,c=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(c)throw n}}return a}}(o,n)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?O(e,t):void 0}}(o,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],(0,r.useEffect)((function(){var o=function(o){console.log(e),parseInt(document.getElementsByClassName("ClipCount")[0].innerHTML)<e.CLIPSIZE&&parseInt(document.getElementsByClassName("AmmoCount")[0].innerHTML)>0&&1==b()&&"r"==o.key&&("each"==e.RELOADTYPE?(t["animation.viewmodel.reload"].stop(),t["animation.viewmodel.reloadFinish"].stop(),t["animation.viewmodel.inspect"].stop(),t["animation.viewmodel.reload"].weight=3,t["animation.viewmodel.reload"].fadeIn(.15),t["animation.viewmodel.reload"].timeScale=1,t["animation.viewmodel.reload"].setLoop(p.LoopRepeat,e.CLIPSIZE-parseInt(document.getElementsByClassName("ClipCount")[0].innerHTML)),t["animation.viewmodel.reload"].play(),setTimeout((function(){t["animation.viewmodel.reload"].stop(),t["animation.viewmodel.reloadFinish"].setLoop(p.LoopOnce,1),t["animation.viewmodel.reloadFinish"].weight=4,t["animation.viewmodel.reloadFinish"].play()}),1e3*e.RELOADTIME*(e.CLIPSIZE-parseInt(document.getElementsByClassName("ClipCount")[0].innerHTML))-150)):"once"==e.RELOADTYPE&&(t["animation.viewmodel.reloadFinish"].setLoop(p.LoopOnce,1),t["animation.viewmodel.reloadFinish"].weight=4,t["animation.viewmodel.reloadFinish"].play(),setTimeout((function(){t["animation.viewmodel.reloadFinish"].stop()}),1e3*e.RELOADTIME)))};return document.addEventListener("keyup",o),function(){document.removeEventListener("keyup",o)}}),[]),(0,r.useEffect)((function(){switch(e.state){case"run":t["animation.viewmodel.move"].timeScale=1,t["animation.viewmodel.move"].play();break;case"crouch":t["animation.viewmodel.move"].timeScale=.5,t["animation.viewmodel.move"].play();break;case"idle":t["animation.viewmodel.move"].fadeOut(.1),setTimeout((function(){t["animation.viewmodel.move"].stop()}),100)}}),[e.state]),e.children}const M=o.p+"a1b0564a15ae3bf6f5e79c3047453e1d.gltf";function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},D.apply(this,arguments)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function k(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function x(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}I(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(c,e);var t,o,n,a,i=(n=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=U(n);if(a){var o=U(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return k(this,e)});function c(){var e;j(this,c);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return x(N(e=i.call.apply(i,[this].concat(o))),"gltf",e.props.gltfHook),x(N(e),"nodes",e.gltf.nodes),x(N(e),"materials",e.gltf.materials),e}return t=c,(o=[{key:"render",value:function(){return r.createElement("group",D({},props,{dispose:null}),r.createElement("group",{position:[0,.03125,-.00520833]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:nodes.cube.geometry,material:nodes.cube.material,position:[0,-.03125,-.04166667]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:nodes.cube_1.geometry,material:nodes.cube_1.material,position:[0,-.03125,-.04166667]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:nodes.cube_2.geometry,material:nodes.cube_2.material,position:[0,-.03125,-.04166667]})))}}])&&C(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component),M);const F=o.p+"38d7cccf17cb2fc453ad9a0cf868515a.gltf",Z=o.p+"718382ac80a476b98dca6e4c15aa82d6.gltf";var B=o(526);function H(e){var t=(0,r.useRef)(),o=(0,y.L)("green"==window.team?Z:F),n=o.nodes,a=(o.materials,o.animations);return(0,w.v)(a,t).actions,(0,r.useEffect)((function(){(0,B.l)(n)}),[]),r.createElement(r.Fragment,null,r.createElement("mesh",{name:"left_arm_1",castShadow:!0,receiveShadow:!0,geometry:n.left_arm_1.geometry,material:n.left_arm_1.material,position:[.75,-2.94,0]}),r.createElement("mesh",{name:"jacket_l_arm",castShadow:!0,receiveShadow:!0,geometry:n.jacket_l_arm.geometry,material:n.jacket_l_arm.material,position:[.75,-2.94,0]}))}function W(e){var t=(0,r.useRef)(),o=(0,y.L)("green"==window.team?Z:F),n=o.nodes,a=(o.materials,o.animations);return(0,w.v)(a,t).actions,(0,r.useEffect)((function(){(0,B.l)(n)}),[]),r.createElement(r.Fragment,null,r.createElement("mesh",{name:"jacket_r_arm",castShadow:!0,receiveShadow:!0,geometry:n.jacket_r_arm.geometry,material:n.jacket_r_arm.material,position:[-.75,-2.94,0]}),r.createElement("mesh",{name:"right_arm_1",castShadow:!0,receiveShadow:!0,geometry:n.right_arm_1.geometry,material:n.right_arm_1.material,position:[-.75,-2.94,0]}))}function G(e){var t=(0,y.L)("green"==window.team?Z:F),o=t.nodes,n=(t.materials,t.animations),a=(0,w.v)(n,e.group).actions;function i(e){a[e].fadeIn(.1),a[e].play(),Object.keys(a).forEach((function(t){t!=e&&(a[t].fadeOut(.1),setTimeout((function(){a[t].stop()}),100))}))}return(0,r.useEffect)((function(){(0,B.l)(o)}),[]),(0,r.useEffect)((function(){switch(e.animState){case"idle":i("animation.player.idle");break;case"crouch":i("animation.player.crouch");break;case"cf":i("animation.player.crouchF");break;case"run":i("animation.player.run");break;case"l":i("animation.player.runL");break;case"r":i("animation.player.runR");break;case"sl":i("animation.player.strafeL");break;case"sr":i("animation.player.strafeR");break;case"dead":i("animation.player.death");break;case"inair":i("animation.player.airwalk");break;case"jump":i("animation.player.jump");break;default:i("animation.player.def")}console.log(a)}),[e.animState]),r.createElement("group",null,r.createElement("group",{name:"jacket_physics",rotation:[-.57,0,0]},r.createElement("group",{name:"cntr",position:[0,0,.25]},r.createElement("mesh",{name:"cube",castShadow:!0,receiveShadow:!0,geometry:o.cube.geometry,material:o.cube.material,position:[0,0,-.25]})),r.createElement("group",{name:"l",position:[-.49,.09,.19],rotation:[-.03,-.55,-.36]},r.createElement("mesh",{name:"cube_1",castShadow:!0,receiveShadow:!0,geometry:o.cube_1.geometry,material:o.cube_1.material,position:[0,0,-.25]})),r.createElement("group",{name:"r",position:[.64,.12,.16],rotation:[-.01,.23,.48]},r.createElement("mesh",{name:"cube_2",castShadow:!0,receiveShadow:!0,geometry:o.cube_2.geometry,material:o.cube_2.material,position:[-.1,-.67,.03],rotation:[-3.1,.01,-2.98]}))),r.createElement("mesh",{name:"body_1",castShadow:!0,receiveShadow:!0,geometry:o.body_1.geometry,material:o.body_1.material,position:[0,-1.5,0]}),r.createElement("mesh",{name:"jacket_body",castShadow:!0,receiveShadow:!0,geometry:o.jacket_body.geometry,material:o.jacket_body.material,position:[0,-1.5,0]}))}function Y(e){var t=(0,r.useRef)(),o=(0,y.L)("green"==window.team?Z:F),n=o.nodes,a=(o.materials,o.animations);return(0,w.v)(a,t).actions,(0,r.useEffect)((function(){(0,B.l)(n)}),[]),r.createElement(r.Fragment,null,r.createElement("group",{name:"left_leg",position:[-.25,1.5,0]},r.createElement("group",{name:"boot_l",position:[-.5,1.81,0]},r.createElement("mesh",{name:"left_leg_2",castShadow:!0,receiveShadow:!0,geometry:n.left_leg_2.geometry,material:n.left_leg_2.material,position:[.75,-2.94,0]}),r.createElement("mesh",{name:"left_leg_3",castShadow:!0,receiveShadow:!0,geometry:n.left_leg_3.geometry,material:n.left_leg_3.material,position:[.75,-2.94,0]})),r.createElement("mesh",{name:"left_leg_1",castShadow:!0,receiveShadow:!0,geometry:n.left_leg_1.geometry,material:n.left_leg_1.material,position:[.25,-1.5,0]})),r.createElement("group",{name:"right_leg",position:[.25,1.5,0]},r.createElement("group",{name:"boot_r",position:[-.5,1.81,0]},r.createElement("mesh",{name:"left_leg_4",castShadow:!0,receiveShadow:!0,geometry:n.left_leg_4.geometry,material:n.left_leg_4.material,position:[.75,-2.94,0]}),r.createElement("mesh",{name:"left_leg_5",castShadow:!0,receiveShadow:!0,geometry:n.left_leg_5.geometry,material:n.left_leg_5.material,position:[.75,-2.94,0]})),r.createElement("mesh",{name:"right_leg_1",castShadow:!0,receiveShadow:!0,geometry:n.right_leg_1.geometry,material:n.right_leg_1.material,position:[-.25,-1.5,0]})))}function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function z(){z=function(){return e};var e={},t=Object.prototype,o=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,o){return e[t]=o}}function l(e,t,o,r){var n=t&&t.prototype instanceof u?t:u,a=Object.create(n.prototype),i=new _(r||[]);return a._invoke=function(e,t,o){var r="suspendedStart";return function(n,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw a;return{value:void 0,done:!0}}for(o.method=n,o.arg=a;;){var i=o.delegate;if(i){var c=b(i,o);if(c){if(c===s)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===r)throw r="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r="executing";var l=m(e,t,o);if("normal"===l.type){if(r=o.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(r="completed",o.method="throw",o.arg=l.arg)}}}(e,o,i),a}function m(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function u(){}function f(){}function p(){}var d={};c(d,n,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(O([])));y&&y!==t&&o.call(y,n)&&(d=y);var w=p.prototype=u.prototype=Object.create(d);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(n,a,i,c){var l=m(e[n],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==V(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var n;this._invoke=function(e,o){function a(){return new t((function(t,n){r(e,o,t,n)}))}return n=n?n.then(a,a):a()}}function b(e,t){var o=e.iterator[t.method];if(void 0===o){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=m(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function v(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(v,this),this.reset(!0)}function O(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return f.prototype=p,c(w,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},g(E.prototype),c(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,o,r,n,a){void 0===a&&(a=Promise);var i=new E(l(t,o,r,n),a);return e.isGeneratorFunction(o)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(w),c(w,i,"Generator"),c(w,n,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var r=t.pop();if(r in e)return o.value=r,o.done=!1,o}return o.done=!0,o}},e.values=O,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(o,r){return i.type="throw",i.arg=e,t.next=o,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),S(o),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var r=o.completion;if("throw"===r.type){var n=r.arg;S(o)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:O(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=void 0),s}},e}function $(e,t,o,r,n,a,i){try{var c=e[a](i),l=c.value}catch(e){return void o(e)}c.done?t(l):Promise.resolve(l).then(r,n)}function K(e){return function(){var t=this,o=arguments;return new Promise((function(r,n){var a=e.apply(t,o);function i(e){$(a,r,n,i,c,"next",e)}function c(e){$(a,r,n,i,c,"throw",e)}i(void 0)}))}}function X(e){var t=e.animations,o=e.nodes,n=e.group,a=(e.materials,e.animate),i=void 0!==a&&a,c=e.state,l=e.Arms,m=(0,w.v)(t,n).actions;function s(e){return u.apply(this,arguments)}function u(){return(u=K(z().mark((function e(t){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m[t].stop(),m[t].fadeIn(.1),m[t].play(),m[t].weight=2,m[t].setLoop(p.LoopOnce,1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.useEffect)((function(){if(1==i)switch(c){case"reload":s("animation.thirdperson.reload");break;case"reloadF":s("animation.thirdperson.Finish");break;case"fire":s("animation.thirdperson.fire")}}),[c]),(0,r.useEffect)((function(){(0,B.l)(o)}),[]),(0,r.useEffect)((function(){1==i&&(m["animation.thirdperson.hold"].play(),m["animation.thirdperson.hold"].weight=1)}),[]),r.createElement(r.Fragment,null,r.createElement("group",{name:"right_arm",position:[.75,.19,0]},r.createElement("group",{name:"WeaponRoot",position:[0,-1.31,0]},r.createElement("group",{name:"WeaponRoot2",position:[.02,.13,-.15],rotation:[Math.PI,0,Math.PI/2]},r.createElement("group",{name:"pump",position:[1.8,.06,.15]},r.createElement("mesh",{name:"pump_1",castShadow:!0,receiveShadow:!0,geometry:o.pump_1.geometry,material:o.pump_1.material,position:[0,0,.02],rotation:[0,-.04,0]})),r.createElement("group",{name:"muzzle",position:[2.26,.06,.32]},r.createElement("mesh",{name:"pyramid",castShadow:!0,receiveShadow:!0,geometry:o.pyramid.geometry,material:o.pyramid.material,position:[-1.33,0,-.09],rotation:[0,0,Math.PI/2]})),r.createElement("group",{name:"base",position:[.94,.06,.24]},r.createElement("mesh",{name:"box",castShadow:!0,receiveShadow:!0,geometry:o.box.geometry,material:o.box.material,position:[.19,-.06,.04]}),r.createElement("mesh",{name:"top_barrel",castShadow:!0,receiveShadow:!0,geometry:o.top_barrel.geometry,material:o.top_barrel.material,position:[.19,-.06,.04]}),r.createElement("mesh",{name:"bottom_barrel",castShadow:!0,receiveShadow:!0,geometry:o.bottom_barrel.geometry,material:o.bottom_barrel.material,position:[.56,0,-.04],rotation:[-Math.PI/4,0,0]}),r.createElement("mesh",{name:"holder",castShadow:!0,receiveShadow:!0,geometry:o.holder.geometry,material:o.holder.material,position:[.19,-.06,.04]}),r.createElement("mesh",{name:"handle",castShadow:!0,receiveShadow:!0,geometry:o.handle.geometry,material:o.handle.material,position:[-.89,0,-.11],rotation:[0,-.92,0]})),r.createElement("group",{name:"trigger",position:[.33,.06,.13]},r.createElement("mesh",{name:"trigger_1",castShadow:!0,receiveShadow:!0,geometry:o.trigger_1.geometry,material:o.trigger_1.material,position:[.01,0,-.02],rotation:[0,-.44,0]})))),l?r.createElement(l.R,null):""),r.createElement("group",{name:"left_arm",position:[-.75,.19,0]},l?r.createElement(l.L,null):""))}function Q(e){var t=e.animations,o=e.nodes,n=e.group,a=e.animate,i=void 0!==a&&a,c=e.state,l=e.Arms,m=(0,w.v)(t,n).actions;function s(e){m[e].fadeIn(.1),m[e].play(),Object.keys(m).forEach((function(t){t!=e&&(m[t].fadeOut(.1),setTimeout((function(){m[t].stop()}),100))}))}return(0,r.useEffect)((function(){(0,B.l)(o)}),[]),(0,r.useEffect)((function(){if(1==i)switch(c){case"hold":default:s("animation.thirdperson.hold");break;case"reload":s("animation.thirdperson.reload");break;case"reloadF":s("animation.thirdperson.Finish");break;case"fire":s("animation.thirdperson.fire")}}),[c]),r.createElement(r.Fragment,null,r.createElement("group",{name:"right_arm",position:[.75,.19,0]},r.createElement("group",{name:"WeaponRoot",position:[0,-1.31,0]},r.createElement("group",{name:"b25cb85a-aaf7-5db1-b1e5-458265e79d97",position:[-.5,2.06,0]},r.createElement("group",{name:"cb13ef03-bbbc-a544-fb32-b648299c41cb"}),r.createElement("group",{name:"dd33cacb-b5b7-85ab-b89f-ae5870996b40"}),r.createElement("group",{name:"c4e74632-865e-4f1c-d6f7-d13aa591e616"})),r.createElement("group",{name:"WeaponRoot2",position:[.06,0,-.19],rotation:[-Math.PI/2,0,Math.PI/2]},r.createElement("group",{name:"hammer",position:[.24,.06,-.01]},r.createElement("mesh",{name:"cube",castShadow:!0,receiveShadow:!0,geometry:o.cube.geometry,material:o.cube.material,position:[.07,0,.06],rotation:[0,-Math.PI/4,0]})),r.createElement("group",{name:"handle",position:[.04,.06,-.12]},r.createElement("mesh",{name:"cube_1",castShadow:!0,receiveShadow:!0,geometry:o.cube_1.geometry,material:o.cube_1.material,position:[-.07,0,.09],rotation:[0,.22,0]}),r.createElement("mesh",{name:"cube_2",castShadow:!0,receiveShadow:!0,geometry:o.cube_2.geometry,material:o.cube_2.material,position:[.08,-.06,-.2]}),r.createElement("mesh",{name:"cube_3",castShadow:!0,receiveShadow:!0,geometry:o.cube_3.geometry,material:o.cube_3.material,position:[.08,-.06,-.2]})),r.createElement("group",{name:"base",position:[.13,0,-.31]},r.createElement("mesh",{name:"cube_4",castShadow:!0,receiveShadow:!0,geometry:o.cube_4.geometry,material:o.cube_4.material}),r.createElement("mesh",{name:"cube_5",castShadow:!0,receiveShadow:!0,geometry:o.cube_5.geometry,material:o.cube_5.material})))),l?r.createElement(l.R,null):""),r.createElement("group",{name:"left_arm",position:[-.75,.19,0]},l?r.createElement(l.L,null):""))}function q(e){var t=e.animations,o=e.nodes,n=e.group,a=e.animate,i=void 0!==a&&a,c=e.state,l=e.Arms,m=(0,w.v)(t,n).actions;function s(e){return u.apply(this,arguments)}function u(){return(u=K(z().mark((function e(t){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m[t].stop(),m[t].fadeIn(.1),m[t].play(),m[t].weight=2,m[t].setLoop(p.LoopOnce,1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.useEffect)((function(){if(1==i)switch(c){case"reload":s("animation.thirdperson.reload");break;case"reloadF":s("animation.thirdperson.Finish");break;case"fire":s("animation.thirdperson.fire")}}),[c]),(0,r.useEffect)((function(){1==i&&(m["animation.thirdperson.hold"].play(),m["animation.thirdperson.hold"].weight=1)}),[]),(0,r.useEffect)((function(){(0,B.l)(o)}),[]),r.createElement(r.Fragment,null,r.createElement("group",{name:"right_arm",position:[.75,.1875,0]},r.createElement("group",{name:"WeaponRoot",position:[0,-1.3125,0]},r.createElement("group",{name:"WeaponRoot2",position:[0,.0625,-.1875],rotation:[-Math.PI/2,0,Math.PI/2]},r.createElement("group",{name:"handle",position:[.1875,-.0625,-.3125]},r.createElement("mesh",{name:"cube_6",castShadow:!0,receiveShadow:!0,geometry:o.cube_6.geometry,material:o.cube_6.material,position:[-.15625,.0625,.28125],rotation:[0,.21816616,0]}),r.createElement("mesh",{name:"cube_7",castShadow:!0,receiveShadow:!0,geometry:o.cube_7.geometry,material:o.cube_7.material}),r.createElement("mesh",{name:"cube_8",castShadow:!0,receiveShadow:!0,geometry:o.cube_8.geometry,material:o.cube_8.material})),r.createElement("group",{name:"hammer",position:[.328125,-.0625,0]},r.createElement("mesh",{name:"cube_9",castShadow:!0,receiveShadow:!0,geometry:o.cube_9.geometry,material:o.cube_9.material,position:[.0375,.0625,.05],rotation:[0,-Math.PI/4,0]})),r.createElement("group",{name:"base",position:[.1875,-.0625,-.3125]},r.createElement("mesh",{name:"cube_10",castShadow:!0,receiveShadow:!0,geometry:o.cube_10.geometry,material:o.cube_10.material}),r.createElement("mesh",{name:"cube_11",castShadow:!0,receiveShadow:!0,geometry:o.cube_11.geometry,material:o.cube_11.material})))),l?r.createElement(l.R,null):""),r.createElement("group",{name:"left_arm",position:[-.75,.1875,0]},r.createElement("group",{name:"WeaponRoot3",position:[0,-1.25,-.1875],rotation:[-Math.PI/2,0,Math.PI/2]},r.createElement("group",{name:"handle2",position:[.1875,-.0625,-.3125]},r.createElement("mesh",{name:"cube",castShadow:!0,receiveShadow:!0,geometry:o.cube.geometry,material:o.cube.material,position:[-.15625,.0625,.28125],rotation:[0,.21816616,0]}),r.createElement("mesh",{name:"cube_1",castShadow:!0,receiveShadow:!0,geometry:o.cube_1.geometry,material:o.cube_1.material}),r.createElement("mesh",{name:"cube_2",castShadow:!0,receiveShadow:!0,geometry:o.cube_2.geometry,material:o.cube_2.material})),r.createElement("group",{name:"hammer2",position:[.328125,-.0625,0]},r.createElement("mesh",{name:"cube_3",castShadow:!0,receiveShadow:!0,geometry:o.cube_3.geometry,material:o.cube_3.material,position:[.0375,.0625,.05],rotation:[0,-Math.PI/4,0]})),r.createElement("group",{name:"base2",position:[.1875,-.0625,-.3125]},r.createElement("mesh",{name:"cube_4",castShadow:!0,receiveShadow:!0,geometry:o.cube_4.geometry,material:o.cube_4.material}),r.createElement("mesh",{name:"cube_5",castShadow:!0,receiveShadow:!0,geometry:o.cube_5.geometry,material:o.cube_5.material}))),l?r.createElement(l.L,null):""))}function J(e){var t=e.animations,o=e.nodes,n=e.group,a=e.animate,i=void 0!==a&&a,c=e.state,l=e.Arms,m=(0,w.v)(t,n).actions;function s(e){m[e].fadeIn(.1),m[e].play(),Object.keys(m).forEach((function(t){t!=e&&(m[t].fadeOut(.1),setTimeout((function(){m[t].stop()}),100))}))}return(0,r.useEffect)((function(){if(1==i)switch(c){case"hold":default:s("animation.thirdperson.hold");break;case"reload":s("animation.thirdperson.reload");break;case"reloadF":s("animation.thirdperson.Finish");break;case"fire":s("animation.thirdperson.fire")}}),[c]),(0,r.useEffect)((function(){(0,B.l)(o)}),[]),r.createElement(r.Fragment,null,r.createElement("group",{name:"right_arm",position:[.75,.19,0]},r.createElement("group",{name:"WeaponRoot",position:[0,-1.31,0]}),l?r.createElement(l.R,null):""),r.createElement("group",{name:"left_arm",position:[-.75,.19,0]},l?r.createElement(l.L,null):""))}function ee(e){e!=window.AnimState&&(window.Server.emit("state",e),console.log(e)),window.AnimState=e}function te(e){e!=window.WeaponAnimState&&(window.Server.emit("weaponstate",e),console.log(e)),window.WeaponAnimState=e}function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ae(e,t)}function ie(e,t){if(t&&("object"===oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ce(e)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}function me(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fe(e,t)}function pe(e,t){if(t&&("object"===se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return de(e)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}function ye(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}y.L.preload("green"==window.team?Z:F),o(180);const we=I(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fe(e,t)}(a,e);var t,o,r,n=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=he(o);if(r){var n=he(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return pe(this,e)});function a(){var e;ue(this,a);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return ye(de(e=n.call.apply(n,[this].concat(o))),"RANGE",1e3),ye(de(e),"CLIPSIZE",6),ye(de(e),"AMMOSIZE",64),ye(de(e),"PERSHOT",6),ye(de(e),"SPREAD",.3),ye(de(e),"DAMAGE",6),ye(de(e),"RELOADTIME",.51),ye(de(e),"FIRETIME",.5),ye(de(e),"FIRESOUND_DELAY",.3),ye(de(e),"NAME","shotgun"),ye(de(e),"RENDERER",X),ye(de(e),"RECOIL",10),ye(de(e),"FIRESOUND","0x000001"),ye(de(e),"RELOADSOUND","0x000002"),ye(de(e),"RELOADEND","0x000003"),e}return t=a,Object.defineProperty(t,"prototype",{writable:!1}),t}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ae(e,t)}(c,e);var t,o,n,a,i=(n=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=le(n);if(a){var o=le(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return ie(this,e)});function c(){var e;re(this,c);for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return me(ce(e=i.call.apply(i,[this].concat(o))),"group",(0,r.createRef)()),me(ce(e),"RANGE",1e3),me(ce(e),"CLIPSIZE",8),me(ce(e),"AMMOSIZE",64),me(ce(e),"PERSHOT",6),me(ce(e),"SPREAD",.3),me(ce(e),"DAMAGE",6),me(ce(e),"NAME",""),me(ce(e),"RENDERER",X),me(ce(e),"RELOADTIME",.5),me(ce(e),"FIRETIME",2.67),me(ce(e),"DRAWTIME",.58),me(ce(e),"RECOIL",5),me(ce(e),"FIRESOUND_DELAY",.1),me(ce(e),"CROSSHAIR",{type:"horizontal_D",range:90}),me(ce(e),"gltf",e.props.gltfHook),me(ce(e),"nodes",e.gltf.nodes),me(ce(e),"materials",e.gltf.materials),me(ce(e),"animations",e.gltf.animations),me(ce(e),"DiffAnims","basic"),me(ce(e),"anims",[]),me(ce(e),"RELOADTYPE","each"),me(ce(e),"FIRESOUND","0x000001"),me(ce(e),"RELOADSOUND","0x000002"),me(ce(e),"RELOADEND","0x000003"),me(ce(e),"Shoot",(function(t){var o=new p.Vector3,r=[];e.props.camera.getWorldDirection(o),o.add(t),new p.Raycaster(e.props.camera.position,o).intersectObjects(e.props.scene.children,!0,r),r[0]&&r[0].object&&r[0].object.userData.id&&window.Server.emit("dmg",{id:r[0].object.userData.id,dmg:e.DAMAGE,weapon:e.NAME})})),me(ce(e),"Refresh",(function(){window.gameforceUpdate()})),me(ce(e),"Rotate",(function(t){e.props.camera.rotateX(t)})),me(ce(e),"StartState",(function(){_(e.CROSSHAIR),te("hold"),window.ShootClick=function(){!function(){if(console.log(e.props.camera),1==window.isGame&&1==b()&&window.PrimaryClip>0){(0,d.ib)(Math.PI/180*1/2,1/e.RECOIL,5*e.RECOIL,e.Rotate),setTimeout((function(){v(!1)}),2),te("fire"),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.FIRESOUND}),setTimeout((function(){window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADEND})}),1e3*e.FIRESOUND_DELAY),window.PrimaryClip=window.PrimaryClip-1,window.gameforceUpdate();var t=new p.Vector3(0,0,0);e.Shoot(t);for(var o=0;o<e.PERSHOT-1;o++){var r=new p.Vector3((0,d.$3)(e.SPREAD,0),(0,d.$3)(e.SPREAD,0),0);e.Shoot(r)}window.gameforceUpdate(),setTimeout((function(){v(!0)}),1e3*e.FIRETIME),setTimeout((function(){te("hold")}),1e3*e.FIRETIME+1e3*e.FIRESOUND_DELAY)}}()},window.ReloadLogic=function(t){if("r"==t.key&&window.PrimaryAmmo>0&&1==b()){te("reload"),setTimeout((function(){v(!1)}),10),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADSOUND});var o=setInterval((function(){window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADSOUND})}),1e3*e.RELOADTIME);setTimeout((function(){clearInterval(o),te("reloadF")}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.PrimaryClip-1)),setTimeout((function(){var t=e.CLIPSIZE-window.PrimaryClip;e.ClipUpdate([e.CLIPSIZE]),e.AmmoUpdate([window.PrimaryAmmo-t]),window.PrimaryClip=e.CLIPSIZE,window.PrimaryAmmo=window.PrimaryAmmo-t,e.Refresh(),v(!0),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADEND}),te("hold")}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.PrimaryClip))}},e.ClipUpdate([window.PrimaryClip]),e.AmmoUpdate([window.PrimaryAmmo]),setTimeout((function(){v(!0)}),1e3*e.DRAWTIME)})),me(ce(e),"ClipUpdate",(function(e){document.getElementsByClassName("ClipCount")[0]&&(document.getElementsByClassName("ClipCount")[0].innerHTML=e[0])})),me(ce(e),"AmmoUpdate",(function(e){document.getElementsByClassName("AmmoCount")[0]&&(document.getElementsByClassName("AmmoCount")[0].innerHTML=e[0])})),e}return t=c,(o=[{key:"IdentifyParts",value:function(e){var t=this;e.children.forEach((function(e,o){e.material&&(e.renderOrder=o+90,e.material.renderOrder=o+900,e.material.depthTest=!1,e.material.depthWrite=!0),e.children&&t.IdentifyParts(e)}))}},{key:"render",value:function(){return r.createElement(r.Fragment,null,r.createElement(R,{value:[],didUpdate:this.StartState}),r.createElement(R,{value:[window.PrimaryClip],didUpdate:this.ClipUpdate}),r.createElement(R,{value:[window.PrimaryAmmo],didUpdate:this.AmmoUpdate}),r.createElement(A,{group:this.group,animations:this.animations,Ammo:window.PrimaryAmmo,Clip:window.PrimaryClip,state:this.props.state,RELOADTIME:this.RELOADTIME,CLIPSIZE:this.CLIPSIZE,RELOADTYPE:this.RELOADTYPE,DiffAnims:this.DiffAnims,anims:this.anims},r.createElement("group",{ref:this.group,dispose:null,position:[0,-.27,-.33]},r.createElement("group",{name:"blockbench_export"},r.createElement("group",null,r.createElement("group",{name:"Root",position:[-.25,-.6875,0]},r.createElement("group",{name:"body",position:[0,-1.5,0]},r.createElement("group",{name:"arms",position:[0,1.25,0],castShadow:!1,receiveShadow:!0},r.createElement(this.RENDERER,{animations:this.animations,nodes:this.nodes,group:this.group,Arms:this.props.Arms,materials:this.materials})),r.createElement("group",{name:"HeadMod",position:[0,1.5625,0]},r.createElement("group",{name:"head"}))),r.createElement("group",{name:"left_leg",position:[-.25,-1.5,0]}),r.createElement("group",{name:"right_leg",position:[.25,-1.5,0]})))))))}}])&&ne(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component)),h);function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ve(e,t)}function Se(e,t){if(t&&("object"===ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _e(e)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oe(e)}function Pe(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(c,e);var t,o,n,a,i=(n=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Oe(n);if(a){var o=Oe(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Se(this,e)});function c(){var e;Ee(this,c);for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return Pe(_e(e=i.call.apply(i,[this].concat(o))),"group",(0,r.createRef)()),Pe(_e(e),"RANGE",1e3),Pe(_e(e),"CLIPSIZE",8),Pe(_e(e),"AMMOSIZE",64),Pe(_e(e),"PERSHOT",6),Pe(_e(e),"SPREAD",.3),Pe(_e(e),"DAMAGE",6),Pe(_e(e),"NAME",""),Pe(_e(e),"RENDERER",X),Pe(_e(e),"RELOADTYPE","each"),Pe(_e(e),"RELOADTIME",.5),Pe(_e(e),"RELOADTIMESOUND",.87),Pe(_e(e),"FIRETIME",2.67),Pe(_e(e),"DRAWTIME",.58),Pe(_e(e),"DiffAnims","basic"),Pe(_e(e),"anims",[]),Pe(_e(e),"FIRESOUND_DELAY",.1),Pe(_e(e),"CROSSHAIR",{type:"horizontal_D",range:90}),Pe(_e(e),"gltf",e.props.gltfHook),Pe(_e(e),"nodes",e.gltf.nodes),Pe(_e(e),"materials",e.gltf.materials),Pe(_e(e),"animations",e.gltf.animations),Pe(_e(e),"FIRESOUND","0x000001"),Pe(_e(e),"RELOADSOUND","0x000002"),Pe(_e(e),"RELOADEND","0x000003"),Pe(_e(e),"Shoot",(function(t){var o=new p.Vector3,r=[];e.props.camera.getWorldDirection(o),o.add(t),new p.Raycaster(e.props.camera.position,o).intersectObjects(e.props.scene.children,!0,r),r[0]&&r[0].object&&r[0].object.userData.id&&window.Server.emit("dmg",{id:r[0].object.userData.id,dmg:e.DAMAGE,weapon:e.NAME})})),Pe(_e(e),"Refresh",(function(){window.gameforceUpdate()})),Pe(_e(e),"Rotate",(function(t){e.props.camera.rotateX(t)})),Pe(_e(e),"StartState",(function(){v(!1),_(e.CROSSHAIR),window.ShootClick=function(){!function(){if(1==window.isGame&&1==b()&&window.SecondaryClip>0){(0,d.ib)(Math.PI/180*1/2,1/e.RECOIL,5*e.RECOIL,e.Rotate),setTimeout((function(){v(!1)}),2),te("fire"),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.FIRESOUND}),null!=e.FIRESOUND_DELAY&&setTimeout((function(){window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADEND})}),1e3*e.FIRESOUND_DELAY),console.log("FIRE!"),window.SecondaryClip=window.SecondaryClip-1,window.gameforceUpdate();var t=new p.Vector3(0,0,0);e.Shoot(t);for(var o=0;o<e.PERSHOT-1;o++){var r=new p.Vector3((0,d.$3)(e.SPREAD,0),(0,d.$3)(e.SPREAD,0),0);e.Shoot(r),console.log("THIS",r)}window.gameforceUpdate(),setTimeout((function(){v(!0)}),1e3*e.FIRETIME)}}()},window.ReloadLogic=function(t){if("r"==t.key&&window.SecondaryAmmo>0&&1==b())if("each"==e.RELOADTYPE){te("reload"),setTimeout((function(){v(!1)}),10),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADSOUND});var o=setInterval((function(){window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADSOUND})}),1e3*e.RELOADTIME);setTimeout((function(){clearInterval(o),te("reloadF")}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.SecondaryClip-1)),setTimeout((function(){var t=window.SecondaryAmmo>=e.CLIPSIZE?e.CLIPSIZE-window.SecondaryClip:window.SecondaryAmmo;e.ClipUpdate([window.SecondaryAmmo>=e.CLIPSIZE?e.CLIPSIZE:window.SecondaryAmmo]),e.AmmoUpdate([window.SecondaryAmmo-t]),window.SecondaryClip=e.CLIPSIZE,window.SecondaryAmmo=window.SecondaryAmmo-t,console.log(window.SecondaryClip),e.Refresh(),v(!0),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADEND})}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.SecondaryClip))}else"once"==e.RELOADTYPE&&(setTimeout((function(){v(!1)}),10),setTimeout((function(){var t=e.CLIPSIZE-window.SecondaryClip;e.ClipUpdate([e.CLIPSIZE]),e.AmmoUpdate([window.SecondaryAmmo-t]),window.SecondaryClip=e.CLIPSIZE,window.SecondaryAmmo=window.SecondaryAmmo-t,v(!0)}),1e3*e.RELOADTIME),setTimeout((function(){window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADEND})}),1e3*e.RELOADTIMESOUND),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADSOUND}))},e.ClipUpdate([window.SecondaryClip]),e.AmmoUpdate([window.SecondaryAmmo]),setTimeout((function(){v(!0)}),1e3*e.DRAWTIME)})),Pe(_e(e),"ClipUpdate",(function(e){console.log("ClipUpdate",e),document.getElementsByClassName("ClipCount")[0]&&(document.getElementsByClassName("ClipCount")[0].innerHTML=e[0])})),Pe(_e(e),"AmmoUpdate",(function(e){console.log("AmmoUpdate",e),document.getElementsByClassName("AmmoCount")[0]&&(document.getElementsByClassName("AmmoCount")[0].innerHTML=e[0])})),e}return t=c,o=[{key:"IdentifyParts",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.children.forEach((function(e){e.material&&(e.renderOrder=999,e.material.depthTest=!0,e.material.depthWrite=!1,e.material.polygonOffset=!0,e.material.polygonOffsetFactor=-4),e.children&&IdentifyParts(e)}))}))},{key:"render",value:function(){return r.createElement(r.Fragment,null,r.createElement(R,{value:[],didUpdate:this.StartState}),r.createElement(R,{value:[window.SecondaryClip],didUpdate:this.ClipUpdate}),r.createElement(R,{value:[window.SecondaryAmmo],didUpdate:this.AmmoUpdate}),r.createElement(A,{group:this.group,animations:this.animations,Ammo:window.SecondaryAmmo,Clip:window.SecondaryClip,state:this.props.state,RELOADTIME:this.RELOADTIME,CLIPSIZE:this.CLIPSIZE,RELOADTYPE:this.RELOADTYPE,DiffAnims:this.DiffAnims,anims:this.anims},r.createElement("group",{ref:this.group,dispose:null,position:[0,-.27,-.33]},r.createElement("group",{name:"blockbench_export"},r.createElement("group",null,r.createElement("group",{name:"Root",position:[-.25,-.6875,0]},r.createElement("group",{name:"body",position:[0,-1.5,0]},r.createElement("group",{name:"arms",position:[0,1.25,0]},r.createElement(this.RENDERER,{animations:this.animations,nodes:this.nodes,group:this.group,Arms:this.props.Arms})),r.createElement("group",{name:"HeadMod",position:[0,1.5625,0]},r.createElement("group",{name:"head"}))),r.createElement("group",{name:"left_leg",position:[-.25,-1.5,0]}),r.createElement("group",{name:"right_leg",position:[.25,-1.5,0]})))))))}}],o&&be(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Me(e,t)}function Le(e,t){if(t&&("object"===Re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return De(e)}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function Ce(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}I(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Me(e,t)}(a,e);var t,o,r,n=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=je(o);if(r){var n=je(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Le(this,e)});function a(){var e;Ae(this,a);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return Ce(De(e=n.call.apply(n,[this].concat(o))),"RANGE",1e3),Ce(De(e),"CLIPSIZE",16),Ce(De(e),"AMMOSIZE",64),Ce(De(e),"PERSHOT",6),Ce(De(e),"SPREAD",.3),Ce(De(e),"DAMAGE",6),Ce(De(e),"RELOADTIME",.65),Ce(De(e),"FIRETIME",0),e}return t=a,Object.defineProperty(t,"prototype",{writable:!1}),t}(Ie),h);const Te=o.p+"1e4234c6651a9d7e5d00c856df0ded70.gltf";function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xe(e,t)}function Fe(e,t){if(t&&("object"===ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ze(e)}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Be(e)}function He(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ye(e,t)}function Ve(e,t){if(t&&("object"===We(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ze(e)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(e)}function Ke(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Xe=I(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t)}(a,e);var t,o,r,n=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$e(o);if(r){var n=$e(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ve(this,e)});function a(){var e;Ge(this,a);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return Ke(ze(e=n.call.apply(n,[this].concat(o))),"RANGE",10),Ke(ze(e),"CLIPSIZE",1e5),Ke(ze(e),"AMMOSIZE",1e5),Ke(ze(e),"PERSHOT",1),Ke(ze(e),"SPREAD",0),Ke(ze(e),"DAMAGE",20),Ke(ze(e),"RELOADTIME",.51),Ke(ze(e),"NAME","fists"),Ke(ze(e),"FIRETIME",1.12),Ke(ze(e),"DRAWTIME",.66),Ke(ze(e),"FIRESOUND_DELAY",.3),Ke(ze(e),"RENDERER",J),Ke(ze(e),"DiffAnims","random"),Ke(ze(e),"anims",["animation.viewmodel.fire","animation.viewmodel.fire1"]),Ke(ze(e),"FIRESOUND","0x000000"),Ke(ze(e),"RELOADSOUND","0x000000"),Ke(ze(e),"RELOADEND","0x000000"),e}return t=a,Object.defineProperty(t,"prototype",{writable:!1}),t}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(c,e);var t,o,n,a,i=(n=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Be(n);if(a){var o=Be(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Fe(this,e)});function c(){var e;Ne(this,c);for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return He(Ze(e=i.call.apply(i,[this].concat(o))),"group",(0,r.createRef)()),He(Ze(e),"RANGE",1e3),He(Ze(e),"CLIPSIZE",8),He(Ze(e),"AMMOSIZE",64),He(Ze(e),"PERSHOT",6),He(Ze(e),"SPREAD",.3),He(Ze(e),"NAME",""),He(Ze(e),"DAMAGE",6),He(Ze(e),"RENDERER",X),He(Ze(e),"RELOADTIME",.5),He(Ze(e),"FIRETIME",2.67),He(Ze(e),"DRAWTIME",.58),He(Ze(e),"FIRESOUND_DELAY",.1),He(Ze(e),"CROSSHAIR",{type:"horizontal_D",range:90}),He(Ze(e),"RELOADTYPE","each"),He(Ze(e),"DiffAnims","basic"),He(Ze(e),"anims",[]),He(Ze(e),"gltf",e.props.gltfHook),He(Ze(e),"nodes",e.gltf.nodes),He(Ze(e),"materials",e.gltf.materials),He(Ze(e),"animations",e.gltf.animations),He(Ze(e),"FIRESOUND","0x000001"),He(Ze(e),"RELOADSOUND","0x000002"),He(Ze(e),"RELOADEND","0x000003"),He(Ze(e),"Shoot",(function(t){var o=new p.Vector3,r=[];e.props.camera.getWorldDirection(o),o.add(t),new p.Raycaster(e.props.camera.position,o).intersectObjects(e.props.scene.children,!0,r),r[0]&&r[0].object&&r[0].object.userData.id&&window.Server.emit("dmg",{id:r[0].object.userData.id,dmg:e.DAMAGE,weapon:e.NAME})})),He(Ze(e),"Refresh",(function(){window.gameforceUpdate()})),He(Ze(e),"StartState",(function(){_(e.CROSSHAIR),te("hold"),window.ShootClick=function(){!function(){if(1==window.isGame&&1==b()&&window.MeleeClip>0){setTimeout((function(){v(!1)}),2),te("fire"),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.FIRESOUND}),setTimeout((function(){window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADEND})}),1e3*e.FIRESOUND_DELAY),console.log("FIRE!"),window.MeleeClip=window.MeleeClip-1,window.gameforceUpdate();var t=new p.Vector3(0,0,0);e.Shoot(t);for(var o=0;o<e.PERSHOT-1;o++){var r=new p.Vector3((0,d.$3)(e.SPREAD,0),(0,d.$3)(e.SPREAD,0),0);e.Shoot(r),console.log("THIS",r)}window.gameforceUpdate(),setTimeout((function(){v(!0)}),1e3*e.FIRETIME),setTimeout((function(){te("hold")}),1e3*e.FIRETIME+1e3*e.FIRESOUND_DELAY)}}()},window.ReloadLogic=function(t){if("r"==t.key&&window.MeleeAmmo>0&&1==b()){te("reload"),setTimeout((function(){v(!1)}),10),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADSOUND});var o=setInterval((function(){window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADSOUND})}),1e3*e.RELOADTIME);setTimeout((function(){clearInterval(o),te("reloadF")}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.MeleeClip-1)),setTimeout((function(){var t=e.CLIPSIZE-window.MeleeClip;e.ClipUpdate([e.CLIPSIZE]),e.AmmoUpdate([window.MeleeAmmo-t]),window.MeleeClip=e.CLIPSIZE,window.MeleeAmmo=window.MeleeAmmo-t,console.log(window.MeleeClip),e.Refresh(),v(!0),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADEND}),te("hold")}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.MeleeClip))}},e.ClipUpdate([window.MeleeClip]),e.AmmoUpdate([window.MeleeAmmo]),setTimeout((function(){v(!0)}),1e3*e.DRAWTIME)})),He(Ze(e),"ClipUpdate",(function(e){console.log("ClipUpdate",e),document.getElementsByClassName("ClipCount")[0]&&(document.getElementsByClassName("ClipCount")[0].innerHTML=e[0])})),He(Ze(e),"AmmoUpdate",(function(e){console.log("AmmoUpdate",e),document.getElementsByClassName("AmmoCount")[0]&&(document.getElementsByClassName("AmmoCount")[0].innerHTML=e[0])})),e}return t=c,o=[{key:"IdentifyParts",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.children.forEach((function(e){e.material&&(e.renderOrder=999,e.material.depthTest=!0,e.material.depthWrite=!1,e.material.polygonOffset=!0,e.material.polygonOffsetFactor=-4),e.children&&IdentifyParts(e)}))}))},{key:"render",value:function(){return r.createElement(r.Fragment,null,r.createElement(R,{value:[],didUpdate:this.StartState}),r.createElement(R,{value:[window.MeleeClip],didUpdate:this.ClipUpdate}),r.createElement(R,{value:[window.MeleeAmmo],didUpdate:this.AmmoUpdate}),r.createElement(A,{group:this.group,animations:this.animations,Ammo:window.MeleeAmmo,Clip:window.MeleeClip,state:this.props.state,RELOADTIME:this.RELOADTIME,CLIPSIZE:this.CLIPSIZE,RELOADTYPE:this.RELOADTYPE,DiffAnims:this.DiffAnims,anims:this.anims},r.createElement("group",{ref:this.group,dispose:null,position:[0,-.27,-.33]},r.createElement("group",{name:"blockbench_export"},r.createElement("group",null,r.createElement("group",{name:"Root",position:[-.25,-.6875,0]},r.createElement("group",{name:"body",position:[0,-1.5,0]},r.createElement("group",{name:"arms",position:[0,1.25,0]},r.createElement(this.RENDERER,{animations:this.animations,nodes:this.nodes,group:this.group,Arms:this.props.Arms})),r.createElement("group",{name:"HeadMod",position:[0,1.5625,0]},r.createElement("group",{name:"head"}))),r.createElement("group",{name:"left_leg",position:[-.25,-1.5,0]}),r.createElement("group",{name:"right_leg",position:[.25,-1.5,0]})))))))}}],o&&Ue(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component)),Te),Qe=o.p+"57e66ec9d7c132104e7edc436a66d15b.gltf";function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e,t){if(t&&("object"===qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ot(e)}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rt(e)}function nt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const at=I(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}(a,e);var t,o,r,n=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rt(o);if(r){var n=rt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tt(this,e)});function a(){var e;Je(this,a);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return nt(ot(e=n.call.apply(n,[this].concat(o))),"RANGE",1e3),nt(ot(e),"CLIPSIZE",16),nt(ot(e),"AMMOSIZE",64),nt(ot(e),"PERSHOT",1),nt(ot(e),"SPREAD",.3),nt(ot(e),"DAMAGE",8),nt(ot(e),"RELOADTYPE","once"),nt(ot(e),"RELOADTIME",1.51),nt(ot(e),"DRAWTIME",.38),nt(ot(e),"FIRETIME",.16),nt(ot(e),"FIRESOUND_DELAY",null),nt(ot(e),"RENDERER",Q),nt(ot(e),"RECOIL",4),nt(ot(e),"CROSSHAIR",{type:"point",range:0}),nt(ot(e),"FIRESOUND","0x000004"),nt(ot(e),"RELOADSOUND","0x000005"),nt(ot(e),"RELOADEND","0x000006"),e}return t=a,Object.defineProperty(t,"prototype",{writable:!1}),t}(Ie),Qe),it=o.p+"3c1404c1ccf544d566c74f95dfdcd724.gltf";function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mt(e,t)}function st(e,t){if(t&&("object"===ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ut(e)}function ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}function pt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var dt={bab:{range:1e3,clipSize:6,ammoSize:64,bulletsPerShot:6,spread:.3,ref:we,model:h,renderer:X},aba:{range:1e3,clipSize:16,ammoSize:64,bulletsPerShot:1,spread:.05,ref:at,model:Qe,renderer:Q},daba:{range:1e3,clipSize:16,ammoSize:64,bulletsPerShot:1,spread:.05,ref:I(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mt(e,t)}(a,e);var t,o,r,n=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ft(o);if(r){var n=ft(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return st(this,e)});function a(){var e;lt(this,a);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return pt(ut(e=n.call.apply(n,[this].concat(o))),"RANGE",1e3),pt(ut(e),"CLIPSIZE",16),pt(ut(e),"AMMOSIZE",64),pt(ut(e),"PERSHOT",1),pt(ut(e),"SPREAD",.3),pt(ut(e),"DAMAGE",13),pt(ut(e),"RELOADTYPE","once"),pt(ut(e),"RELOADTIME",4.16),pt(ut(e),"DRAWTIME",1),pt(ut(e),"FIRETIME",.5),pt(ut(e),"FIRESOUND_DELAY",null),pt(ut(e),"RENDERER",q),pt(ut(e),"NAME","deagles"),pt(ut(e),"RECOIL",7),pt(ut(e),"DiffAnims","pershot"),pt(ut(e),"anims",["animation.viewmodel.fire","animation.viewmodel.fire1"]),pt(ut(e),"CROSSHAIR",{type:"point",range:0}),pt(ut(e),"FIRESOUND","0x000007"),pt(ut(e),"RELOADSOUND","0x000008"),pt(ut(e),"RELOADEND","0x000000"),e}return t=a,Object.defineProperty(t,"prototype",{writable:!1}),t}(Ie),it),model:it,renderer:q},naba:{range:10,clipSize:1e5,ammoSize:1e5,bulletsPerShot:1,spread:0,ref:Xe,model:Te,renderer:J}};const ht=o.p+"5bb470f9cd2748fe66aab78561c1294c.gltf",yt=o.p+"436dd0b6655f10395921543b18251cb0.gltf";function wt(e){var t=(0,r.useRef)(),o=(0,y.L)(yt),n=o.nodes,a=(o.materials,o.animations);return(0,w.v)(a,t).actions,(0,r.useEffect)((function(){(0,B.l)(n)}),[]),r.createElement("group",{name:"head"},r.createElement("mesh",{name:"head_1",castShadow:!0,receiveShadow:!0,geometry:n.head_1.geometry,material:n.head_1.material,position:[0,-3.06,0]}),r.createElement("mesh",{name:"hat",castShadow:!0,receiveShadow:!0,geometry:n.hat.geometry,material:n.hat.material}),r.createElement("mesh",{name:"hat_1",castShadow:!0,receiveShadow:!0,geometry:n.hat_1.geometry,material:n.hat_1.material}),r.createElement("mesh",{name:"hat_2",castShadow:!0,receiveShadow:!0,geometry:n.hat_2.geometry,material:n.hat_2.material}))}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var r,n,a=[],i=!0,c=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(c)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Et(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Et(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}y.L.preload(yt);var bt=function(e){var t=e.position,o=e.rotation,n=void 0===o?[0,0,0,"XYZ"]:o,a=e.id,i=e.animState,c=e.hideParts,l=void 0===c?[]:c,m=e.weaponState,s=e.Parts,u=e.loadout,f=void 0===u?[]:u,d=e.selW,h=void 0===d?0:d,g=(e.health,(0,r.useRef)()),E=(0,r.useRef)(),b=(0,r.useRef)(),v=(0,r.useRef)(),S=((0,r.useRef)(),(0,r.useRef)(),(0,r.useRef)()),_=(0,y.L)(ht),O=_.nodes,P=(_.materials,_.animations),I=(0,w.v)(P,g).actions,R=gt((0,r.useState)([0,0,0]),2),A=R[0],M=(R[1],gt((0,r.useState)(!0),2));function L(e){I[e].fadeIn(.1),I[e].play(),Object.keys(I).forEach((function(t){t!=e&&(I[t].fadeOut(.1),setTimeout((function(){I[t].stop()}),100))}))}function D(e){e.children.forEach((function(e){e.userData.id=a,e.castShadow=!0,e.children&&D(e)}))}M[0],M[1],(0,r.useEffect)((function(){(0,B.l)(O)}),[]),r.useRef(),console.log(I),(0,r.useEffect)((function(){switch(i){case"idle":default:L("animation.player.idle");break;case"crouch":L("animation.player.crouch");break;case"cf":L("animation.player.crouchF");break;case"run":L("animation.player.run");break;case"l":L("animation.player.runL");break;case"r":L("animation.player.runR");break;case"sl":L("animation.player.strafeL");break;case"sr":L("animation.player.strafeR");break;case"dead":L("animation.player.death");break;case"inair":L("animation.player.airwalk");break;case"jump":L("animation.player.jump")}console.log(I)}),[i]),(0,r.useEffect)((function(){g.current&&(g.current.userData.id=a,console.log(g.current),g.current.children.forEach((function(e){e.userData.id=a,e.castShadow=!0,D(e)})))}),[g]);var j=gt((0,r.useState)((new p.Vector3).toArray()),2);j[0],j[1],(0,r.useEffect)((function(){var e=new p.Vector3;(e=(new p.Vector3).fromArray(n)).y=0,e.add(g.current.position),g.current.lookAt(e)}),[n]);var C=f.length>0?dt[f[h]]:{};return(0,r.useEffect)((function(){C=f.length>0?dt[f[h]]:{}}),[h]),r.createElement("group",{ref:g,rotation:A,dispose:null,position:t},r.createElement("group",{ref:E}),r.createElement("group",{name:"blockbench_export"},r.createElement("group",null,r.createElement("group",{name:"Root",rotation:[Math.PI,0,Math.PI]},r.createElement("group",null,r.createElement("group",{ref:b,name:"body",position:[0,1.5,0]},r.createElement("group",{name:"HeadMod",position:[0,1.56,0],ref:v},l.includes("head")?"":r.createElement(wt,null)),r.createElement("group",{name:"arms",position:[0,1.25,0],ref:S},C.renderer?r.createElement(C.renderer,{state:m,nodes:(0,y.L)(C.model).nodes,animations:(0,y.L)(C.model).animations,group:S,animate:!0,Arms:s.arms}):""),s?r.createElement(s.body,{group:g,animState:i}):"")),s?r.createElement(s.legs,null):""))))};y.L.preload(ht);var vt=o(702);function St(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var r,n,a=[],i=!0,c=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(c)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ot(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Ot(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var Pt=function(e){var t=e.socket,o=(e.PrimaryClip,e.setPrimaryClip),n=(e.PrimaryAmmo,e.setPrimaryAmmo),a=(e.id,e.Parts),l=_t((0,r.useReducer)((function(e){return e+1}),0),2)[1],h=(0,c.y)(),y=h.camera,w=h.scene,g=_t((0,r.useState)(null),2),E=(g[0],g[1],_t((0,r.useState)([0,0,0,"XYZ"]),2)),v=(E[0],E[1],_t((0,r.useState)("stop"),2)),S=v[0],_=v[1],O=_t((0,r.useState)(0),2),P=(O[0],O[1],(0,r.useRef)()),I=(0,r.useRef)(),R=(0,r.useRef)(),A=(0,r.useRef)(),M=600,L=_t((0,f.f)((function(){return{mass:100,fixedRotation:!0,position:[0,1,0],args:.2,material:{friction:0}}})),2),D=L[0],j=L[1],C=(0,r.useRef)({timeToShoot:0,timeTojump:0,vel:[0,0,0],jumping:!1,crouching:!1}),T=_t((0,r.useState)(0),2),k=T[0],N=T[1],U=_t((0,r.useState)(0),2),x=U[0],F=U[1],Z=_t((0,r.useState)(0),2),B=Z[0],H=Z[1],W=_t((0,r.useState)(0),2),G=W[0],Y=W[1],V=_t((0,r.useState)(0),2),z=V[0],$=V[1];(0,r.useEffect)((function(){j.velocity.subscribe((function(e){return C.current.vel=e}))}),[j]);var K=function(){var e,t,o={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",Space:"jump",ControlLeft:"crouch"},n=function(e){return o[e]},a=(e=(0,r.useState)({forward:!1,backward:!1,left:!1,right:!1,jump:!1,crouch:!1}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var r,n,a=[],i=!0,c=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(c)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1];return(0,r.useEffect)((function(){var e=function(e){c((function(t){return m(m({},t),{},s({},n(e.code),!0))})),console.log(e)},t=function(e){c((function(t){return m(m({},t),{},s({},n(e.code),!1))})),console.log(e)};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),i}(),X=K.forward,Q=K.backward,q=K.left,J=K.right,te=K.jump,oe=K.crouch;(0,r.useEffect)((function(){J&&(0,d.ZB)(k,-.05,.002,5,N),q&&(0,d.ZB)(k,.05,.002,5,N),J||q||(0,d.ZB)(k,0,.002,5,N)}),[X,Q,q,J]);var re=_t((0,r.useState)(0),2),ne=re[0],ae=re[1],ie=0,ce=_t((0,r.useState)(["bab","daba","naba"]),2),le=ce[0],me=ce[1],se=_t((0,r.useState)(!1),2),ue=(se[0],se[1]);(0,r.useEffect)((function(){window.health>0&&(oe?(0,d.ZB)(ne,3,.05,9,ae):(0,d.ZB)(ne,3.55,.05,9,ae))}),[oe]);var fe=_t((0,r.useState)(1),2),pe=fe[0],de=fe[1],he=_t((0,r.useState)(1),2),ye=he[0],we=he[1],ge=_t((0,r.useState)(1),2),Ee=ge[0],be=ge[1],ve=_t((0,r.useState)(1),2),Se=ve[0],_e=ve[1];(0,r.useEffect)((function(){(0,d.ZB)(pe,Ee,.05,20,de)}),[Ee]),(0,r.useEffect)((function(){(0,d.ZB)(ye,Se,.05,20,we)}),[Se]),(0,c.z)((function(e,o){new p.Raycaster(D.current.position,new p.Vector3(0,-1,0),1,1e3);var r=new p.Vector3(0,0,0),n=new p.Vector3;y.getWorldDirection(n);var a=new p.Vector3;a.setFromMatrixColumn(y.matrix,0),a.crossVectors(y.up,a);var i=new p.Vector3;i.setFromMatrixColumn(y.matrix,0),window.health>0&&(C.current.jumping?(_e(X?.75:Q?-.5:0),be(J?.5:q?-.5:0),ee("jump")):C.current.crouching?(_e(X?.6:Q?-.6:0),be(J?.6:q?-.6:0),!X||J||q||C.current.jumping||ee("cf"),X||J||q||C.current.jumping||ee("crouch")):(_e(X?1:Q?-1:0),be(J?1:q?-1:0),J&&X&&!C.current.jumping?ee("sr"):q&&X&&!C.current.jumping&&ee("sl"),!X||J||q||C.current.jumping||ee("run"),J&&!X?ee("r"):!q||X||C.current.jumping||ee("l"),J||q||X||Q||C.current.jumping||ee("idle")),C.current.crouching=!!oe),0!==Ee&&0!==Se?(r.add(a.clone().multiplyScalar(M*ye)).add(i.clone().multiplyScalar(M*pe)),r.clampLength(-600,M)):0!==Ee?r.add(i.clone().multiplyScalar(M*pe)):0!==Se&&r.add(a.clone().multiplyScalar(M*ye)),j.velocity.set(r.x*o,C.current.vel[1],r.z*o),y.eulerOrder="YXZ",y.position.set(D.current.position.x,ne+D.current.position.y,D.current.position.z),A.current&&A.current.position.set(D.current.position.x,D.current.position.y,D.current.position.z),window.CameraPosition=D.current.position.toArray();var c,l,m,s,u,f=new p.Vector3;if(y.getWorldDirection(f),f.multiplyScalar(.075),f.add(y.position),I.current.position.set(f.x,f.y,f.z),I.current.setRotationFromQuaternion(y.quaternion),window.health>0&&_((X||Q||J||q)&&!oe?"run":(X||Q||J||q)&&oe?"crouch":"idle"),P.current&&(c=D.current.position,l=n,m=t.id,s=[],u=[],c.toArray(s),l.toArray(u),t.emit("move",{id:m,rotation:u,position:s})),C.current.jumping&&C.current.vel[1]<0&&0!==new p.Raycaster(D.current.position,new p.Vector3(0,-1,0),0,.2).intersectObjects(w.children).length&&(C.current.jumping=!1),te&&!C.current.jumping){var d=Date.now();d>C.current.timeTojump&&(C.current.timeTojump=d+400,C.current.jumping=!0,j.velocity.set(C.current.vel[0],5,C.current.vel[2]))}}));var Oe=_t((0,r.useState)(0),2),Pe=Oe[0],Ie=Oe[1];function Re(e){var t;return r.createElement(e.ref,(St(t={camera:y,Arms:a.arms,PrimaryAmmo:window.PrimaryAmmo,setPrimaryAmmo:n,PrimaryClip:window.PrimaryClip,setPrimaryClip:o,state:S},"camera",y),St(t,"scene",w),t))}return(0,r.useEffect)((function(){window.addEventListener("wheel",(function(e){l(),1==b()&&(console.log(e.deltaY),e.deltaY>1&&(ie-1>=0?ie-=1:ie=2),e.deltaY<-1&&(ie+1<=2?ie+=1:ie=0),ue(!1),me(le),Ie(ie),t.emit("selW",ie),console.log(ie),l(),window.GameUIUpdate(),window.selectedWeapon=ie)}))}),[]),(0,r.useEffect)((function(){console.log(ie),l()}),[ie]),(0,r.useEffect)((function(){console.log("Make_Weapons"),window.PrimaryAmmo=dt[le[0]].ammoSize,window.PrimaryClip=dt[le[0]].clipSize,window.SecondaryAmmo=dt[le[1]].ammoSize,window.SecondaryClip=dt[le[1]].clipSize,window.MeleeAmmo=dt[le[2]].ammoSize,window.MeleeClip=dt[le[2]].clipSize,l(),window.forceUpdate()}),[]),(0,r.useEffect)((function(){t.emit("loadout",le)}),[le]),(0,r.useEffect)((function(){var e=function(e){I.current&&(console.log(e,I.current),H(x+Math.PI/180*(e.movementX/5)),$(G+Math.PI/180*(e.movementY/3)))};return window.addEventListener("mousemove",e),function(){window.removeEventListener("mousemove",e)}}),[]),(0,r.useEffect)((function(){var e=function(e){switch(e.key){case"1":if(l(),1==b()){var o=0;ue(!1),Ie(o),t.emit("selW",o),l(),window.GameUIUpdate(),window.selectedWeapon=o}break;case"2":l(),1==b()&&(o=1,ue(!1),Ie(o),t.emit("selW",o),l(),window.GameUIUpdate(),window.selectedWeapon=o);break;case"3":l(),1==b()&&(o=2,ue(!1),Ie(o),t.emit("selW",o),l(),window.GameUIUpdate(),window.selectedWeapon=o)}};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[]),(0,c.z)((function(){R.current&&(F((0,vt.t7)(x,B,.1)),Y((0,vt.t7)(G,z,.1)))})),(0,r.useEffect)((function(){y.near=.01}),[]),r.createElement(r.Fragment,null,r.createElement("group",null,r.createElement(i.q,{minPolarAngle:.01,maxPolarAngle:3,ref:P,camera:y})),r.createElement("group",{ref:I,scale:[.1,.1,.1],renderOrder:2},r.createElement("group",{ref:R,position:[.3,-.3,0],rotation:[G,x,k]},0==Pe?Re(dt[le[0]]):"",1==Pe?Re(dt[le[1]]):"",2==Pe?Re(dt[le[2]]):"")))},It=o(977),Rt=o(593),At=o(217);const Mt=o.p+"6da4e5170eabe08000fe505f5fe44d53.hdr",Lt=o.p+"d516aec7c37e8bbe2c7d8a564c2dbd77.gltf";function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}y.L.preload(Lt),o(580);var jt=function(){var e,t,o=(e=(0,f.u)((function(){return{rotation:[-Math.PI/2,0,0],position:[0,-.25,0],material:{friction:.1}}})),t=1,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var r,n,a=[],i=!0,c=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(c)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dt(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Dt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return r.createElement("mesh",{ref:o,receiveShadow:!0,scale:[1e3,1e3,1e3]},r.createElement("planeBufferGeometry",{receiveShadow:!0}),r.createElement("meshPhongMaterial",{color:"skyblue",receiveShadow:!0}))},Ct=o(975),Tt=o(248);const kt=o.p+"e6f09b38c4af066ad670f4c73cf99f82.gltf",Nt=o.p+"c0aee2279cfa93d8082adfd342c1c46e.wav",Ut=o.p+"5ca3a9e406a210677e94242c8b57b770.wav",xt=o.p+"f7f5f1d0fa83427343fdcb073f427ac5.wav",Ft=o.p+"e53f25e430cbf5a3faf1a3b7069e3fc0.wav",Zt=o.p+"5e83dce1b8046fdffdab8ebd3f9395a2.wav",Bt={"0x000000":{name:"",url:" ",range:0},"0x000001":{name:"Shotgun shot",url:Nt,range:25},"0x000002":{name:"Shotgun reload",url:Ut,range:15},"0x000003":{name:"Shotgun cock",url:xt,range:20},"0x000004":{name:"Pistol shot",url:Ft,range:16},"0x000006":{name:"Pistol clip in",url:o.p+"0c4f1814219feab0155b094570761ec5.wav",range:12},"0x000005":{name:"Pistol reload",url:Zt,range:12},"0x000007":{name:"Deagle fire",url:o.p+"3b274c8682c7fc96abbe53326e5be8cd.wav",range:26},"0x000008":{name:"Deagle reload",url:o.p+"8e53b08af31e334bfbf5b6e00e6167de.wav",range:20}},Ht=o.p+"img/deagles__GS6QQ.png",Wt=o.p+"img/fists__RuXne.png",Gt=o.p+"img/shotgun__H4xnC.png";function Yt(e,t){switch(e){case"deagles":return Ht;case"shotgun":return Gt;case"fists":return Wt;default:return""}}const Vt=o.p+"img/health__9FyW/.png",zt=o.p+"img/health_red__jkVNy.png",$t=o.p+"img/ammo_blue__3GNpY.png",Kt=o.p+"img/ammo_green__uJWmQ.png";var Xt=o(826);const Qt=o.p+"42c26482cc463a33d375a4d23f9441aa.gltf";function qt(){return qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},qt.apply(this,arguments)}function Jt(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function eo(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function oo(e){var t=(0,y.L)(Qt),o=t.nodes,n=t.materials;(0,r.useEffect)((function(){(0,B.l)(o)}),[]);var a,i,c=(0,f.a)((function(){return function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(o),!0).forEach((function(t){eo(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Jt(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({mass:1,type:"Static",position:[-2.6875,-2.625,-3.5625]},e)})),l=(i=2,function(e){if(Array.isArray(e))return e}(a=c)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var r,n,a=[],i=!0,c=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(c)throw n}}return a}}(a,i)||function(e,t){if(e){if("string"==typeof e)return to(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?to(e,t):void 0}}(a,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=l[0];return l[1],r.createElement("group",qt({},e,{dispose:null,scale:2}),r.createElement("group",{position:[-7.96875,2.625,5.0625]},r.createElement("mesh",{ref:m,castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w048"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-3.5625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w049"].geometry,material:n.Material_0,position:[0,1.3125,-.9375],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[-7.96875,2.625,7.6875]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w050"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-3.5625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w051"].geometry,material:n.Material_0,position:[0,1.3125,-.9375],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[26.18124962,0,-1.5]},r.createElement("group",{position:[-7.96875,2.625,5.0625]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w052"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-3.5625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w053"].geometry,material:n.Material_0,position:[0,1.3125,-.9375],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[-7.96875,2.625,7.6875]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w054"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-3.5625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w055"].geometry,material:n.Material_0,position:[0,1.3125,-.9375],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[-12.96875,2.625,5.0625]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w056"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-3.5625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w057"].geometry,material:n.Material_0,position:[0,1.3125,-.9375],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[-7.96875,2.625,10.3125]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w058"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-3.5625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w059"].geometry,material:n.Material_0,position:[0,1.3125,-.9375],rotation:[-Math.PI,0,0]}))),r.createElement("group",{position:[-3.9375,2.625,3.84375],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w038"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w039"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[-6.5625,2.625,3.84375],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w036"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w037"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[0,0,.0046875]},r.createElement("group",{position:[-6.5625,2.625,7.51875019],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w040"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w041"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[-3.9375,2.625,7.51875019],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w042"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w043"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[-1.375,2.625,7.51875019],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w044"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w045"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[1.25,2.625,7.51875019],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w046"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w047"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]}))),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w001"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w002"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w003"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w004"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w005"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w006"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w007"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w008"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w009"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w010"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w011"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w012"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w013"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w014"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w015"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w016"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w017"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w018"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w019"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w020"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w021"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w022"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w023"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w024"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w025"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w026"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_floor_b-w027"].geometry,material:n.Material_1,position:[-2.71875,1.3125,2.4375],rotation:[0,0,-Math.PI/2]}),r.createElement("group",{position:[.03125,0,-.1875]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w"].geometry,material:n.Material_0}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w001"].geometry,material:n.Material_0}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w002"].geometry,material:n.Material_0}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w003"].geometry,material:n.Material_0}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w004"].geometry,material:n.Material_0}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w005"].geometry,material:n.Material_0}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w006"].geometry,material:n.Material_0,position:[-2.75,1.3125,-2.625],rotation:[0,-Math.PI/2,0]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w007"].geometry,material:n.Material_0,position:[-2.75,1.3125,-2.625],rotation:[0,-Math.PI/2,0]})),r.createElement("group",{position:[0,3.9375,-.8515625],rotation:[0,0,-Math.PI]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w008"].geometry,material:n.Material_0,position:[.03125,-1.3125,.6640625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w009"].geometry,material:n.Material_0,position:[.03125,-1.3125,.6640625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w010"].geometry,material:n.Material_0,position:[.03125,-1.3125,.6640625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w011"].geometry,material:n.Material_0,position:[-2.71875,0,-1.9609375],rotation:[0,-Math.PI/2,0]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w012"].geometry,material:n.Material_0,position:[-2.71875,0,-1.9609375],rotation:[0,-Math.PI/2,0]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w013"].geometry,material:n.Material_0,position:[.03125,-1.3125,.6640625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w014"].geometry,material:n.Material_0,position:[.03125,-1.3125,.6640625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w015"].geometry,material:n.Material_0,position:[.03125,-1.3125,.6640625]})),r.createElement("group",{position:[3.9375,2.625,3.84375],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w022"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w023"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[6.5625,2.625,3.84375],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w020"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w021"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[9.1875,2.625,3.84375],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w018"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w019"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[11.8125,2.625,3.84375],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w016"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w017"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[-.09375,0,3.6875]},r.createElement("group",{position:[6.5625,2.625,3.84375],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w028"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w029"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[3.9375,2.625,3.84375],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w030"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w031"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[14.4375,2.625,3.84375],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w032"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w033"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[17.0625,2.625,3.84375],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w034"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w035"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[11.8125,2.625,3.84375],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w024"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w025"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]})),r.createElement("group",{position:[9.1875,2.625,3.84375],rotation:[0,-Math.PI/2,0]},r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w026"].geometry,material:n.Material_0,position:[-2.6875,-2.625,-2.625]}),r.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:o["cc_wall_b-w027"].geometry,material:n.Material_0,position:[0,1.3125,0],rotation:[-Math.PI,0,0]}))))}function ro(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var r,n,a=[],i=!0,c=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(c)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return no(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?no(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}y.L.preload(Qt);var ao=[],io={points:{blue:0,green:0}},co="green";function lo(){(0,r.useRef)(),(0,r.useRef)(),(0,r.useEffect)((function(){window.team=co}),[co]);var e=ro((0,r.useState)(["bab","daba","naba"]),2),t=(e[0],e[1],ro((0,r.useState)({head:wt,body:G,arms:{L:H,R:W},legs:Y}),2)),o=t[0],i=(t[1],(0,c.C)(At.E,kt),(0,r.useRef)()),l=ro((0,r.useState)(null),2),m=l[0],s=l[1],u=ro((0,r.useState)({}),2),h=u[0],y=u[1],w=ro(r.useReducer((function(e){return e+1}),0),2)[1];window.gameforceUpdate=function(){w()},(0,r.useEffect)((function(){var e=(0,n.io)(window.ServerIP,{reconnection:!1});return console.log("Sever connect..."),s(e),window.Server=e,function(){m&&m.disconnect()}}),[]);var g=ro((0,r.useState)(125),2),E=g[0],b=g[1];(0,r.useEffect)((function(){if(m){m.on("move",(function(e){y(e),window.health=e[m.id].health,b(e[m.id].health),e[m.id].health<=0&&ee("dead")})),m.on("kill",(function(e){var t=ao;t.push(e),ao=t.reverse(),setTimeout((function(){ao.splice(ao.indexOf(e),1)}),2e3)}));var e={name:localStorage.getItem("name"),uid:localStorage.getItem("uid")};m.on("connect",(function(){console.log("CON!"),m.emit("UserData",JSON.stringify(e))})),m.on("disconnect",(function(e){console.log("disconnect",e)})),m.on("connect_error",(function(e){console.log("connect_error due to ".concat(e.message)),setTimeout((function(){window.isGame=!1,window.location.hash="#mainmenu",window.forceUpdate()}),2e3)})),m.on("audio",(function(e){v.create(e.type,e.position)})),m.on("gamedata",(function(e){io=e}))}}),[m]),(0,r.useEffect)((function(){var e=function(e){window.ReloadLogic(e),console.log(e)};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[]),(0,r.useEffect)((function(){var e=function(e){if("Numpad7"==e.code){console.log("Kys"),console.log(m);var t=m.id;console.log(t),window.Server.emit("dmg",{id:t,dmg:1e3,weapon:"self"}),window.forceUpdate(),w(),window.GameUIUpdate(),console.log(h)}};return m&&window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[m]);var v={create:function(e,t){var o=document.createElement("audio");o.src=Bt[e].url;var r=(new p.Vector3).fromArray(window.CameraPosition).distanceTo((new p.Vector3).fromArray(t));console.log("distance",r);var n=1-(0,d.uZ)(r,0,Bt[e].range,0,1);o.volume=n>=0?n:0,document.body.appendChild(o),o.play(),o.onended=function(){document.body.removeChild(o)},o.ontimeupdate=function(){var r=(new p.Vector3).fromArray(window.CameraPosition).distanceTo((new p.Vector3).fromArray(t));console.log("distance",r);var n=1-(0,d.uZ)(r,0,Bt[e].range,0,1);o.volume=n>=0?n:0,console.log("Movement, Changing volume of "+e+" to "+(1-(0,d.uZ)(r,0,Bt[e].range,0,1)))},console.log("Audio Created")}},S=!1;return(0,r.useEffect)((function(){setInterval((function(){console.log(S),1==S&&(window.ClickAnim(),window.ShootClick())}),30);var e=function(e){S=!0,console.log("DOWN")},t=function(e){S=!1,console.log("UP")};return document.addEventListener("mousedown",e),document.addEventListener("mouseup",t),function(){document.removeEventListener("mousedown",e),document.removeEventListener("mouseup",t)}}),[]),(0,r.useEffect)((function(){m&&(window.ID=m.id)}),[m]),r.createElement(r.Fragment,null,m?r.createElement(r.Fragment,null,r.createElement(It.Xz,{onFocus:function(){navigator.keyboard.lock()},ref:i,onKeyUp:function(e){window.RKey(e),e.key},className:"GameViewport",onClick:function(){},dpr:(Math.min(window.devicePixelRatio),2/12*parseFloat(localStorage.getItem("setting.pixelScale"))),shadows:{autoUpdate:!0,enabled:!0,type:p.PCFSoftShadowMap}},r.createElement(f.P,{gravity:[0,-9,0],tolerance:0,iterations:50,broadphase:"Naive"},E>0?r.createElement(Pt,{socket:m,id:m.id,Parts:o}):"",r.createElement(jt,null),r.createElement(oo,null)),r.createElement(Rt.qA,{background:!0,files:Mt}),r.createElement("ambientLight",{color:"#feb489",intensity:.3}),r.createElement(B.k,{color:"#ffffff",shadowBias:-.004,intensity:2,OriginPosition:[0,5,0],position:[0,5,0],rotation:[0,0,0],angle:.9}),Object.keys(h).filter((function(e){return e!==m.id})).map((function(e){var t=h[e],n=t.position,a=t.rotation,i=t.loadout,c=t.selW,l=t.health;return r.createElement(bt,{key:e,id:e,position:n,rotation:a,animState:h[e].state,weaponState:h[e].WState,Parts:o,loadout:i,selW:c,health:l})})),r.createElement(Ct.xC,{multisampling:0},"false"!=localStorage.getItem("setting.Vignette")?r.createElement(Ct.sY,{eskil:!1,offset:.1,darkness:.8}):"","false"!=localStorage.getItem("setting.antialiasing")?r.createElement(Ct.k,{preset:1,edgeDetectionMode:parseInt(localStorage.getItem("setting.antialiasingMode"))}):"","false"!=localStorage.getItem("setting.AO")?r.createElement(r.Fragment,null,r.createElement(Ct.K,{blendFunction:Tt.YQ.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,scale:.5,bias:.5})):"")),r.createElement(mo,{PlayerHealth:E,clients:h,id:m.id})):"",r.createElement("div",{className:"LoadScreen"},r.createElement("div",{className:"spinner",style:{backgroundImage:"url(".concat(a.Z,")")}})))}function mo(e){var t=e.clients,o=e.id,n=e.PlayerHealth,a=ro(r.useReducer((function(e){return e+1}),0),2)[1];return(0,r.useEffect)((function(){window.GameUIUpdate=function(){a()}}),[]),r.createElement(r.Fragment,null,r.createElement("div",{className:"Points"},r.createElement("p",null,io.points.blue),r.createElement("p",null,io.points.green)),t[o]&&n>0?r.createElement("div",{className:"Health"},r.createElement("img",{className:"Red",src:zt}),r.createElement("img",{className:t[o].health<50?"redFlash":"",src:Vt}),r.createElement("p",null,t[o].health)):"",r.createElement("div",{className:"KillList"},ao.map((function(e,o){return r.createElement("div",{className:"Kill",key:JSON.stringify(e)+o},r.createElement("p",{style:{color:"blue"==e.by[1]?"#4a8bed":"#3f9b26"}},t[e.by[0]].name),r.createElement("img",{src:Yt(e.weapon)}),r.createElement("p",{style:{color:"blue"==e.who[1]?"#4a8bed":"#3f9b26"}},t[e.who[0]].name))}))),r.createElement("div",{className:"cel",style:{opacity:parseFloat(localStorage.getItem("setting.csOP"))/10}}),"horizontal_D"==S().type?r.createElement("div",{className:"H",style:{width:"".concat(S().range/2,"px"),opacity:parseFloat(localStorage.getItem("setting.csOP"))/10}},r.createElement("div",null),r.createElement("div",null)):"",n>0?r.createElement("div",{className:"UIAmmo"},r.createElement("h2",{className:"ClipCount"},0),r.createElement("h3",{className:"AmmoCount"},0),r.createElement("img",{src:"green"==window.team?Kt:$t})):"",r.createElement(Xt.o,null,r.createElement("div",{style:{display:"inline-block",width:"200px",height:"100px",background:"blue"}})))}}}]);