/*! For license information please see 246.js.LICENSE.txt */
"use strict";(global.webpackChunkelectron_react_webpack_boilerplate=global.webpackChunkelectron_react_webpack_boilerplate||[]).push([[246],{6826:(e,t,n)=>{n.d(t,{o:()=>l});var r=n(7294);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){switch(e){case"button":return"#0096e0";case"div":return"#72fa48";case"input":return"purple";default:return"red"}}function l(e){var t=a((0,r.useState)(!1),2),n=t[0],o=t[1],l=a((0,r.useState)(""),2),c=l[0],u=l[1];return(0,r.useEffect)((function(){u("UI_"+function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,a=0;a<20;a++)t+=n.charAt(Math.floor(Math.random()*r));return t}().toUpperCase()),console.log(e.children)}),[]),r.createElement(r.Fragment,null,""!=c&&e.children?r.createElement("div",{id:c,onMouseOver:function(e){o(!0)},onMouseOut:function(e){o(!1)}},r.createElement(r.Fragment,null,e.children,1==n?r.createElement("div",{className:"ElementControl",style:{outlineColor:i(e.children.type)}},r.createElement("div",{className:"ElementData",style:{backgroundColor:i(e.children.type)}},r.createElement(r.Fragment,null,e.children.type&&"div"!=e.children.type?e.children.type+" ":"",e.children.props.children&&e.children.props.children.toLowerCase?"'"+e.children.props.children.toLowerCase()+"' ":"",e.children.props.value&&e.children.props.value.toLowerCase?"'"+e.children.props.value.toLowerCase()+"' ":"",e.children.key?e.children.key+" ":""))):"")):"")}},6180:(e,t,n)=>{n(7294)},7526:(e,t,n)=>{n.d(t,{k:()=>u,l:()=>c});var r=n(4413),a=n(7294),o=n(9477);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){Object.entries(e).forEach((function(e){e[1].material&&(e[1].material.side=o.FrontSide,e[1].material.shadowSide=o.FrontSide)}))}function u(e){var t,n,c=(0,r.y)(),u=c.gl,s=(c.camera,c.scene,(0,a.useRef)()),m=(t=(0,a.useState)(0),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return m[0],m[1],u.shadowMap.enabled=!0,(0,a.useEffect)((function(){s.current&&(s.current.shadow.camera.updateProjectionMatrix(),s.current.shadow.mapSize=new o.Vector2(1024*parseFloat(localStorage.getItem("setting.shadowQ")),1024*parseFloat(localStorage.getItem("setting.shadowQ"))),s.current.transparent=!0,s.current.depthWrite=!1,s.current.shadow.bias=-.004,s.current.shadow.camera.left=100,s.current.shadow.camera.right=100,s.current.shadow.camera.top=100,s.current.shadow.camera.bottom=100)}),[s]),a.createElement(a.Fragment,null,a.createElement("spotLight",i({castShadow:!0,ref:s},e)))}n(6180),n.p},3246:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var r=n(4413),a=n(5977),o=n(7294),i=n(5964),l=n(6882),c=n(7462);const u=o.forwardRef((({makeDefault:e,...t},n)=>{const a=(0,r.y)((({set:e})=>e)),i=(0,r.y)((({camera:e})=>e)),l=(0,r.y)((({size:e})=>e)),u=o.useRef(null);return o.useLayoutEffect((()=>{t.manual||(u.current.aspect=l.width/l.height)}),[l,t]),o.useLayoutEffect((()=>{u.current.updateProjectionMatrix()})),o.useLayoutEffect((()=>{if(e){const e=i;return a((()=>({camera:u.current}))),()=>a((()=>({camera:e})))}}),[u,e,a]),o.createElement("perspectiveCamera",(0,c.Z)({ref:(s=[u,n],function(e){s.forEach((function(t){"function"==typeof t?t(e):null!=t&&(t.current=e)}))})},t));var s})),s=n.p+"1f00a8151d98f7b3cc102fce717d6ebd.gltf";var m=n(4975),f=n(2248),d=n(9477);n.p,n.p;const h=n.p+"img/CustomServerIcon__BJSUK.png";var p=n(6826);const g=n.p+"img/check__DcMEB.png",y=n.p+"img/check_x__E2mZ5.png",v=n.p+"img/check_y__zmy4v.png";function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(){var e,t,n=(e=o.useReducer((function(e){return e+1}),0),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];return o.createElement("div",{className:"Settings"},[{type:"tf",name:"setting.use3Dmodel",value:"use3Dmodel"},{type:"range",name:"Crosshair opacity",min:0,max:10,step:1,value:"csOP"},{type:"range",name:"Shadow map quality",min:.01,max:50,step:.01,value:"shadowQ"},{type:"range",name:"Pixel scale",min:1,max:15,step:1,value:"pixelScale"},{type:"tf",name:"Ambient Occlusion",value:"AO"},{type:"tf",name:"Bloom",value:"Bloom"},{type:"tf",name:"Depth of Field",value:"DoF"},{type:"tf",name:"Vignette",value:"Vignette"},{type:"tf",name:"Antialiasing",value:"antialiasing"},{type:"range",name:"Antialiasing mode",min:0,max:2,step:1,value:"antialiasingMode"}].map((function(e){return"tf"==e.type?o.createElement("div",{key:e.name,className:"SettingsLine"},o.createElement("h3",null,e.name),o.createElement(p.o,null,o.createElement("div",{className:"TF",key:"checkbox."+e.value.toLowerCase().replaceAll(" ",""),onClick:function(){localStorage.setItem("setting."+e.value,"true"==localStorage.getItem("setting."+e.value)?"false":"true"),n()}},o.createElement("img",{src:g}),o.createElement("img",{src:"true"==localStorage.getItem("setting."+e.value)?v:y})))):"range"==e.type?o.createElement("div",{key:e.name,className:"SettingsLine"},o.createElement("h3",null,e.name),o.createElement("input",{type:"range",step:e.step,min:e.min,max:e.max,value:parseInt(localStorage.getItem("setting."+e.value)),onChange:function(t){localStorage.setItem("setting."+e.value,t.target.value),n()}})):void 0})))}const b=n.p+"aa0af0059f420dc482ea36f033f3a13c.mp3",S=n.p+"b296c352c22d09d124ef9a9b6e27ca45.mp3",I=n.p+"fcc080c69a5383dc8171625252d28f9c.mp3",x=n.p+"90e54fc9343c71326420917cfc1f9089.mp3",L=n.p+"c72a625a37b41ccca652e601eb7a187d.mp3";var k=n(7526),M=n(6117),_=n(4206),N=n.n(_);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function O(){O=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),i=new I(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function m(){}function f(){}function d(){}var h={};l(h,a,(function(){return this}));var p=Object.getPrototypeOf,g=p&&p(p(x([])));g&&g!==t&&n.call(g,a)&&(h=g);var y=d.prototype=m.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,m=s.value;return m&&"object"==P(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=d,l(y,"constructor",d),l(d,"constructor",f),f.displayName=l(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(w.prototype),l(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(y),l(y,i,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}function A(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,l,"next",e)}function l(e){A(o,r,a,i,l,"throw",e)}i(void 0)}))}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=[b,S,I,x,L];function B(e){var t=e.Spin1,n=e.Spin2,a=e.LightRef,i=(0,r.y)(),l=i.gl;i.camera,l.shadowMap.enabled=!0,(0,r.z)((function(){t.current&&n.current&&(t.current.rotateZ(.005),n.current.rotateZ(.005))})),(0,o.useEffect)((function(){a.current&&(console.log(a.current.shadow),a.current.shadow.mapSize=new d.Vector2(1024*parseFloat(localStorage.getItem("setting.shadowQ")),1024*parseFloat(localStorage.getItem("setting.shadowQ"))))}),[a])}function R(e){var t=j((0,o.useState)(1),2),n=(t[0],t[1],j((0,o.useState)(),2)),r=(n[0],n[1]),i=j((0,o.useState)(0),2),c=i[0],u=i[1],g=j((0,o.useState)(!1),2),y=g[0],v=g[1];(0,o.useEffect)((function(){window.addEventListener("keyup",(function(e){"p"==e.key&&v(!0)}))}),[]),new d.Vector2(4092,4092);var w=(0,o.useRef)(),b=(0,o.useRef)(),S=(0,o.useRef)(),I=j((0,o.useState)(!1),2),x=I[0],L=I[1],_=j((0,o.useState)(!1),2),P=_[0],A=_[1],F=j((0,o.useState)(!1),2),R=F[0],U=F[1],D=j((0,o.useState)(!1),2),z=D[0],V=D[1],J=((0,o.useRef)(),(0,l.L)(s)),Q=J.nodes,$=J.materials,W=j(o.useReducer((function(e){return e+1}),0),2)[1];return(0,o.useEffect)((function(){document.getElementById("MenuSong").src=T[T.length*Math.random()|0],document.getElementById("MenuSong").volume=.15,document.getElementById("MenuSong").play()}),[]),(0,o.useEffect)((function(){(0,k.l)(Q)}),[]),o.createElement(o.Fragment,null,o.createElement("audio",{id:"MenuSong",autoPlay:!1,loop:!1}),o.createElement("div",{className:"MainMenu"},o.createElement("div",{className:"MenuButtons"},o.createElement(p.o,null,o.createElement("button",{uiControlId:console.log,onClick:function(){L(!0)}},"Play")),o.createElement(p.o,null,o.createElement("button",{disabled:!0},"Inventory")),o.createElement(p.o,null,o.createElement("button",{onClick:function(){A(!0)}},"Settings")),o.createElement(p.o,null,o.createElement("button",{onClick:function(){U(!0)}},"Mods"))),1==R?o.createElement(o.Fragment,null,o.createElement("div",{className:"PluginList"},window.API.Plugins.List?window.API.Plugins.List.map((function(e,t){return o.createElement("div",{className:"PluginItem",key:t},o.createElement("img",{src:e.image}),o.createElement("h3",null,e.name),o.createElement("h4",null,e.author),o.createElement("h5",null,e.pluginID),"Ten mod zostanie usunięty po restarcie duckengine/%gamename%"==window.API.Plugins.List[t].pluginID?"":o.createElement("button",{onClick:function(){var e=JSON.parse(localStorage.getItem("df_extenstions"));e.splice(t,1),localStorage.setItem("df_extenstions",JSON.stringify(e)),window.API.Plugins.List[t].pluginID="Ten mod zostanie usunięty po restarcie duckengine/%gamename%",W()}},"Usuń"))})):o.createElement("h3",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"'Pixel', sans-serif",fontWeight:"100"}},"Nie masz żadnych modów :(")),o.createElement("div",{onClick:function(){U(!1)},className:"BG"})):"",1==x?o.createElement(o.Fragment,null,o.createElement("div",{className:"MenuButtons PlayMenu"},o.createElement("div",{className:"PlayMenuSelect"},o.createElement("img",{src:h}),o.createElement("h2",null,"Casual"),o.createElement(p.o,null,o.createElement("button",{onClick:C(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],console.log("Finding server"),new Promise((function(e,n){V(!0),setTimeout((function(){M.Lr.forEach((function(n,r,a){N().get("".concat(n,"/config")).then((function(o){console.log("Got config of "+n),1==M.Oh.includes(o.data.map)?(console.log("".concat(n," 's map is selected")),N().get("".concat(n,"/players")).then((function(i){console.log("Got ".concat(n," 's players")),o.data.maxplayers>Object.keys(i.data).length?(console.log("Found space in "+n),t.push({ip:n,availablePlaces:o.data.maxplayers-Object.keys(i.data).length}),r===a.length-1&&e()):r===a.length-1&&e()}))):r===a.length-1&&e()}))}))}),3e3)})).then((function(){console.log(t),window.ServerIP=t[0].ip,window.forceUpdate(),window.location.hash="#game",window.isGame=!0,window.forceUpdate()}));case 4:case"end":return e.stop()}}),e)})))},"Find game"))),o.createElement("div",{className:"PlayMenuSelect"},o.createElement("img",{src:h}),o.createElement("h2",null,"Custom server"),o.createElement(p.o,null,o.createElement("input",{value:window.ServerIP,onChange:function(e){window.ServerIP=e.target.value,W()},type:"text"})),o.createElement(p.o,null,o.createElement("button",{onClick:function(){var e;1==(e=window.ServerIP.split(":")[0],!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e))||1==function(e){var t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}(window.ServerIP)?(window.location.hash="#game",window.isGame=!0,window.forceUpdate()):console.log("Invalid IP")}},"Connect")))),o.createElement("div",{onClick:function(){L(!1)},className:"BG"})):"",1==P?o.createElement(o.Fragment,null,o.createElement(E,null),o.createElement("div",{onClick:function(){A(!1)},className:"BG"})):"",o.createElement(a.Xz,{dpr:(Math.min(window.devicePixelRatio),2/12*parseFloat(localStorage.getItem("setting.pixelScale"))),shadows:{autoUpdate:!0,enabled:!0,type:d.PCFSoftShadowMap}},o.createElement(B,{Spin1:w,Spin2:b,LightRef:S}),o.createElement(G,{nodes:Q,materials:$,Spin1:w,Spin2:b,LightRef:S}),o.createElement(m.xC,{multisampling:0},"false"!=localStorage.getItem("setting.DoF")?o.createElement(m.y8,{focusDistance:0,focalLength:.06,bokehScale:2,height:480}):"","false"!=localStorage.getItem("setting.Bloom")?o.createElement(m.dp,{luminanceThreshold:0,luminanceSmoothing:10,height:300}):"","false"!=localStorage.getItem("setting.Vignette")?o.createElement(m.sY,{eskil:!1,offset:.1,darkness:1.1}):"","false"!=localStorage.getItem("setting.antialiasing")?o.createElement(m.k,{preset:1,edgeDetectionMode:parseInt(localStorage.getItem("setting.antialiasingMode"))}):"","false"!=localStorage.getItem("setting.AO")?o.createElement(o.Fragment,null,o.createElement(m.K,{blendFunction:f.YQ.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,scale:.5,bias:.5})):""))),1==z?o.createElement("div",{className:"ServerFinding"}):"",1==y?o.createElement("div",{className:"ExtenstionInstaller"},o.createElement("div",{className:"ExtenstionView NativeWindow"},o.createElement("h2",{className:"h2"},"duckengine/$gamename$ ",o.createElement("a",{href:"#",class:"close"},"Close")),o.createElement("div",{className:"ViewObject",style:{left:"".concat(c,"%")}},o.createElement("div",{className:"file-input"},o.createElement("input",{type:"file",accept:".dmodfile",onChange:function(e){r(e.target.files[0]),u(-100);var t=new FileReader;t.readAsText(e.target.files[0],"UTF-8"),t.onload=function(e){1==e.target.result.includes('"forApp": "148962"')?setTimeout((function(){null==localStorage.getItem("df_extenstions")&&localStorage.setItem("df_extenstions",JSON.stringify([]));var t=JSON.parse(localStorage.getItem("df_extenstions")),n=document.createElement("script");n.innerHTML=e.target.result,document.body.appendChild(n),console.log(window.ExtensionManifest),t.push({manifest:window.ExtensionManifest[window.ExtensionManifest.length-1],script:e.target.result}),localStorage.setItem("df_extenstions",JSON.stringify(t)),setTimeout((function(){window.location.reload()}),700)}),1500):setTimeout((function(){u(-200)}),300)},t.onerror=function(e){setTimeout((function(){console.error("Error reading extension"),u(-200)}),2e3)}}}),o.createElement("span",{className:"button"},"Wybierz plik .dmodfile lub przeciągnij go tu")),o.createElement("div",{className:"ExtenstionButtonLine"},o.createElement("button",{onClick:function(){v(!1)}},"Anuluj"))),o.createElement("div",{className:"ViewObject",id:"installing",style:{left:"".concat(c,"%")}},o.createElement("h2",{className:"InstallText"},"Instaluję..."),o.createElement("div",{className:"ExtenstionButtonLine"})),o.createElement("div",{className:"ViewObject",style:{left:"".concat(c,"%")}},o.createElement("h2",{className:"InstallText"},"Wystąpił błąd"),o.createElement("div",{className:"ExtenstionButtonLine"})))):"")}function G(e){e.Spin1,e.Spin2;var t=e.nodes,n=e.materials,r=e.LightRef;return o.createElement("group",{dispose:null},o.createElement("group",{position:[0,3.04,-.19]},o.createElement("mesh",{geometry:t.cube012.geometry,material:n["Material_0.001"]}),o.createElement("mesh",{geometry:t.pyramid.geometry,material:n["Material_0.001"]})),o.createElement("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.cube062.geometry,material:n["Material_0.012"]}),o.createElement("group",{position:[0,3.21,0],rotation:[0,0,0]},o.createElement(k.k,{ref:r,intensity:1,angle:.78,penumbra:1,decay:2,OriginPosition:[0,3.21,0],rotation:[-Math.PI/2,0,0]}),o.createElement("ambientLight",{intensity:.06})),o.createElement("group",{position:[-.1,1.51,-6.32],rotation:[Math.PI/2,0,Math.PI]},o.createElement(u,{makeDefault:!0,far:1e3,near:.1,fov:22.9,rotation:[-Math.PI/2,0,0]})),o.createElement("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.cube014.geometry,material:n["Material_0.003"],position:[0,0,.84]}),o.createElement("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.cube015.geometry,material:n["Material_0.004"],position:[-3,0,.84]}),o.createElement("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.cube013.geometry,material:n["Material_0.002"],position:[2.99,0,.84]}),o.createElement("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.cube018.geometry,material:n["Material_0.007"],position:[2.99,2.23,.84]}),o.createElement("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.cube017.geometry,material:n["Material_0.006"],position:[0,2.23,.84]}),o.createElement("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.cube016.geometry,material:n["Material_0.005"],position:[-3,2.23,.84]}))}(0,i.v)(),l.L.preload(s)}}]);