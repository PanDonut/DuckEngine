/*! For license information please see 199.js.LICENSE.txt */
"use strict";(global.webpackChunkelectron_react_webpack_boilerplate=global.webpackChunkelectron_react_webpack_boilerplate||[]).push([[199],{199:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$t});var o=n(294),r=n(792),i=n(187),a=n(856);n.p;var c=n(413);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var f=n(822),p=n(477);function d(e,t,n,o,r){var i=setInterval((function(){t>e&&(r(e+=n),e>t&&clearInterval(i)),t<e&&(r(e-=n),e<t&&clearInterval(i))}),o)}function y(e,t){return Math.random()*(e-t)+t}var h=function(e,t,n,o,r){return(e-t)*(r-o)/(n-t)+o};n.p;const w=n.p+"9209a64bba00e1d972a34f4efd8ea3a9.gltf";var E=n(882),b=n(951),g=!1,v={type:"horizontal_D",range:90};function S(){return console.log(g),g}function O(e){console.log("settingCanShoot",e),g=e}function R(){return v}function A(e){console.log("settingCanShoot",e),v=e}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_.apply(this,arguments)}function I(e,t,n,r){return function(n){var r=(0,E.L)(t);return o.createElement(e,_({},n,{gltfHook:r,animHook:function(e,t){return(0,b.v)(e,t)}}))}}var D=function(e){var t=e.value,n=e.didUpdate;return(0,o.useEffect)((function(){n(t)}),t),null};function L(e){var t=(0,b.v)(e.animations,e.group).actions;(0,o.useEffect)((function(){t["animation.viewmodel.draw"].setLoop(p.LoopOnce,1),t["animation.viewmodel.draw"].weight=2,t["animation.viewmodel.draw"].play(),t["animation.viewmodel.hold"].play(),window.addEventListener("keyup",(function(e){"f"==e.key&&(t["animation.viewmodel.inspect"].stop(),t["animation.viewmodel.inspect"].setLoop(p.LoopOnce,1),t["animation.viewmodel.inspect"].weight=2,t["animation.viewmodel.inspect"].timeScale=1,t["animation.viewmodel.inspect"].play())}))}),[]);var n,r,i=1;return(0,o.useEffect)((function(){window.ClickAnim=function(n){if(window.gameforceUpdate(),parseInt(document.getElementsByClassName("ClipCount")[0].innerHTML)>0&&1==S())if("basic"==e.DiffAnims)t["animation.viewmodel.inspect"].stop(),t["animation.viewmodel.fire"].timeScale=1.7,t["animation.viewmodel.fire"].stop(),t["animation.viewmodel.fire"].setLoop(p.LoopOnce,1),t["animation.viewmodel.fire"].weight=3,t["animation.viewmodel.fire"].play();else if("random"==e.DiffAnims){var o=e.anims[e.anims.length*Math.random()|0];t["animation.viewmodel.inspect"].stop(),t[o].timeScale=1.7,t[o].stop(),t[o].setLoop(p.LoopOnce,1),t[o].weight=3,t[o].play()}else"pershot"==e.DiffAnims&&(o=e.anims[i-1],t["animation.viewmodel.inspect"].stop(),t[o].timeScale=1.7,t[o].stop(),t[o].setLoop(p.LoopOnce,1),t[o].weight=3,t[o].play(),i=i>=2?1:2)}}),[]),(n=o.useReducer((function(e){return e+1}),0),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw r}}return i}}(n,r)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],(0,o.useEffect)((function(){var n=function(n){console.log(e),parseInt(document.getElementsByClassName("ClipCount")[0].innerHTML)<e.CLIPSIZE&&parseInt(document.getElementsByClassName("AmmoCount")[0].innerHTML)>0&&1==S()&&"r"==n.key&&("each"==e.RELOADTYPE?(t["animation.viewmodel.reload"].stop(),t["animation.viewmodel.reloadFinish"].stop(),t["animation.viewmodel.inspect"].stop(),t["animation.viewmodel.reload"].weight=3,t["animation.viewmodel.reload"].fadeIn(.15),t["animation.viewmodel.reload"].timeScale=1,t["animation.viewmodel.reload"].setLoop(p.LoopRepeat,e.CLIPSIZE-parseInt(document.getElementsByClassName("ClipCount")[0].innerHTML)),t["animation.viewmodel.reload"].play(),setTimeout((function(){t["animation.viewmodel.reload"].stop(),t["animation.viewmodel.reloadFinish"].setLoop(p.LoopOnce,1),t["animation.viewmodel.reloadFinish"].weight=4,t["animation.viewmodel.reloadFinish"].play()}),1e3*e.RELOADTIME*(e.CLIPSIZE-parseInt(document.getElementsByClassName("ClipCount")[0].innerHTML))-150)):"once"==e.RELOADTYPE&&(t["animation.viewmodel.reloadFinish"].setLoop(p.LoopOnce,1),t["animation.viewmodel.reloadFinish"].weight=4,t["animation.viewmodel.reloadFinish"].play(),setTimeout((function(){t["animation.viewmodel.reloadFinish"].stop()}),1e3*e.RELOADTIME)))};return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[]),(0,o.useEffect)((function(){switch(e.state){case"run":t["animation.viewmodel.move"].timeScale=1,t["animation.viewmodel.move"].play();break;case"crouch":t["animation.viewmodel.move"].timeScale=.5,t["animation.viewmodel.move"].play();break;case"idle":t["animation.viewmodel.move"].fadeOut(.1),setTimeout((function(){t["animation.viewmodel.move"].stop()}),100)}}),[e.state]),e.children}const j=n.p+"a1b0564a15ae3bf6f5e79c3047453e1d.gltf";function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},T.apply(this,arguments)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function N(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}I(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(r);if(i){var n=F(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return N(this,e)});function c(){var e;M(this,c);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Z(x(e=a.call.apply(a,[this].concat(n))),"gltf",e.props.gltfHook),Z(x(e),"nodes",e.gltf.nodes),Z(x(e),"materials",e.gltf.materials),e}return t=c,(n=[{key:"render",value:function(){return o.createElement("group",T({},props,{dispose:null}),o.createElement("group",{position:[0,.03125,-.00520833]},o.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:nodes.cube.geometry,material:nodes.cube.material,position:[0,-.03125,-.04166667]}),o.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:nodes.cube_1.geometry,material:nodes.cube_1.material,position:[0,-.03125,-.04166667]}),o.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:nodes.cube_2.geometry,material:nodes.cube_2.material,position:[0,-.03125,-.04166667]})))}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.Component),j);const H=n.p+"c77f3e86724ad6fdfb51e822a0b47c65.gltf";function B(e){var t=(0,o.useRef)(),n=(0,E.L)(H),r=n.nodes,i=(n.materials,n.animations);return(0,b.v)(i,t).actions,o.createElement(o.Fragment,null,o.createElement("mesh",{name:"left_arm_1",castShadow:!0,receiveShadow:!0,geometry:r.left_arm_1.geometry,material:r.left_arm_1.material,position:[.75,-2.94,0]}),o.createElement("mesh",{name:"jacket_l_arm",castShadow:!0,receiveShadow:!0,geometry:r.jacket_l_arm.geometry,material:r.jacket_l_arm.material,position:[.75,-2.94,0]}))}function G(e){var t=(0,o.useRef)(),n=(0,E.L)(H),r=n.nodes,i=(n.materials,n.animations);return(0,b.v)(i,t).actions,o.createElement(o.Fragment,null,o.createElement("mesh",{name:"jacket_r_arm",castShadow:!0,receiveShadow:!0,geometry:r.jacket_r_arm.geometry,material:r.jacket_r_arm.material,position:[-.75,-2.94,0]}),o.createElement("mesh",{name:"right_arm_1",castShadow:!0,receiveShadow:!0,geometry:r.right_arm_1.geometry,material:r.right_arm_1.material,position:[-.75,-2.94,0]}))}function Y(e){var t=(0,E.L)(H),n=t.nodes,r=(t.materials,t.animations),i=(0,b.v)(r,e.group).actions;function a(e){i[e].fadeIn(.1),i[e].play(),Object.keys(i).forEach((function(t){t!=e&&(i[t].fadeOut(.1),setTimeout((function(){i[t].stop()}),100))}))}return(0,o.useEffect)((function(){switch(e.animState){case"idle":a("animation.player.idle");break;case"crouch":a("animation.player.crouch");break;case"cf":a("animation.player.crouchF");break;case"run":a("animation.player.run");break;case"l":a("animation.player.runL");break;case"r":a("animation.player.runR");break;case"sl":a("animation.player.strafeL");break;case"sr":a("animation.player.strafeR");break;case"dead":a("animation.player.death");break;case"inair":a("animation.player.airwalk");break;case"jump":a("animation.player.jump");break;default:a("animation.player.def")}console.log(i)}),[e.animState]),o.createElement("group",null,o.createElement("group",{name:"jacket_physics",rotation:[-.57,0,0]},o.createElement("group",{name:"cntr",position:[0,0,.25]},o.createElement("mesh",{name:"cube",castShadow:!0,receiveShadow:!0,geometry:n.cube.geometry,material:n.cube.material,position:[0,0,-.25]})),o.createElement("group",{name:"l",position:[-.49,.09,.19],rotation:[-.03,-.55,-.36]},o.createElement("mesh",{name:"cube_1",castShadow:!0,receiveShadow:!0,geometry:n.cube_1.geometry,material:n.cube_1.material,position:[0,0,-.25]})),o.createElement("group",{name:"r",position:[.64,.12,.16],rotation:[-.01,.23,.48]},o.createElement("mesh",{name:"cube_2",castShadow:!0,receiveShadow:!0,geometry:n.cube_2.geometry,material:n.cube_2.material,position:[-.1,-.67,.03],rotation:[-3.1,.01,-2.98]}))),o.createElement("mesh",{name:"body_1",castShadow:!0,receiveShadow:!0,geometry:n.body_1.geometry,material:n.body_1.material,position:[0,-1.5,0]}),o.createElement("mesh",{name:"jacket_body",castShadow:!0,receiveShadow:!0,geometry:n.jacket_body.geometry,material:n.jacket_body.material,position:[0,-1.5,0]}))}function W(e){var t=(0,o.useRef)(),n=(0,E.L)(H),r=n.nodes,i=(n.materials,n.animations);return(0,b.v)(i,t).actions,o.createElement(o.Fragment,null,o.createElement("group",{name:"left_leg",position:[-.25,1.5,0]},o.createElement("group",{name:"boot_l",position:[-.5,1.81,0]},o.createElement("mesh",{name:"left_leg_2",castShadow:!0,receiveShadow:!0,geometry:r.left_leg_2.geometry,material:r.left_leg_2.material,position:[.75,-2.94,0]}),o.createElement("mesh",{name:"left_leg_3",castShadow:!0,receiveShadow:!0,geometry:r.left_leg_3.geometry,material:r.left_leg_3.material,position:[.75,-2.94,0]})),o.createElement("mesh",{name:"left_leg_1",castShadow:!0,receiveShadow:!0,geometry:r.left_leg_1.geometry,material:r.left_leg_1.material,position:[.25,-1.5,0]})),o.createElement("group",{name:"right_leg",position:[.25,1.5,0]},o.createElement("group",{name:"boot_r",position:[-.5,1.81,0]},o.createElement("mesh",{name:"left_leg_4",castShadow:!0,receiveShadow:!0,geometry:r.left_leg_4.geometry,material:r.left_leg_4.material,position:[.75,-2.94,0]}),o.createElement("mesh",{name:"left_leg_5",castShadow:!0,receiveShadow:!0,geometry:r.left_leg_5.geometry,material:r.left_leg_5.material,position:[.75,-2.94,0]})),o.createElement("mesh",{name:"right_leg_1",castShadow:!0,receiveShadow:!0,geometry:r.right_leg_1.geometry,material:r.right_leg_1.material,position:[-.25,-1.5,0]})))}function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function V(){V=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var r=t&&t.prototype instanceof s?t:s,i=Object.create(r.prototype),a=new O(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return{value:void 0,done:!0}}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var c=g(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=u(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var m={};function s(){}function f(){}function p(){}var d={};c(d,r,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(R([])));h&&h!==t&&n.call(h,r)&&(d=h);var w=p.prototype=s.prototype=Object.create(d);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function o(r,i,a,c){var l=u(e[r],e,i);if("throw"!==l.type){var m=l.arg,s=m.value;return s&&"object"==z(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(s).then((function(e){m.value=e,a(m)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var r;this._invoke=function(e,n){function i(){return new t((function(t,r){o(e,n,t,r)}))}return r=r?r.then(i,i):i()}}function g(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function v(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(v,this),this.reset(!0)}function R(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=p,c(w,"constructor",p),c(p,"constructor",f),f.displayName=c(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,a,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new b(l(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),c(w,a,"Generator"),c(w,r,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=R,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:R(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function $(e,t,n,o,r,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(o,r)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){$(i,o,r,a,c,"next",e)}function c(e){$(i,o,r,a,c,"throw",e)}a(void 0)}))}}function X(e){var t=e.animations,n=e.nodes,r=e.group,i=e.animate,a=void 0!==i&&i,c=e.state,l=e.Arms,u=(0,b.v)(t,r).actions;function m(e){return s.apply(this,arguments)}function s(){return(s=K(V().mark((function e(t){return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object.keys(u).forEach((function(e){"animation.thirdperson.hold"!=e&&(u[e].fadeOut(.1),setTimeout((function(){u[e].stop()}),100))}));case 2:u[t].fadeIn(.1),u[t].play(),u[t].weight=2,u[t].setLoop(p.LoopOnce,1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.useEffect)((function(){if(1==a)switch(c){case"reload":m("animation.thirdperson.reload");break;case"reloadF":m("animation.thirdperson.Finish");break;case"fire":m("animation.thirdperson.fire")}}),[c]),(0,o.useEffect)((function(){1==a&&(u["animation.thirdperson.hold"].play(),u["animation.thirdperson.hold"].weight=1)}),[]),o.createElement(o.Fragment,null,o.createElement("group",{name:"right_arm",position:[.75,.19,0]},o.createElement("group",{name:"WeaponRoot",position:[0,-1.31,0]},o.createElement("group",{name:"WeaponRoot2",position:[.02,.13,-.15],rotation:[Math.PI,0,Math.PI/2]},o.createElement("group",{name:"pump",position:[1.8,.06,.15]},o.createElement("mesh",{name:"pump_1",castShadow:!0,receiveShadow:!0,geometry:n.pump_1.geometry,material:n.pump_1.material,position:[0,0,.02],rotation:[0,-.04,0]})),o.createElement("group",{name:"muzzle",position:[2.26,.06,.32]},o.createElement("mesh",{name:"pyramid",castShadow:!0,receiveShadow:!0,geometry:n.pyramid.geometry,material:n.pyramid.material,position:[-1.33,0,-.09],rotation:[0,0,Math.PI/2]})),o.createElement("group",{name:"base",position:[.94,.06,.24]},o.createElement("mesh",{name:"box",castShadow:!0,receiveShadow:!0,geometry:n.box.geometry,material:n.box.material,position:[.19,-.06,.04]}),o.createElement("mesh",{name:"top_barrel",castShadow:!0,receiveShadow:!0,geometry:n.top_barrel.geometry,material:n.top_barrel.material,position:[.19,-.06,.04]}),o.createElement("mesh",{name:"bottom_barrel",castShadow:!0,receiveShadow:!0,geometry:n.bottom_barrel.geometry,material:n.bottom_barrel.material,position:[.56,0,-.04],rotation:[-Math.PI/4,0,0]}),o.createElement("mesh",{name:"holder",castShadow:!0,receiveShadow:!0,geometry:n.holder.geometry,material:n.holder.material,position:[.19,-.06,.04]}),o.createElement("mesh",{name:"handle",castShadow:!0,receiveShadow:!0,geometry:n.handle.geometry,material:n.handle.material,position:[-.89,0,-.11],rotation:[0,-.92,0]})),o.createElement("group",{name:"trigger",position:[.33,.06,.13]},o.createElement("mesh",{name:"trigger_1",castShadow:!0,receiveShadow:!0,geometry:n.trigger_1.geometry,material:n.trigger_1.material,position:[.01,0,-.02],rotation:[0,-.44,0]})))),l?o.createElement(l.R,null):""),o.createElement("group",{name:"left_arm",position:[-.75,.19,0]},l?o.createElement(l.L,null):""))}function q(e){var t=e.animations,n=e.nodes,r=e.group,i=e.animate,a=void 0!==i&&i,c=e.state,l=e.Arms,u=(0,b.v)(t,r).actions;function m(e){u[e].fadeIn(.1),u[e].play(),Object.keys(u).forEach((function(t){t!=e&&(u[t].fadeOut(.1),setTimeout((function(){u[t].stop()}),100))}))}return(0,o.useEffect)((function(){if(1==a)switch(c){case"hold":default:m("animation.thirdperson.hold");break;case"reload":m("animation.thirdperson.reload");break;case"reloadF":m("animation.thirdperson.Finish");break;case"fire":m("animation.thirdperson.fire")}}),[c]),o.createElement(o.Fragment,null,o.createElement("group",{name:"right_arm",position:[.75,.19,0]},o.createElement("group",{name:"WeaponRoot",position:[0,-1.31,0]},o.createElement("group",{name:"b25cb85a-aaf7-5db1-b1e5-458265e79d97",position:[-.5,2.06,0]},o.createElement("group",{name:"cb13ef03-bbbc-a544-fb32-b648299c41cb"}),o.createElement("group",{name:"dd33cacb-b5b7-85ab-b89f-ae5870996b40"}),o.createElement("group",{name:"c4e74632-865e-4f1c-d6f7-d13aa591e616"})),o.createElement("group",{name:"WeaponRoot2",position:[.06,0,-.19],rotation:[-Math.PI/2,0,Math.PI/2]},o.createElement("group",{name:"hammer",position:[.24,.06,-.01]},o.createElement("mesh",{name:"cube",castShadow:!0,receiveShadow:!0,geometry:n.cube.geometry,material:n.cube.material,position:[.07,0,.06],rotation:[0,-Math.PI/4,0]})),o.createElement("group",{name:"handle",position:[.04,.06,-.12]},o.createElement("mesh",{name:"cube_1",castShadow:!0,receiveShadow:!0,geometry:n.cube_1.geometry,material:n.cube_1.material,position:[-.07,0,.09],rotation:[0,.22,0]}),o.createElement("mesh",{name:"cube_2",castShadow:!0,receiveShadow:!0,geometry:n.cube_2.geometry,material:n.cube_2.material,position:[.08,-.06,-.2]}),o.createElement("mesh",{name:"cube_3",castShadow:!0,receiveShadow:!0,geometry:n.cube_3.geometry,material:n.cube_3.material,position:[.08,-.06,-.2]})),o.createElement("group",{name:"base",position:[.13,0,-.31]},o.createElement("mesh",{name:"cube_4",castShadow:!0,receiveShadow:!0,geometry:n.cube_4.geometry,material:n.cube_4.material}),o.createElement("mesh",{name:"cube_5",castShadow:!0,receiveShadow:!0,geometry:n.cube_5.geometry,material:n.cube_5.material})))),l?o.createElement(l.R,null):""),o.createElement("group",{name:"left_arm",position:[-.75,.19,0]},l?o.createElement(l.L,null):""))}function J(e){var t=e.animations,n=e.nodes,r=e.group,i=e.animate,a=void 0!==i&&i,c=e.state,l=e.Arms,u=(0,b.v)(t,r).actions;function m(e){u[e].fadeIn(.1),u[e].play(),Object.keys(u).forEach((function(t){t!=e&&(u[t].fadeOut(.1),setTimeout((function(){u[t].stop()}),100))}))}return(0,o.useEffect)((function(){if(1==a)switch(c){case"hold":default:m("animation.thirdperson.hold");break;case"reload":m("animation.thirdperson.reload");break;case"reloadF":m("animation.thirdperson.Finish");break;case"fire":m("animation.thirdperson.fire")}}),[c]),o.createElement(o.Fragment,null,o.createElement("group",{name:"right_arm",position:[.75,.1875,0]},o.createElement("group",{name:"WeaponRoot",position:[0,-1.3125,0]},o.createElement("group",{name:"WeaponRoot2",position:[0,.0625,-.1875],rotation:[-Math.PI/2,0,Math.PI/2]},o.createElement("group",{name:"handle",position:[.1875,-.0625,-.3125]},o.createElement("mesh",{name:"cube_6",castShadow:!0,receiveShadow:!0,geometry:n.cube_6.geometry,material:n.cube_6.material,position:[-.15625,.0625,.28125],rotation:[0,.21816616,0]}),o.createElement("mesh",{name:"cube_7",castShadow:!0,receiveShadow:!0,geometry:n.cube_7.geometry,material:n.cube_7.material}),o.createElement("mesh",{name:"cube_8",castShadow:!0,receiveShadow:!0,geometry:n.cube_8.geometry,material:n.cube_8.material})),o.createElement("group",{name:"hammer",position:[.328125,-.0625,0]},o.createElement("mesh",{name:"cube_9",castShadow:!0,receiveShadow:!0,geometry:n.cube_9.geometry,material:n.cube_9.material,position:[.0375,.0625,.05],rotation:[0,-Math.PI/4,0]})),o.createElement("group",{name:"base",position:[.1875,-.0625,-.3125]},o.createElement("mesh",{name:"cube_10",castShadow:!0,receiveShadow:!0,geometry:n.cube_10.geometry,material:n.cube_10.material}),o.createElement("mesh",{name:"cube_11",castShadow:!0,receiveShadow:!0,geometry:n.cube_11.geometry,material:n.cube_11.material})))),l?o.createElement(l.R,null):""),o.createElement("group",{name:"left_arm",position:[-.75,.1875,0]},o.createElement("group",{name:"WeaponRoot3",position:[0,-1.25,-.1875],rotation:[-Math.PI/2,0,Math.PI/2]},o.createElement("group",{name:"handle2",position:[.1875,-.0625,-.3125]},o.createElement("mesh",{name:"cube",castShadow:!0,receiveShadow:!0,geometry:n.cube.geometry,material:n.cube.material,position:[-.15625,.0625,.28125],rotation:[0,.21816616,0]}),o.createElement("mesh",{name:"cube_1",castShadow:!0,receiveShadow:!0,geometry:n.cube_1.geometry,material:n.cube_1.material}),o.createElement("mesh",{name:"cube_2",castShadow:!0,receiveShadow:!0,geometry:n.cube_2.geometry,material:n.cube_2.material})),o.createElement("group",{name:"hammer2",position:[.328125,-.0625,0]},o.createElement("mesh",{name:"cube_3",castShadow:!0,receiveShadow:!0,geometry:n.cube_3.geometry,material:n.cube_3.material,position:[.0375,.0625,.05],rotation:[0,-Math.PI/4,0]})),o.createElement("group",{name:"base2",position:[.1875,-.0625,-.3125]},o.createElement("mesh",{name:"cube_4",castShadow:!0,receiveShadow:!0,geometry:n.cube_4.geometry,material:n.cube_4.material}),o.createElement("mesh",{name:"cube_5",castShadow:!0,receiveShadow:!0,geometry:n.cube_5.geometry,material:n.cube_5.material}))),l?o.createElement(l.L,null):""))}function Q(e){var t=e.animations,n=(e.nodes,e.group),r=e.animate,i=void 0!==r&&r,a=e.state,c=e.Arms,l=(0,b.v)(t,n).actions;function u(e){l[e].fadeIn(.1),l[e].play(),Object.keys(l).forEach((function(t){t!=e&&(l[t].fadeOut(.1),setTimeout((function(){l[t].stop()}),100))}))}return(0,o.useEffect)((function(){if(1==i)switch(a){case"hold":default:u("animation.thirdperson.hold");break;case"reload":u("animation.thirdperson.reload");break;case"reloadF":u("animation.thirdperson.Finish");break;case"fire":u("animation.thirdperson.fire")}}),[a]),o.createElement(o.Fragment,null,o.createElement("group",{name:"right_arm",position:[.75,.19,0]},o.createElement("group",{name:"WeaponRoot",position:[0,-1.31,0]}),c?o.createElement(c.R,null):""),o.createElement("group",{name:"left_arm",position:[-.75,.19,0]},c?o.createElement(c.L,null):""))}function ee(e){e!=window.AnimState&&(window.Server.emit("state",e),console.log(e)),window.AnimState=e}function te(e){e!=window.WeaponAnimState&&(window.Server.emit("weaponstate",e),console.log(e)),window.WeaponAnimState=e}function ne(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function oe(e,t,n){return t&&ne(e.prototype,t),n&&ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}E.L.preload(H);const re=oe((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=new p.Mesh(new p.BoxGeometry(2,2,2));n.add(o),o.position.set(0,1,0)}));function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}function ue(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return me(e)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ye(e,t)}function he(e,t){if(t&&("object"===pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return we(e)}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ee(e)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ge=I(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ye(e,t)}(i,e);var t,n,o,r=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ee(n);if(o){var r=Ee(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return he(this,e)});function i(){var e;de(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return be(we(e=r.call.apply(r,[this].concat(n))),"RANGE",1e3),be(we(e),"CLIPSIZE",6),be(we(e),"AMMOSIZE",64),be(we(e),"PERSHOT",6),be(we(e),"SPREAD",.3),be(we(e),"DAMAGE",6),be(we(e),"RELOADTIME",.51),be(we(e),"FIRETIME",.5),be(we(e),"FIRESOUND_DELAY",.3),be(we(e),"RENDERER",X),be(we(e),"FIRESOUND","0x000001"),be(we(e),"RELOADSOUND","0x000002"),be(we(e),"RELOADEND","0x000003"),e}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=se(r);if(i){var n=se(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ue(this,e)});function c(){var e;ae(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fe(me(e=a.call.apply(a,[this].concat(n))),"group",(0,o.createRef)()),fe(me(e),"RANGE",1e3),fe(me(e),"CLIPSIZE",8),fe(me(e),"AMMOSIZE",64),fe(me(e),"PERSHOT",6),fe(me(e),"SPREAD",.3),fe(me(e),"DAMAGE",6),fe(me(e),"RENDERER",X),fe(me(e),"RELOADTIME",.5),fe(me(e),"FIRETIME",2.67),fe(me(e),"DRAWTIME",.58),fe(me(e),"FIRESOUND_DELAY",.1),fe(me(e),"CROSSHAIR",{type:"horizontal_D",range:90}),fe(me(e),"gltf",e.props.gltfHook),fe(me(e),"nodes",e.gltf.nodes),fe(me(e),"materials",e.gltf.materials),fe(me(e),"animations",e.gltf.animations),fe(me(e),"DiffAnims","basic"),fe(me(e),"anims",[]),fe(me(e),"RELOADTYPE","each"),fe(me(e),"FIRESOUND","0x000001"),fe(me(e),"RELOADSOUND","0x000002"),fe(me(e),"RELOADEND","0x000003"),fe(me(e),"Shoot",(function(t){var n=new p.Vector3,o=[];e.props.camera.getWorldDirection(n),n.add(t),new p.Raycaster(e.props.camera.position,n).intersectObjects(e.props.scene.children,!0,o),o[0]&&o[0].object&&o[0].object.userData.id&&window.Server.emit("dmg",{id:o[0].object.userData.id,dmg:e.DAMAGE})})),fe(me(e),"Refresh",(function(){window.gameforceUpdate()})),fe(me(e),"StartState",(function(){A(e.CROSSHAIR),te("hold"),window.ShootClick=function(){!function(){if(1==window.isGame&&1==S()&&window.PrimaryClip>0){setTimeout((function(){O(!1)}),10),new re(new p.Vector3,e.group.current),te("fire"),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.FIRESOUND}),setTimeout((function(){window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADEND})}),1e3*e.FIRESOUND_DELAY),console.log("FIRE!"),window.PrimaryClip=window.PrimaryClip-1,window.gameforceUpdate();var t=new p.Vector3(0,0,0);e.Shoot(t);for(var n=0;n<e.PERSHOT-1;n++){var o=new p.Vector3(y(e.SPREAD,0),y(e.SPREAD,0),0);e.Shoot(o),console.log("THIS",o)}window.gameforceUpdate(),setTimeout((function(){O(!0)}),1e3*e.FIRETIME),setTimeout((function(){te("hold")}),1e3*e.FIRETIME+1e3*e.FIRESOUND_DELAY)}}()},window.ReloadLogic=function(t){if("r"==t.key&&window.PrimaryAmmo>0&&1==S()){te("reload"),setTimeout((function(){O(!1)}),10),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADSOUND});var n=setInterval((function(){window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADSOUND})}),1e3*e.RELOADTIME);setTimeout((function(){clearInterval(n),te("reloadF")}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.PrimaryClip-1)),setTimeout((function(){var t=e.CLIPSIZE-window.PrimaryClip;e.ClipUpdate([e.CLIPSIZE]),e.AmmoUpdate([window.PrimaryAmmo-t]),window.PrimaryClip=e.CLIPSIZE,window.PrimaryAmmo=window.PrimaryAmmo-t,console.log(window.PrimaryClip),e.Refresh(),O(!0),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADEND}),te("hold")}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.PrimaryClip))}},e.ClipUpdate([window.PrimaryClip]),e.AmmoUpdate([window.PrimaryAmmo]),setTimeout((function(){O(!0)}),1e3*e.DRAWTIME)})),fe(me(e),"ClipUpdate",(function(e){console.log("ClipUpdate",e),document.getElementsByClassName("ClipCount")[0]&&(document.getElementsByClassName("ClipCount")[0].innerHTML=e[0])})),fe(me(e),"AmmoUpdate",(function(e){console.log("AmmoUpdate",e),document.getElementsByClassName("AmmoCount")[0]&&(document.getElementsByClassName("AmmoCount")[0].innerHTML=e[0])})),e}return t=c,n=[{key:"IdentifyParts",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.children.forEach((function(e){e.material&&(e.renderOrder=999,e.material.depthTest=!0,e.material.depthWrite=!1,e.material.polygonOffset=!0,e.material.polygonOffsetFactor=-4),e.children&&IdentifyParts(e)}))}))},{key:"render",value:function(){return console.log("THIS",this),o.createElement(o.Fragment,null,o.createElement(D,{value:[],didUpdate:this.StartState}),o.createElement(D,{value:[window.PrimaryClip],didUpdate:this.ClipUpdate}),o.createElement(D,{value:[window.PrimaryAmmo],didUpdate:this.AmmoUpdate}),o.createElement(L,{group:this.group,animations:this.animations,Ammo:window.PrimaryAmmo,Clip:window.PrimaryClip,state:this.props.state,RELOADTIME:this.RELOADTIME,CLIPSIZE:this.CLIPSIZE,RELOADTYPE:this.RELOADTYPE,DiffAnims:this.DiffAnims,anims:this.anims},o.createElement("group",{ref:this.group,dispose:null,position:[0,-.27,-.33]},o.createElement("group",{name:"blockbench_export"},o.createElement("group",null,o.createElement("group",{name:"Root",position:[-.25,-.6875,0]},o.createElement("group",{name:"body",position:[0,-1.5,0]},o.createElement("group",{name:"arms",position:[0,1.25,0]},o.createElement(this.RENDERER,{animations:this.animations,nodes:this.nodes,group:this.group,Arms:this.props.Arms})),o.createElement("group",{name:"HeadMod",position:[0,1.5625,0]},o.createElement("group",{name:"head"}))),o.createElement("group",{name:"left_leg",position:[-.25,-1.5,0]}),o.createElement("group",{name:"right_leg",position:[.25,-1.5,0]})))))))}}],n&&ce(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.Component)),w);function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Re(e,t){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Re(e,t)}function Ae(e,t){if(t&&("object"===ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pe(e)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){return _e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_e(e)}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Re(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_e(r);if(i){var n=_e(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ae(this,e)});function c(){var e;Se(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ie(Pe(e=a.call.apply(a,[this].concat(n))),"group",(0,o.createRef)()),Ie(Pe(e),"RANGE",1e3),Ie(Pe(e),"CLIPSIZE",8),Ie(Pe(e),"AMMOSIZE",64),Ie(Pe(e),"PERSHOT",6),Ie(Pe(e),"SPREAD",.3),Ie(Pe(e),"DAMAGE",6),Ie(Pe(e),"RENDERER",X),Ie(Pe(e),"RELOADTYPE","each"),Ie(Pe(e),"RELOADTIME",.5),Ie(Pe(e),"RELOADTIMESOUND",.87),Ie(Pe(e),"FIRETIME",2.67),Ie(Pe(e),"DRAWTIME",.58),Ie(Pe(e),"DiffAnims","basic"),Ie(Pe(e),"anims",[]),Ie(Pe(e),"FIRESOUND_DELAY",.1),Ie(Pe(e),"CROSSHAIR",{type:"horizontal_D",range:90}),Ie(Pe(e),"gltf",e.props.gltfHook),Ie(Pe(e),"nodes",e.gltf.nodes),Ie(Pe(e),"materials",e.gltf.materials),Ie(Pe(e),"animations",e.gltf.animations),Ie(Pe(e),"FIRESOUND","0x000001"),Ie(Pe(e),"RELOADSOUND","0x000002"),Ie(Pe(e),"RELOADEND","0x000003"),Ie(Pe(e),"Shoot",(function(t){var n=new p.Vector3,o=[];e.props.camera.getWorldDirection(n),n.add(t),new p.Raycaster(e.props.camera.position,n).intersectObjects(e.props.scene.children,!0,o),o[0]&&o[0].object&&o[0].object.userData.id&&window.Server.emit("dmg",{id:o[0].object.userData.id,dmg:e.DAMAGE})})),Ie(Pe(e),"Refresh",(function(){window.gameforceUpdate()})),Ie(Pe(e),"StartState",(function(){A(e.CROSSHAIR),te("hold"),O(!1),window.ShootClick=function(){!function(){if(1==window.isGame&&1==S()&&window.SecondaryClip>0){setTimeout((function(){O(!1)}),10),te("fire"),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.FIRESOUND}),null!=e.FIRESOUND_DELAY&&setTimeout((function(){window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADEND})}),1e3*e.FIRESOUND_DELAY),console.log("FIRE!"),window.SecondaryClip=window.SecondaryClip-1,window.gameforceUpdate();var t=new p.Vector3(0,0,0);e.Shoot(t);for(var n=0;n<e.PERSHOT-1;n++){var o=new p.Vector3(y(e.SPREAD,0),y(e.SPREAD,0),0);e.Shoot(o),console.log("THIS",o)}window.gameforceUpdate(),setTimeout((function(){O(!0)}),1e3*e.FIRETIME),setTimeout((function(){te("hold")}),1e3*e.FIRETIME+1e3*e.FIRESOUND_DELAY)}}()},window.ReloadLogic=function(t){if("r"==t.key&&window.SecondaryAmmo>0&&1==S())if("each"==e.RELOADTYPE){te("reload"),setTimeout((function(){O(!1)}),10),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADSOUND});var n=setInterval((function(){window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADSOUND})}),1e3*e.RELOADTIME);setTimeout((function(){clearInterval(n),te("reloadF")}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.SecondaryClip-1)),setTimeout((function(){var t=window.SecondaryAmmo>=e.CLIPSIZE?e.CLIPSIZE-window.SecondaryClip:window.SecondaryAmmo;e.ClipUpdate([window.SecondaryAmmo>=e.CLIPSIZE?e.CLIPSIZE:window.SecondaryAmmo]),e.AmmoUpdate([window.SecondaryAmmo-t]),window.SecondaryClip=e.CLIPSIZE,window.SecondaryAmmo=window.SecondaryAmmo-t,console.log(window.SecondaryClip),e.Refresh(),O(!0),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADEND}),te("hold")}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.SecondaryClip))}else"once"==e.RELOADTYPE&&(setTimeout((function(){O(!1)}),10),setTimeout((function(){var t=e.CLIPSIZE-window.SecondaryClip;e.ClipUpdate([e.CLIPSIZE]),e.AmmoUpdate([window.SecondaryAmmo-t]),window.SecondaryClip=e.CLIPSIZE,window.SecondaryAmmo=window.SecondaryAmmo-t,O(!0)}),1e3*e.RELOADTIME),setTimeout((function(){window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADEND})}),1e3*e.RELOADTIMESOUND),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADSOUND}))},e.ClipUpdate([window.SecondaryClip]),e.AmmoUpdate([window.SecondaryAmmo]),setTimeout((function(){O(!0)}),1e3*e.DRAWTIME)})),Ie(Pe(e),"ClipUpdate",(function(e){console.log("ClipUpdate",e),document.getElementsByClassName("ClipCount")[0]&&(document.getElementsByClassName("ClipCount")[0].innerHTML=e[0])})),Ie(Pe(e),"AmmoUpdate",(function(e){console.log("AmmoUpdate",e),document.getElementsByClassName("AmmoCount")[0]&&(document.getElementsByClassName("AmmoCount")[0].innerHTML=e[0])})),e}return t=c,n=[{key:"IdentifyParts",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.children.forEach((function(e){e.material&&(e.renderOrder=999,e.material.depthTest=!0,e.material.depthWrite=!1,e.material.polygonOffset=!0,e.material.polygonOffsetFactor=-4),e.children&&IdentifyParts(e)}))}))},{key:"render",value:function(){return o.createElement(o.Fragment,null,o.createElement(D,{value:[],didUpdate:this.StartState}),o.createElement(D,{value:[window.SecondaryClip],didUpdate:this.ClipUpdate}),o.createElement(D,{value:[window.SecondaryAmmo],didUpdate:this.AmmoUpdate}),o.createElement(L,{group:this.group,animations:this.animations,Ammo:window.SecondaryAmmo,Clip:window.SecondaryClip,state:this.props.state,RELOADTIME:this.RELOADTIME,CLIPSIZE:this.CLIPSIZE,RELOADTYPE:this.RELOADTYPE,DiffAnims:this.DiffAnims,anims:this.anims},o.createElement("group",{ref:this.group,dispose:null,position:[0,-.27,-.33]},o.createElement("group",{name:"blockbench_export"},o.createElement("group",null,o.createElement("group",{name:"Root",position:[-.25,-.6875,0]},o.createElement("group",{name:"body",position:[0,-1.5,0]},o.createElement("group",{name:"arms",position:[0,1.25,0]},o.createElement(this.RENDERER,{animations:this.animations,nodes:this.nodes,group:this.group,Arms:this.props.Arms})),o.createElement("group",{name:"HeadMod",position:[0,1.5625,0]},o.createElement("group",{name:"head"}))),o.createElement("group",{name:"left_leg",position:[-.25,-1.5,0]}),o.createElement("group",{name:"right_leg",position:[.25,-1.5,0]})))))))}}],n&&Oe(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.Component);function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ce(e,t)}function Te(e,t){if(t&&("object"===Le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Me(e)}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(e)}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}I(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}(i,e);var t,n,o,r=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ke(n);if(o){var r=ke(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Te(this,e)});function i(){var e;je(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Ue(Me(e=r.call.apply(r,[this].concat(n))),"RANGE",1e3),Ue(Me(e),"CLIPSIZE",16),Ue(Me(e),"AMMOSIZE",64),Ue(Me(e),"PERSHOT",6),Ue(Me(e),"SPREAD",.3),Ue(Me(e),"DAMAGE",6),Ue(Me(e),"RELOADTIME",.65),Ue(Me(e),"FIRETIME",0),e}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(De),w);const Ne=n.p+"1e4234c6651a9d7e5d00c856df0ded70.gltf";function xe(e){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function He(e,t){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},He(e,t)}function Be(e,t){if(t&&("object"===xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ge(e)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ye(e)}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$e(e,t)}function Ke(e,t){if(t&&("object"===ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xe(e)}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Qe=I(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$e(e,t)}(i,e);var t,n,o,r=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qe(n);if(o){var r=qe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Ke(this,e)});function i(){var e;Ve(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Je(Xe(e=r.call.apply(r,[this].concat(n))),"RANGE",10),Je(Xe(e),"CLIPSIZE",1e5),Je(Xe(e),"AMMOSIZE",1e5),Je(Xe(e),"PERSHOT",1),Je(Xe(e),"SPREAD",0),Je(Xe(e),"DAMAGE",20),Je(Xe(e),"RELOADTIME",.51),Je(Xe(e),"FIRETIME",1.12),Je(Xe(e),"DRAWTIME",.66),Je(Xe(e),"FIRESOUND_DELAY",.3),Je(Xe(e),"RENDERER",Q),Je(Xe(e),"DiffAnims","random"),Je(Xe(e),"anims",["animation.viewmodel.fire","animation.viewmodel.fire1"]),Je(Xe(e),"FIRESOUND","0x000000"),Je(Xe(e),"RELOADSOUND","0x000000"),Je(Xe(e),"RELOADEND","0x000000"),e}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&He(e,t)}(c,e);var t,n,r,i,a=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ye(r);if(i){var n=Ye(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Be(this,e)});function c(){var e;Fe(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return We(Ge(e=a.call.apply(a,[this].concat(n))),"group",(0,o.createRef)()),We(Ge(e),"RANGE",1e3),We(Ge(e),"CLIPSIZE",8),We(Ge(e),"AMMOSIZE",64),We(Ge(e),"PERSHOT",6),We(Ge(e),"SPREAD",.3),We(Ge(e),"DAMAGE",6),We(Ge(e),"RENDERER",X),We(Ge(e),"RELOADTIME",.5),We(Ge(e),"FIRETIME",2.67),We(Ge(e),"DRAWTIME",.58),We(Ge(e),"FIRESOUND_DELAY",.1),We(Ge(e),"CROSSHAIR",{type:"horizontal_D",range:90}),We(Ge(e),"RELOADTYPE","each"),We(Ge(e),"DiffAnims","basic"),We(Ge(e),"anims",[]),We(Ge(e),"gltf",e.props.gltfHook),We(Ge(e),"nodes",e.gltf.nodes),We(Ge(e),"materials",e.gltf.materials),We(Ge(e),"animations",e.gltf.animations),We(Ge(e),"FIRESOUND","0x000001"),We(Ge(e),"RELOADSOUND","0x000002"),We(Ge(e),"RELOADEND","0x000003"),We(Ge(e),"Shoot",(function(t){var n=new p.Vector3,o=[];e.props.camera.getWorldDirection(n),n.add(t),new p.Raycaster(e.props.camera.position,n).intersectObjects(e.props.scene.children,!0,o),o[0]&&o[0].object&&o[0].object.userData.id&&window.Server.emit("dmg",{id:o[0].object.userData.id,dmg:e.DAMAGE})})),We(Ge(e),"Refresh",(function(){window.gameforceUpdate()})),We(Ge(e),"StartState",(function(){A(e.CROSSHAIR),te("hold"),window.ShootClick=function(){!function(){if(1==window.isGame&&1==S()&&window.MeleeClip>0){setTimeout((function(){O(!1)}),10),te("fire"),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.FIRESOUND}),setTimeout((function(){window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADEND})}),1e3*e.FIRESOUND_DELAY),console.log("FIRE!"),window.MeleeClip=window.MeleeClip-1,window.gameforceUpdate();var t=new p.Vector3(0,0,0);e.Shoot(t);for(var n=0;n<e.PERSHOT-1;n++){var o=new p.Vector3(y(e.SPREAD,0),y(e.SPREAD,0),0);e.Shoot(o),console.log("THIS",o)}window.gameforceUpdate(),setTimeout((function(){O(!0)}),1e3*e.FIRETIME),setTimeout((function(){te("hold")}),1e3*e.FIRETIME+1e3*e.FIRESOUND_DELAY)}}()},window.ReloadLogic=function(t){if("r"==t.key&&window.MeleeAmmo>0&&1==S()){te("reload"),setTimeout((function(){O(!1)}),10),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADSOUND});var n=setInterval((function(){window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADSOUND})}),1e3*e.RELOADTIME);setTimeout((function(){clearInterval(n),te("reloadF")}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.MeleeClip-1)),setTimeout((function(){var t=e.CLIPSIZE-window.MeleeClip;e.ClipUpdate([e.CLIPSIZE]),e.AmmoUpdate([window.MeleeAmmo-t]),window.MeleeClip=e.CLIPSIZE,window.MeleeAmmo=window.MeleeAmmo-t,console.log(window.MeleeClip),e.Refresh(),O(!0),window.Server.emit("audioEmit",{position:window.CameraPosition,type:e.RELOADEND}),te("hold")}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.MeleeClip))}},e.ClipUpdate([window.MeleeClip]),e.AmmoUpdate([window.MeleeAmmo]),setTimeout((function(){O(!0)}),1e3*e.DRAWTIME)})),We(Ge(e),"ClipUpdate",(function(e){console.log("ClipUpdate",e),document.getElementsByClassName("ClipCount")[0]&&(document.getElementsByClassName("ClipCount")[0].innerHTML=e[0])})),We(Ge(e),"AmmoUpdate",(function(e){console.log("AmmoUpdate",e),document.getElementsByClassName("AmmoCount")[0]&&(document.getElementsByClassName("AmmoCount")[0].innerHTML=e[0])})),e}return t=c,n=[{key:"IdentifyParts",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.children.forEach((function(e){e.material&&(e.renderOrder=999,e.material.depthTest=!0,e.material.depthWrite=!1,e.material.polygonOffset=!0,e.material.polygonOffsetFactor=-4),e.children&&IdentifyParts(e)}))}))},{key:"render",value:function(){return o.createElement(o.Fragment,null,o.createElement(D,{value:[],didUpdate:this.StartState}),o.createElement(D,{value:[window.MeleeClip],didUpdate:this.ClipUpdate}),o.createElement(D,{value:[window.MeleeAmmo],didUpdate:this.AmmoUpdate}),o.createElement(L,{group:this.group,animations:this.animations,Ammo:window.MeleeAmmo,Clip:window.MeleeClip,state:this.props.state,RELOADTIME:this.RELOADTIME,CLIPSIZE:this.CLIPSIZE,RELOADTYPE:this.RELOADTYPE,DiffAnims:this.DiffAnims,anims:this.anims},o.createElement("group",{ref:this.group,dispose:null,position:[0,-.27,-.33]},o.createElement("group",{name:"blockbench_export"},o.createElement("group",null,o.createElement("group",{name:"Root",position:[-.25,-.6875,0]},o.createElement("group",{name:"body",position:[0,-1.5,0]},o.createElement("group",{name:"arms",position:[0,1.25,0]},o.createElement(this.RENDERER,{animations:this.animations,nodes:this.nodes,group:this.group,Arms:this.props.Arms})),o.createElement("group",{name:"HeadMod",position:[0,1.5625,0]},o.createElement("group",{name:"head"}))),o.createElement("group",{name:"left_leg",position:[-.25,-1.5,0]}),o.createElement("group",{name:"right_leg",position:[.25,-1.5,0]})))))))}}],n&&Ze(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.Component)),Ne),et=n.p+"57e66ec9d7c132104e7edc436a66d15b.gltf";function tt(e){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tt(e)}function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ot(e,t)}function rt(e,t){if(t&&("object"===tt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return it(e)}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},at(e)}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const lt=I(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ot(e,t)}(i,e);var t,n,o,r=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=at(n);if(o){var r=at(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return rt(this,e)});function i(){var e;nt(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return ct(it(e=r.call.apply(r,[this].concat(n))),"RANGE",1e3),ct(it(e),"CLIPSIZE",16),ct(it(e),"AMMOSIZE",64),ct(it(e),"PERSHOT",1),ct(it(e),"SPREAD",.3),ct(it(e),"DAMAGE",8),ct(it(e),"RELOADTYPE","once"),ct(it(e),"RELOADTIME",1.51),ct(it(e),"DRAWTIME",.38),ct(it(e),"FIRETIME",.16),ct(it(e),"FIRESOUND_DELAY",null),ct(it(e),"RENDERER",q),ct(it(e),"CROSSHAIR",{type:"point",range:0}),ct(it(e),"FIRESOUND","0x000004"),ct(it(e),"RELOADSOUND","0x000005"),ct(it(e),"RELOADEND","0x000006"),e}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(De),et),ut=n.p+"ae2f6bceed3d88f064dc8a51a2de2dd5.gltf";function mt(e){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ft(e,t)}function pt(e,t){if(t&&("object"===mt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dt(e)}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yt(e)}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt={bab:{range:1e3,clipSize:6,ammoSize:64,bulletsPerShot:6,spread:.3,ref:ge,model:w,renderer:X},aba:{range:1e3,clipSize:16,ammoSize:64,bulletsPerShot:1,spread:.05,ref:lt,model:et,renderer:q},daba:{range:1e3,clipSize:16,ammoSize:64,bulletsPerShot:1,spread:.05,ref:I(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ft(e,t)}(i,e);var t,n,o,r=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yt(n);if(o){var r=yt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return pt(this,e)});function i(){var e;st(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return ht(dt(e=r.call.apply(r,[this].concat(n))),"RANGE",1e3),ht(dt(e),"CLIPSIZE",16),ht(dt(e),"AMMOSIZE",64),ht(dt(e),"PERSHOT",1),ht(dt(e),"SPREAD",.3),ht(dt(e),"DAMAGE",13),ht(dt(e),"RELOADTYPE","once"),ht(dt(e),"RELOADTIME",4.16),ht(dt(e),"DRAWTIME",1),ht(dt(e),"FIRETIME",.5),ht(dt(e),"FIRESOUND_DELAY",null),ht(dt(e),"RENDERER",J),ht(dt(e),"DiffAnims","pershot"),ht(dt(e),"anims",["animation.viewmodel.fire","animation.viewmodel.fire1"]),ht(dt(e),"CROSSHAIR",{type:"point",range:0}),ht(dt(e),"FIRESOUND","0x000007"),ht(dt(e),"RELOADSOUND","0x000008"),ht(dt(e),"RELOADEND","0x000000"),e}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(De),ut),model:ut,renderer:J},naba:{range:10,clipSize:1e5,ammoSize:1e5,bulletsPerShot:1,spread:0,ref:Qe,model:Ne,renderer:Q}};const Et=n.p+"5bb470f9cd2748fe66aab78561c1294c.gltf",bt=n.p+"436dd0b6655f10395921543b18251cb0.gltf";function gt(e){var t=(0,o.useRef)(),n=(0,E.L)(bt),r=n.nodes,i=(n.materials,n.animations);return(0,b.v)(i,t).actions,o.createElement("group",{name:"head"},o.createElement("mesh",{name:"head_1",castShadow:!0,receiveShadow:!0,geometry:r.head_1.geometry,material:r.head_1.material,position:[0,-3.06,0]}),o.createElement("mesh",{name:"hat",castShadow:!0,receiveShadow:!0,geometry:r.hat.geometry,material:r.hat.material}),o.createElement("mesh",{name:"hat_1",castShadow:!0,receiveShadow:!0,geometry:r.hat_1.geometry,material:r.hat_1.material}),o.createElement("mesh",{name:"hat_2",castShadow:!0,receiveShadow:!0,geometry:r.hat_2.geometry,material:r.hat_2.material}))}function vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}E.L.preload(bt);var Ot=function(e){var t=e.position,n=e.rotation,r=void 0===n?[0,0,0,"XYZ"]:n,i=e.id,a=e.animState,c=e.hideParts,l=void 0===c?[]:c,u=e.weaponState,m=e.Parts,s=e.loadout,f=void 0===s?[]:s,d=e.selW,y=void 0===d?0:d,h=(0,o.useRef)(),w=(0,o.useRef)(),g=(0,o.useRef)(),v=(0,o.useRef)(),S=((0,o.useRef)(),(0,o.useRef)(),(0,o.useRef)()),O=(0,E.L)(Et),R=(O.nodes,O.materials,O.animations),A=(0,b.v)(R,h).actions,P=vt((0,o.useState)([0,0,0]),2),_=P[0],I=(P[1],vt((0,o.useState)(!0),2));function D(e){A[e].fadeIn(.1),A[e].play(),Object.keys(A).forEach((function(t){t!=e&&(A[t].fadeOut(.1),setTimeout((function(){A[t].stop()}),100))}))}function L(e){e.children.forEach((function(e){e.userData.id=i,e.castShadow=!0,e.children&&L(e)}))}I[0],I[1],o.useRef(),(0,o.useEffect)((function(){switch(a){case"idle":D("animation.player.idle");break;case"crouch":D("animation.player.crouch");break;case"cf":D("animation.player.crouchF");break;case"run":D("animation.player.run");break;case"l":D("animation.player.runL");break;case"r":D("animation.player.runR");break;case"sl":D("animation.player.strafeL");break;case"sr":D("animation.player.strafeR");break;case"dead":D("animation.player.death");break;case"inair":D("animation.player.airwalk");break;case"jump":D("animation.player.jump");break;default:D("animation.player.def")}console.log(A)}),[a]),(0,o.useEffect)((function(){h.current&&(h.current.userData.id=i,console.log(h.current),h.current.children.forEach((function(e){e.userData.id=i,e.castShadow=!0,L(e)})))}),[h]);var j=vt((0,o.useState)((new p.Vector3).toArray()),2);j[0],j[1],(0,o.useEffect)((function(){var e=new p.Vector3;(e=(new p.Vector3).fromArray(r)).y=0,e.add(h.current.position),h.current.lookAt(e)}),[r]),(0,o.useEffect)((function(){v.current.rotation.x=r[1],S.current.rotation.x=r[1]+("cf"==a?1.8:1.5)}),[r]);var C=f.length>0?wt[f[y]]:{};return(0,o.useEffect)((function(){C=f.length>0?wt[f[y]]:{}}),[y]),o.createElement("group",{ref:h,rotation:_,dispose:null,position:t},o.createElement("group",{ref:w}),o.createElement("group",{name:"blockbench_export"},o.createElement("group",null,o.createElement("group",{name:"Root",rotation:[Math.PI,0,Math.PI]},o.createElement("group",null,o.createElement("group",{ref:g,name:"body",position:[0,1.5,0]},o.createElement("group",{name:"HeadMod",position:[0,1.56,0],ref:v},l.includes("head")?"":o.createElement(gt,null)),o.createElement("group",{name:"arms",position:[0,1.25,0],ref:S},C.renderer?o.createElement(C.renderer,{state:u,nodes:(0,E.L)(C.model).nodes,animations:(0,E.L)(C.model).animations,group:S,animate:!0,Arms:m.arms}):""),m?o.createElement(m.body,{group:h,animState:a}):"")),m?o.createElement(m.legs,null):""))))};function Rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}E.L.preload(Et);var Pt=function(e){var t=e.socket,n=(e.PrimaryClip,e.setPrimaryClip),r=(e.PrimaryAmmo,e.setPrimaryAmmo),i=(e.id,e.Parts),l=Rt((0,o.useReducer)((function(e){return e+1}),0),2)[1],y=(0,c.y)(),h=y.camera,w=y.scene,E=Rt((0,o.useState)(null),2),b=(E[0],E[1],Rt((0,o.useState)([0,0,0,"XYZ"]),2)),g=(b[0],b[1],Rt((0,o.useState)("stop"),2)),v=g[0],O=g[1],R=Rt((0,o.useState)(0),2),A=(R[0],R[1],(0,o.useRef)()),P=(0,o.useRef)(),_=(0,o.useRef)(),I=(0,o.useRef)(),D=600,L=Rt((0,f.f)((function(){return{mass:100,fixedRotation:!0,position:[0,1,0],args:.2,material:{friction:0}}})),2),j=L[0],C=L[1],T=(0,o.useRef)({timeToShoot:0,timeTojump:0,vel:[0,0,0],jumping:!1,crouching:!1}),M=Rt((0,o.useState)(0),2),k=M[0],U=M[1],N=Rt((0,o.useState)(0),2);N[0],N[1],(0,o.useEffect)((function(){C.velocity.subscribe((function(e){return T.current.vel=e}))}),[C]);var x=function(){var e,t,n={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",Space:"jump",ControlLeft:"crouch"},r=function(e){return n[e]},i=(e=(0,o.useState)({forward:!1,backward:!1,left:!1,right:!1,jump:!1,crouch:!1}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1];return(0,o.useEffect)((function(){var e=function(e){c((function(t){return u(u({},t),{},m({},r(e.code),!0))})),console.log(e)},t=function(e){c((function(t){return u(u({},t),{},m({},r(e.code),!1))})),console.log(e)};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),a}(),F=x.forward,Z=x.backward,H=x.left,B=x.right,G=x.jump,Y=x.crouch;(0,o.useEffect)((function(){B&&d(k,-.05,.002,5,U),H&&d(k,.05,.002,5,U),B||H||d(k,0,.002,5,U)}),[F,Z,H,B]);var W=Rt((0,o.useState)(0),2),z=W[0],V=W[1],$=0,K=Rt((0,o.useState)(["bab","daba","naba"]),2),X=K[0],q=K[1],J=Rt((0,o.useState)(!1),2),Q=(J[0],J[1]);(0,o.useEffect)((function(){window.health>0&&d(z,Y?2.55:3.45,.05,9,V)}),[Y]);var te=Rt((0,o.useState)(1),2),ne=te[0],oe=te[1],re=Rt((0,o.useState)(1),2),ie=re[0],ae=re[1],ce=Rt((0,o.useState)(1),2),le=ce[0],ue=ce[1],me=Rt((0,o.useState)(1),2),se=me[0],fe=me[1];(0,o.useEffect)((function(){d(ne,le,.05,20,oe)}),[le]),(0,o.useEffect)((function(){d(ie,se,.05,20,ae)}),[se]),(0,c.z)((function(e,n){new p.Raycaster(j.current.position,new p.Vector3(0,-1,0),1,1e3);var o=new p.Vector3(0,0,0),r=new p.Vector3;h.getWorldDirection(r);var i=new p.Vector3;i.setFromMatrixColumn(h.matrix,0),i.crossVectors(h.up,i);var a=new p.Vector3;a.setFromMatrixColumn(h.matrix,0),window.health>0&&(T.current.jumping?(fe(F?.75:Z?-.5:0),ue(B?.5:H?-.5:0),ee("jump")):T.current.crouching?(fe(F?.6:Z?-.6:0),ue(B?.6:H?-.6:0),!F||B||H||T.current.jumping||ee("cf"),F||B||H||T.current.jumping||ee("crouch")):(fe(F?1:Z?-1:0),ue(B?1:H?-1:0),B&&F&&!T.current.jumping?ee("sr"):H&&F&&!T.current.jumping&&ee("sl"),!F||B||H||T.current.jumping||ee("run"),B&&!F?ee("r"):!H||F||T.current.jumping||ee("l"),B||H||F||Z||T.current.jumping||ee("idle")),T.current.crouching=!!Y),0!==le&&0!==se?(o.add(i.clone().multiplyScalar(D*ie)).add(a.clone().multiplyScalar(D*ne)),o.clampLength(-600,D)):0!==le?o.add(a.clone().multiplyScalar(D*ne)):0!==se&&o.add(i.clone().multiplyScalar(D*ie)),C.velocity.set(o.x*n,T.current.vel[1],o.z*n),h.eulerOrder="YXZ",h.position.set(j.current.position.x,z+j.current.position.y,j.current.position.z),I.current&&I.current.position.set(j.current.position.x,j.current.position.y,j.current.position.z),window.CameraPosition=j.current.position.toArray();var c,l,u,m,s,f=new p.Vector3;if(h.getWorldDirection(f),f.multiplyScalar(.075),f.add(h.position),P.current.position.set(f.x,f.y,f.z),P.current.setRotationFromQuaternion(h.quaternion),window.health>0&&O((F||Z||B||H)&&!Y?"run":(F||Z||B||H)&&Y?"crouch":"idle"),A.current&&(c=j.current.position,l=r,u=t.id,m=[],s=[],c.toArray(m),l.toArray(s),t.emit("move",{id:u,rotation:s,position:m})),T.current.jumping&&T.current.vel[1]<0&&0!==new p.Raycaster(j.current.position,new p.Vector3(0,-1,0),0,.2).intersectObjects(w.children).length&&(T.current.jumping=!1),G&&!T.current.jumping){var d=Date.now();d>T.current.timeTojump&&(T.current.timeTojump=d+400,T.current.jumping=!0,C.velocity.set(T.current.vel[0],5,T.current.vel[2]))}}));var pe=Rt((0,o.useState)(0),2),de=pe[0],ye=pe[1];function he(e){return o.createElement(e.ref,{Arms:i.arms,PrimaryAmmo:window.PrimaryAmmo,setPrimaryAmmo:r,PrimaryClip:window.PrimaryClip,setPrimaryClip:n,state:v,camera:h,scene:w})}return(0,o.useEffect)((function(){window.addEventListener("wheel",(function(e){1==S()&&(console.log(e.deltaY),e.deltaY>1&&($-1>=0?$-=1:$=2),e.deltaY<-1&&($+1<=2?$+=1:$=0),Q(!1),q(X),ye($),t.emit("selW",$),console.log($),l(),window.GameUIUpdate(),window.selectedWeapon=$)}))}),[]),(0,o.useEffect)((function(){console.log($),l()}),[$]),(0,o.useEffect)((function(){console.log("Make_Weapons"),window.PrimaryAmmo=wt[X[0]].ammoSize,window.PrimaryClip=wt[X[0]].clipSize,window.SecondaryAmmo=wt[X[1]].ammoSize,window.SecondaryClip=wt[X[1]].clipSize,window.MeleeAmmo=wt[X[2]].ammoSize,window.MeleeClip=wt[X[2]].clipSize,l(),window.forceUpdate()}),[]),(0,o.useEffect)((function(){t.emit("loadout",X)}),[X]),o.createElement(o.Fragment,null,o.createElement("group",null,o.createElement(a.q,{minPolarAngle:.01,maxPolarAngle:3,ref:A,camera:h})),o.createElement("group",{ref:P,scale:[.1,.1,.1],renderOrder:2},o.createElement("group",{ref:_,position:[.3,-.3,0],rotation:[0,0,k]},0==de?he(wt[X[0]]):"",1==de?he(wt[X[1]]):"",2==de?he(wt[X[2]]):"")))},_t=n(977),It=n(593),Dt=n(217);const Lt=n.p+"6da4e5170eabe08000fe505f5fe44d53.hdr",jt=n.p+"d516aec7c37e8bbe2c7d8a564c2dbd77.gltf";E.L.preload(jt);var Ct=n(580);function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Ut=function(e){var t,n,r=(0,f.a)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({mass:1,args:[.5,.5,.5],material:{friction:1,restitution:0}},e)})),i=(t=r,n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw r}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],a=(0,o.useMemo)((function(){return Ct[8][Math.floor(Math.random()*Ct[8].length)]}),[]);return o.createElement("mesh",{ref:i,castShadow:!0,receiveShadow:!0,layers:e.layers},o.createElement("boxBufferGeometry",{args:[.5,.5,.5]}),o.createElement("meshLambertMaterial",{color:a}))};function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var xt=function(){var e,t,n=(e=(0,f.u)((function(){return{rotation:[-Math.PI/2,0,0],position:[0,-.25,0],material:{friction:.1}}})),t=1,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return o.createElement("mesh",{ref:n,receiveShadow:!0,scale:[1e3,1e3,1e3]},o.createElement("planeBufferGeometry",{receiveShadow:!0}),o.createElement("meshPhongMaterial",{color:"skyblue",receiveShadow:!0}))};const Ft=n.p+"e6f09b38c4af066ad670f4c73cf99f82.gltf",Zt=n.p+"c0aee2279cfa93d8082adfd342c1c46e.wav",Ht=n.p+"5ca3a9e406a210677e94242c8b57b770.wav",Bt=n.p+"f7f5f1d0fa83427343fdcb073f427ac5.wav",Gt=n.p+"e53f25e430cbf5a3faf1a3b7069e3fc0.wav",Yt=n.p+"5e83dce1b8046fdffdab8ebd3f9395a2.wav",Wt={"0x000000":{name:"",url:" ",range:0},"0x000001":{name:"Shotgun shot",url:Zt,range:25},"0x000002":{name:"Shotgun reload",url:Ht,range:15},"0x000003":{name:"Shotgun cock",url:Bt,range:20},"0x000004":{name:"Pistol shot",url:Gt,range:16},"0x000006":{name:"Pistol clip in",url:n.p+"0c4f1814219feab0155b094570761ec5.wav",range:12},"0x000005":{name:"Pistol reload",url:Yt,range:12},"0x000007":{name:"Deagle fire",url:n.p+"3b274c8682c7fc96abbe53326e5be8cd.wav",range:26},"0x000008":{name:"Deagle reload",url:n.p+"8e53b08af31e334bfbf5b6e00e6167de.wav",range:20}};function zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function $t(){var e=zt((0,o.useState)(["bab","daba","naba"]),2),t=(e[0],e[1],zt((0,o.useState)({head:gt,body:Y,arms:{L:B,R:G},legs:W}),2)),n=t[0],a=(t[1],(0,c.C)(Dt.E,Ft),(0,o.useRef)()),l=zt((0,o.useState)(null),2),u=l[0],m=l[1],s=zt((0,o.useState)({}),2),d=s[0],y=s[1],w=zt(o.useReducer((function(e){return e+1}),0),2)[1];window.gameforceUpdate=function(){w()},(0,o.useEffect)((function(){var e=(0,r.io)(window.ServerIP,{reconnection:!1});return console.log("Sever connect..."),m(e),window.Server=e,function(){u&&u.disconnect()}}),[]),(0,o.useEffect)((function(){if(u){u.on("move",(function(e){y(e),window.health=e[u.id].health}));var e={name:localStorage.getItem("name"),uid:localStorage.getItem("uid")};u.on("connect",(function(){console.log("CON!"),u.emit("UserData",JSON.stringify(e))})),u.on("disconnect",(function(e){console.log("disconnect",e)})),u.on("connect_error",(function(e){console.log("connect_error due to ".concat(e.message)),setTimeout((function(){window.isGame=!1,window.location.hash="#mainmenu",window.forceUpdate()}),2e3)})),u.on("audio",(function(e){E.create(e.type,e.position)}))}}),[u]),(0,o.useEffect)((function(){var e=function(e){window.ReloadLogic(e),console.log(e)};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[]);var E={create:function(e,t){var n=document.createElement("audio");n.src=Wt[e].url;var o=(new p.Vector3).fromArray(window.CameraPosition).distanceTo((new p.Vector3).fromArray(t));console.log("distance",o);var r=1-h(o,0,Wt[e].range,0,1);n.volume=r>=0?r:0,document.body.appendChild(n),n.play(),n.onended=function(){document.body.removeChild(n)},n.ontimeupdate=function(){var o=(new p.Vector3).fromArray(window.CameraPosition).distanceTo((new p.Vector3).fromArray(t));console.log("distance",o);var r=1-h(o,0,Wt[e].range,0,1);n.volume=r>=0?r:0,console.log("Movement, Changing volume of "+e+" to "+(1-h(o,0,Wt[e].range,0,1)))},console.log("Audio Created")}},b=!1;return(0,o.useEffect)((function(){setInterval((function(){console.log(b),1==b&&(window.ClickAnim(),window.ShootClick())}),30);var e=function(e){b=!0,console.log("DOWN")},t=function(e){b=!1,console.log("UP")};return document.addEventListener("mousedown",e),document.addEventListener("mouseup",t),function(){document.removeEventListener("mousedown",e),document.removeEventListener("mouseup",t)}}),[]),o.createElement(o.Fragment,null,u?o.createElement(o.Fragment,null,o.createElement(_t.Xz,{onFocus:function(){navigator.keyboard.lock()},ref:a,onKeyUp:function(e){window.RKey(e),e.key},className:"GameViewport",onClick:function(){},dpr:(Math.min(window.devicePixelRatio),2/12*parseFloat(localStorage.getItem("setting.pixelScale"))),shadows:{autoUpdate:!0,enabled:!0,type:p.PCFSoftShadowMap}},o.createElement(f.P,{gravity:[0,-9,0],tolerance:0,iterations:50,broadphase:"SAP"},o.createElement(Pt,{socket:u,id:u.id,Parts:n}),o.createElement(xt,null),o.createElement(Ut,{position:[0,0,-5],layers:1}),o.createElement(Ut,{position:[-.6,0,-5]}),o.createElement(Ut,{position:[.6,0,-5]}),o.createElement(Ut,{position:[-.3,.5,-5]}),o.createElement(Ut,{position:[.3,.5,-5]}),o.createElement(Ut,{position:[0,1,-5]}),o.createElement(Ut,{position:[-5,0,-5]}),o.createElement(Ut,{position:[-5,.5,-5]}),o.createElement(Ut,{position:[-5,1,-5]}),o.createElement(Ut,{position:[-5,1.5,-5]}),o.createElement(Ut,{position:[0,0,5],type:"Static"}),o.createElement(Ut,{position:[0,0,5.5],type:"Static"}),o.createElement(Ut,{position:[0,.5,5.5],type:"Static"})),o.createElement(It.qA,{background:!0,files:Lt}),o.createElement("ambientLight",{intensity:0,rotation:[0,1,0]}),o.createElement("directionalLight",{castShadow:!0,intensity:1}),Object.keys(d).filter((function(e){return e!==u.id})).map((function(e){var t=d[e],r=t.position,i=t.rotation,a=t.loadout,c=t.selW;return o.createElement(Ot,{key:e,id:e,position:r,rotation:i,animState:d[e].state,weaponState:d[e].WState,Parts:n,loadout:a,selW:c})}))),"false"!=localStorage.getItem("use3Dmodel")?o.createElement("div",{className:"Representation_3D"},u&&d[u.id]?o.createElement(_t.Xz,{dpr:1},o.createElement(Ot,{key:u.id,id:u.id,position:[-.5,-3,2.5],rotation:[.4878147781749304,-.011999712002073833,.8089065418644015],animState:"idle",Parts:n}),o.createElement("ambientLight",{intensity:1})):""):"",o.createElement(Kt,null)):"",o.createElement("div",{className:"LoadScreen"},o.createElement("div",{className:"spinner",style:{backgroundImage:"url(".concat(i.Z,")")}})))}function Kt(){var e=zt(o.useReducer((function(e){return e+1}),0),2)[1];return(0,o.useEffect)((function(){window.GameUIUpdate=function(){e()}}),[]),o.createElement(o.Fragment,null,o.createElement("div",{className:"cel",style:{opacity:parseFloat(localStorage.getItem("setting.csOP"))/10}}),"horizontal_D"==R().type?o.createElement("div",{className:"H",style:{width:"".concat(R().range/2,"px"),opacity:parseFloat(localStorage.getItem("setting.csOP"))/10}},o.createElement("div",null),o.createElement("div",null)):"",o.createElement("div",{className:"UIAmmo"},o.createElement("h2",{className:"ClipCount"},0),o.createElement("h3",{className:"AmmoCount"},0)))}}}]);