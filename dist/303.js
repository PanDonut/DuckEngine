"use strict";(global.webpackChunkelectron_react_webpack_boilerplate=global.webpackChunkelectron_react_webpack_boilerplate||[]).push([[303],{303:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Xe});var n=r(294),o=r(792),a=r(187),i=r(856);r.p;var c=r(413);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=r(822),p=r(477);function d(e,t,r,n,o){var a=setInterval((function(){t>e&&(o(e+=r),e>t&&clearInterval(a)),t<e&&(o(e-=r),e<t&&clearInterval(a))}),n)}function y(e,t){return Math.random()*(e-t)+t}r.p;const h=r.p+"8fe74b4f26568c3b4cd4d18c84e45710.gltf";var w=r(882),g=r(951);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(this,arguments)}function v(e,t,r,o){return function(r){var o=(0,w.L)(t);return n.createElement(e,E({},r,{gltfHook:o,animHook:function(e,t){return(0,g.v)(e,t)}}))}}var S=function(e){var t=e.value,r=e.didUpdate;return(0,n.useEffect)((function(){r(t)}),t),null};function O(e){var t,r,o=(0,g.v)(e.animations,e.group).actions;return(0,n.useEffect)((function(){o["animation.viewmodel.draw"].setLoop(p.LoopOnce,1),o["animation.viewmodel.draw"].weight=2,o["animation.viewmodel.draw"].play(),o["animation.viewmodel.hold"].play(),window.addEventListener("keyup",(function(e){"f"==e.key&&(o["animation.viewmodel.inspect"].stop(),o["animation.viewmodel.inspect"].setLoop(p.LoopOnce,1),o["animation.viewmodel.inspect"].weight=2,o["animation.viewmodel.inspect"].play())}))}),[]),(0,n.useEffect)((function(){var e=function(e){window.gameforceUpdate(),parseInt(document.getElementsByClassName("ClipCount")[0].innerHTML)>0&&(o["animation.viewmodel.inspect"].stop(),o["animation.viewmodel.fire"].timeScale=1.7,o["animation.viewmodel.fire"].stop(),o["animation.viewmodel.fire"].setLoop(p.LoopOnce,1),o["animation.viewmodel.fire"].weight=3,o["animation.viewmodel.fire"].play())};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),(t=n.useReducer((function(e){return e+1}),0),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],(0,n.useEffect)((function(){var t=function(t){console.log(e),parseInt(document.getElementsByClassName("ClipCount")[0].innerHTML)<e.CLIPSIZE&&parseInt(document.getElementsByClassName("AmmoCount")[0].innerHTML)>0&&"r"==t.key&&(o["animation.viewmodel.reload"].stop(),o["animation.viewmodel.reloadFinish"].stop(),o["animation.viewmodel.inspect"].stop(),o["animation.viewmodel.reload"].weight=3,o["animation.viewmodel.reload"].fadeIn(.15),o["animation.viewmodel.reload"].timeScale=1,o["animation.viewmodel.reload"].setLoop(p.LoopRepeat,e.CLIPSIZE-parseInt(document.getElementsByClassName("ClipCount")[0].innerHTML)),o["animation.viewmodel.reload"].play(),setTimeout((function(){o["animation.viewmodel.reloadFinish"].setLoop(p.LoopOnce,1),o["animation.viewmodel.reloadFinish"].weight=4,o["animation.viewmodel.reloadFinish"].play()}),1e3*e.RELOADTIME*(e.CLIPSIZE-parseInt(document.getElementsByClassName("ClipCount")[0].innerHTML))-150))};return document.addEventListener("keyup",t),function(){document.removeEventListener("keyup",t)}}),[]),(0,n.useEffect)((function(){switch(e.state){case"run":o["animation.viewmodel.move"].timeScale=1,o["animation.viewmodel.move"].play();break;case"crouch":o["animation.viewmodel.move"].timeScale=.5,o["animation.viewmodel.move"].play();break;case"idle":o["animation.viewmodel.move"].fadeOut(.1),setTimeout((function(){o["animation.viewmodel.move"].stop()}),100)}}),[e.state]),e.children}const P=r.p+"a1b0564a15ae3bf6f5e79c3047453e1d.gltf";function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function R(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=e.nodes;return n.createElement("group",{name:"WeaponRoot2",position:[.025,.125,-.15],rotation:[Math.PI,0,Math.PI/2]},n.createElement("group",{name:"muzzle",position:[2.26280567,.0625,.3237532]},n.createElement("mesh",{name:"pyramid",castShadow:!0,receiveShadow:!0,geometry:t.pyramid.geometry,material:t.pyramid.material,position:[-1.33125,0,-.09375],rotation:[0,0,Math.PI/2]})),n.createElement("group",{name:"pump",position:[1.79755655,.0625,.14688987]},n.createElement("mesh",{name:"pump_1",castShadow:!0,receiveShadow:!0,geometry:t.pump_1.geometry,material:t.pump_1.material,position:[-68155e-8,0,.01561013],rotation:[0,-.04363323,0]})),n.createElement("group",{name:"base",position:[.94405567,.0625,.2362532]},n.createElement("mesh",{name:"box",castShadow:!0,receiveShadow:!0,geometry:t.box.geometry,material:t.box.material,position:[.18719433,-.0625,.0387468]}),n.createElement("mesh",{name:"top_barrel",castShadow:!0,receiveShadow:!0,geometry:t.top_barrel.geometry,material:t.top_barrel.material,position:[.18719433,-.0625,.0387468]}),n.createElement("mesh",{name:"bottom_barrel",castShadow:!0,receiveShadow:!0,geometry:t.bottom_barrel.geometry,material:t.bottom_barrel.material,position:[.55906933,0,-.0393782],rotation:[-Math.PI/4,0,0]}),n.createElement("mesh",{name:"holder",castShadow:!0,receiveShadow:!0,geometry:t.holder.geometry,material:t.holder.material,position:[.18719433,-.0625,.0387468]}),n.createElement("mesh",{name:"handle",castShadow:!0,receiveShadow:!0,geometry:t.handle.geometry,material:t.handle.material,position:[-.88505187,0,-.11007592],rotation:[0,-.91629786,0]})),n.createElement("group",{name:"trigger",position:[.328125,.0625,.128125]},n.createElement("mesh",{name:"trigger_1",castShadow:!0,receiveShadow:!0,geometry:t.trigger_1.geometry,material:t.trigger_1.material,position:[.00625,0,-.015625],rotation:[0,-.43633231,0]})))}function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function B(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return H(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function V(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}v(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(c,e);var t,r,o,a,i=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(o);if(a){var r=L(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return R(this,e)});function c(){var e;C(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return T(M(e=i.call.apply(i,[this].concat(r))),"gltf",e.props.gltfHook),T(M(e),"nodes",e.gltf.nodes),T(M(e),"materials",e.gltf.materials),e}return t=c,(r=[{key:"render",value:function(){return n.createElement("group",A({},props,{dispose:null}),n.createElement("group",{position:[0,.03125,-.00520833]},n.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:nodes.cube.geometry,material:nodes.cube.material,position:[0,-.03125,-.04166667]}),n.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:nodes.cube_1.geometry,material:nodes.cube_1.material,position:[0,-.03125,-.04166667]}),n.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:nodes.cube_2.geometry,material:nodes.cube_2.material,position:[0,-.03125,-.04166667]})))}}])&&j(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component),P);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(e,t)}function ee(e,t){if(t&&("object"===X(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return te(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}function ce(e,t){if(t&&("object"===oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return le(e)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}function ye(e,t){if(t&&("object"===se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return he(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},we(e)}function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ve(e,t)}function Se(e,t){if(t&&("object"===be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oe(e)}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pe(e)}function _e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ae={bab:{range:1e3,clipSize:16,ammoSize:64,bulletsPerShot:6,spread:.3,ref:v(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(a,e);var t,r,n,o=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=K(r);if(n){var o=K(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return V(this,e)});function a(){var e;G(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Y($(e=o.call.apply(o,[this].concat(r))),"RANGE",1e3),Y($(e),"CLIPSIZE",16),Y($(e),"AMMOSIZE",64),Y($(e),"PERSHOT",6),Y($(e),"SPREAD",.3),Y($(e),"DAMAGE",6),Y($(e),"RELOADTIME",.65),Y($(e),"FIRETIME",0),e}return t=a,Object.defineProperty(t,"prototype",{writable:!1}),t}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(c,e);var t,r,o,a,i=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(o);if(a){var r=N(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return B(this,e)});function c(){var e;U(this,c);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return F(H(e=i.call.apply(i,[this].concat(r))),"group",(0,n.createRef)()),F(H(e),"RANGE",1e3),F(H(e),"CLIPSIZE",8),F(H(e),"AMMOSIZE",64),F(H(e),"PERSHOT",6),F(H(e),"SPREAD",.3),F(H(e),"DAMAGE",6),F(H(e),"RELOADTIME",.65),F(H(e),"FIRETIME",2.67),F(H(e),"DRAWTIME",.58),F(H(e),"gltf",e.props.gltfHook),F(H(e),"nodes",e.gltf.nodes),F(H(e),"materials",e.gltf.materials),F(H(e),"animations",e.gltf.animations),F(H(e),"Shoot",(function(t){var r=new p.Vector3,n=[];e.props.camera.getWorldDirection(r),r.add(t),new p.Raycaster(e.props.camera.position,r).intersectObjects(e.props.scene.children,!0,n),n[0]&&n[0].object&&n[0].object.userData.id&&window.Server.emit("dmg",{id:n[0].object.userData.id,dmg:e.DAMAGE})})),F(H(e),"Refresh",(function(){window.gameforceUpdate()})),F(H(e),"StartState",(function(){window.ShootClick=function(){!function(){if(1==window.isGame&&window.PrimaryClip>0){console.log("FIRE!"),window.PrimaryClip=window.PrimaryClip-1,window.gameforceUpdate();var t=new p.Vector3(0,0,0);e.Shoot(t);for(var r=0;r<e.PERSHOT-1;r++){var n=new p.Vector3(y(e.SPREAD,0),y(e.SPREAD,0),0);e.Shoot(n),console.log("THIS",n)}window.gameforceUpdate()}}()},window.ReloadLogic=function(t){"r"==t.key&&window.PrimaryAmmo>0&&setTimeout((function(){var t=e.CLIPSIZE-window.PrimaryClip;e.ClipUpdate([e.CLIPSIZE]),e.AmmoUpdate([window.PrimaryAmmo-t]),window.PrimaryClip=e.CLIPSIZE,window.PrimaryAmmo=window.PrimaryAmmo-t,console.log(window.PrimaryClip),e.Refresh()}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.PrimaryClip))},e.ClipUpdate([window.PrimaryClip]),e.AmmoUpdate([window.PrimaryAmmo])})),F(H(e),"ClipUpdate",(function(e){console.log("ClipUpdate",e),document.getElementsByClassName("ClipCount")[0]&&(document.getElementsByClassName("ClipCount")[0].innerHTML=e[0])})),F(H(e),"AmmoUpdate",(function(e){console.log("AmmoUpdate",e),document.getElementsByClassName("AmmoCount")[0]&&(document.getElementsByClassName("AmmoCount")[0].innerHTML=e[0])})),e}return t=c,r=[{key:"IdentifyParts",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.children.forEach((function(e){e.material&&(e.renderOrder=999,e.material.depthTest=!0,e.material.depthWrite=!1,e.material.polygonOffset=!0,e.material.polygonOffsetFactor=-4),e.children&&IdentifyParts(e)}))}))},{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement(S,{value:[],didUpdate:this.StartState}),n.createElement(S,{value:[window.PrimaryClip],didUpdate:this.ClipUpdate}),n.createElement(S,{value:[window.PrimaryAmmo],didUpdate:this.AmmoUpdate}),n.createElement(O,{group:this.group,animations:this.animations,Ammo:window.PrimaryAmmo,Clip:window.PrimaryClip,state:this.props.state,RELOADTIME:this.RELOADTIME,CLIPSIZE:this.CLIPSIZE},n.createElement("group",{ref:this.group,dispose:null,position:[0,-.27,-.33]},n.createElement("group",{name:"blockbench_export"},n.createElement("group",null,n.createElement("group",{name:"Root",position:[-.25,-.6875,0]},n.createElement("group",{name:"body",position:[0,-1.5,0]},n.createElement("group",{name:"arms",position:[0,1.25,0]},n.createElement("group",{name:"right_arm",position:[.75,.1875,0]},n.createElement("group",{name:"WeaponRoot",position:[0,-1.3125,0]},n.createElement(k,{nodes:this.nodes})),n.createElement("mesh",{name:"right_arm_1",castShadow:!0,receiveShadow:!0,geometry:this.nodes.right_arm_1.geometry,material:this.nodes.right_arm_1.material,position:[-.75,-2.9375,0]})),n.createElement("group",{name:"left_arm",position:[-.75,.1875,0]},n.createElement("mesh",{name:"left_arm_1",castShadow:!0,receiveShadow:!0,geometry:this.nodes.left_arm_1.geometry,material:this.nodes.left_arm_1.material,position:[.75,-2.9375,0]}))),n.createElement("group",{name:"HeadMod",position:[0,1.5625,0]},n.createElement("group",{name:"head"}))),n.createElement("group",{name:"left_leg",position:[-.25,-1.5,0]}),n.createElement("group",{name:"right_leg",position:[.25,-1.5,0]})))))))}}],r&&x(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component)),h)},aba:{range:1e3,clipSize:16,ammoSize:64,bulletsPerShot:6,spread:.3,ref:v(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(a,e);var t,r,n,o=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ue(r);if(n){var o=ue(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return ce(this,e)});function a(){var e;ae(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return me(le(e=o.call.apply(o,[this].concat(r))),"RANGE",1e3),me(le(e),"CLIPSIZE",16),me(le(e),"AMMOSIZE",64),me(le(e),"PERSHOT",6),me(le(e),"SPREAD",.3),me(le(e),"DAMAGE",6),me(le(e),"RELOADTIME",.65),me(le(e),"FIRETIME",0),e}return t=a,Object.defineProperty(t,"prototype",{writable:!1}),t}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(c,e);var t,r,o,a,i=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=re(o);if(a){var r=re(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ee(this,e)});function c(){var e;q(this,c);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return ne(te(e=i.call.apply(i,[this].concat(r))),"group",(0,n.createRef)()),ne(te(e),"RANGE",1e3),ne(te(e),"CLIPSIZE",8),ne(te(e),"AMMOSIZE",64),ne(te(e),"PERSHOT",6),ne(te(e),"SPREAD",.3),ne(te(e),"DAMAGE",6),ne(te(e),"RELOADTIME",.65),ne(te(e),"FIRETIME",2.67),ne(te(e),"DRAWTIME",.58),ne(te(e),"gltf",e.props.gltfHook),ne(te(e),"nodes",e.gltf.nodes),ne(te(e),"materials",e.gltf.materials),ne(te(e),"animations",e.gltf.animations),ne(te(e),"Shoot",(function(t){var r=new p.Vector3,n=[];e.props.camera.getWorldDirection(r),r.add(t),new p.Raycaster(e.props.camera.position,r).intersectObjects(e.props.scene.children,!0,n),n[0]&&n[0].object&&n[0].object.userData.id&&window.Server.emit("dmg",{id:n[0].object.userData.id,dmg:e.DAMAGE})})),ne(te(e),"Refresh",(function(){window.gameforceUpdate()})),ne(te(e),"StartState",(function(){window.ShootClick=function(){!function(){if(1==window.isGame&&window.SecondaryClip>0){console.log("FIRE!"),window.SecondaryClip=window.SecondaryClip-1,window.gameforceUpdate();var t=new p.Vector3(0,0,0);e.Shoot(t);for(var r=0;r<e.PERSHOT-1;r++){var n=new p.Vector3(y(e.SPREAD,0),y(e.SPREAD,0),0);e.Shoot(n),console.log("THIS",n)}window.gameforceUpdate()}}()},window.ReloadLogic=function(t){"r"==t.key&&window.SecondaryAmmo>0&&setTimeout((function(){var t=e.CLIPSIZE-window.SecondaryClip;e.ClipUpdate([e.CLIPSIZE]),e.AmmoUpdate([window.SecondaryAmmo-t]),window.SecondaryClip=e.CLIPSIZE,window.SecondaryAmmo=window.SecondaryAmmo-t,console.log(window.SecondaryClip),e.Refresh()}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.SecondaryClip))},e.ClipUpdate([window.SecondaryClip]),e.AmmoUpdate([window.SecondaryAmmo])})),ne(te(e),"ClipUpdate",(function(e){console.log("ClipUpdate",e),document.getElementsByClassName("ClipCount")[0]&&(document.getElementsByClassName("ClipCount")[0].innerHTML=e[0])})),ne(te(e),"AmmoUpdate",(function(e){console.log("AmmoUpdate",e),document.getElementsByClassName("AmmoCount")[0]&&(document.getElementsByClassName("AmmoCount")[0].innerHTML=e[0])})),e}return t=c,r=[{key:"IdentifyParts",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.children.forEach((function(e){e.material&&(e.renderOrder=999,e.material.depthTest=!0,e.material.depthWrite=!1,e.material.polygonOffset=!0,e.material.polygonOffsetFactor=-4),e.children&&IdentifyParts(e)}))}))},{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement(S,{value:[],didUpdate:this.StartState}),n.createElement(S,{value:[window.SecondaryClip],didUpdate:this.ClipUpdate}),n.createElement(S,{value:[window.SecondaryAmmo],didUpdate:this.AmmoUpdate}),n.createElement(O,{group:this.group,animations:this.animations,Ammo:window.SecondaryAmmo,Clip:window.SecondaryClip,state:this.props.state,RELOADTIME:this.RELOADTIME,CLIPSIZE:this.CLIPSIZE},n.createElement("group",{ref:this.group,dispose:null,position:[0,-.27,-.33]},n.createElement("group",{name:"blockbench_export"},n.createElement("group",null,n.createElement("group",{name:"Root",position:[-.25,-.6875,0]},n.createElement("group",{name:"body",position:[0,-1.5,0]},n.createElement("group",{name:"arms",position:[0,1.25,0]},n.createElement("group",{name:"right_arm",position:[.75,.1875,0]},n.createElement("group",{name:"WeaponRoot",position:[0,-1.3125,0]},n.createElement("group",{name:"WeaponRoot2",position:[.025,.125,-.15],rotation:[Math.PI,0,Math.PI/2]},n.createElement("group",{name:"muzzle",position:[2.26280567,.0625,.3237532]},n.createElement("mesh",{name:"pyramid",castShadow:!0,receiveShadow:!0,geometry:this.nodes.pyramid.geometry,material:this.nodes.pyramid.material,position:[-1.33125,0,-.09375],rotation:[0,0,Math.PI/2]})),n.createElement("group",{name:"pump",position:[1.79755655,.0625,.14688987]},n.createElement("mesh",{name:"pump_1",castShadow:!0,receiveShadow:!0,geometry:this.nodes.pump_1.geometry,material:this.nodes.pump_1.material,position:[-68155e-8,0,.01561013],rotation:[0,-.04363323,0]})),n.createElement("group",{name:"base",position:[.94405567,.0625,.2362532]},n.createElement("mesh",{name:"box",castShadow:!0,receiveShadow:!0,geometry:this.nodes.box.geometry,material:this.nodes.box.material,position:[.18719433,-.0625,.0387468]}),n.createElement("mesh",{name:"top_barrel",castShadow:!0,receiveShadow:!0,geometry:this.nodes.top_barrel.geometry,material:this.nodes.top_barrel.material,position:[.18719433,-.0625,.0387468]}),n.createElement("mesh",{name:"bottom_barrel",castShadow:!0,receiveShadow:!0,geometry:this.nodes.bottom_barrel.geometry,material:this.nodes.bottom_barrel.material,position:[.55906933,0,-.0393782],rotation:[-Math.PI/4,0,0]}),n.createElement("mesh",{name:"holder",castShadow:!0,receiveShadow:!0,geometry:this.nodes.holder.geometry,material:this.nodes.holder.material,position:[.18719433,-.0625,.0387468]}),n.createElement("mesh",{name:"handle",castShadow:!0,receiveShadow:!0,geometry:this.nodes.handle.geometry,material:this.nodes.handle.material,position:[-.88505187,0,-.11007592],rotation:[0,-.91629786,0]})),n.createElement("group",{name:"trigger",position:[.328125,.0625,.128125]},n.createElement("mesh",{name:"trigger_1",castShadow:!0,receiveShadow:!0,geometry:this.nodes.trigger_1.geometry,material:this.nodes.trigger_1.material,position:[.00625,0,-.015625],rotation:[0,-.43633231,0]})))),n.createElement("mesh",{name:"right_arm_1",castShadow:!0,receiveShadow:!0,geometry:this.nodes.right_arm_1.geometry,material:this.nodes.right_arm_1.material,position:[-.75,-2.9375,0]})),n.createElement("group",{name:"left_arm",position:[-.75,.1875,0]},n.createElement("mesh",{name:"left_arm_1",castShadow:!0,receiveShadow:!0,geometry:this.nodes.left_arm_1.geometry,material:this.nodes.left_arm_1.material,position:[.75,-2.9375,0]}))),n.createElement("group",{name:"HeadMod",position:[0,1.5625,0]},n.createElement("group",{name:"head"}))),n.createElement("group",{name:"left_leg",position:[-.25,-1.5,0]}),n.createElement("group",{name:"right_leg",position:[.25,-1.5,0]})))))))}}],r&&J(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component)),h)},daba:{range:1e3,clipSize:16,ammoSize:64,bulletsPerShot:6,spread:.3,ref:v(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(a,e);var t,r,n,o=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pe(r);if(n){var o=Pe(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Se(this,e)});function a(){var e;Ee(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _e(Oe(e=o.call.apply(o,[this].concat(r))),"RANGE",1e3),_e(Oe(e),"CLIPSIZE",16),_e(Oe(e),"AMMOSIZE",64),_e(Oe(e),"PERSHOT",6),_e(Oe(e),"SPREAD",.3),_e(Oe(e),"DAMAGE",6),_e(Oe(e),"RELOADTIME",.65),_e(Oe(e),"FIRETIME",0),e}return t=a,Object.defineProperty(t,"prototype",{writable:!1}),t}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}(c,e);var t,r,o,a,i=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=we(o);if(a){var r=we(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ye(this,e)});function c(){var e;fe(this,c);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return ge(he(e=i.call.apply(i,[this].concat(r))),"group",(0,n.createRef)()),ge(he(e),"RANGE",1e3),ge(he(e),"CLIPSIZE",8),ge(he(e),"AMMOSIZE",64),ge(he(e),"PERSHOT",6),ge(he(e),"SPREAD",.3),ge(he(e),"DAMAGE",6),ge(he(e),"RELOADTIME",.65),ge(he(e),"FIRETIME",2.67),ge(he(e),"DRAWTIME",.58),ge(he(e),"gltf",e.props.gltfHook),ge(he(e),"nodes",e.gltf.nodes),ge(he(e),"materials",e.gltf.materials),ge(he(e),"animations",e.gltf.animations),ge(he(e),"Shoot",(function(t){var r=new p.Vector3,n=[];e.props.camera.getWorldDirection(r),r.add(t),new p.Raycaster(e.props.camera.position,r).intersectObjects(e.props.scene.children,!0,n),n[0]&&n[0].object&&n[0].object.userData.id&&window.Server.emit("dmg",{id:n[0].object.userData.id,dmg:e.DAMAGE})})),ge(he(e),"Refresh",(function(){window.gameforceUpdate()})),ge(he(e),"StartState",(function(){window.ShootClick=function(){!function(){if(1==window.isGame&&window.MeleeClip>0){console.log("FIRE!"),window.MeleeClip=window.MeleeClip-1,window.gameforceUpdate();var t=new p.Vector3(0,0,0);e.Shoot(t);for(var r=0;r<e.PERSHOT-1;r++){var n=new p.Vector3(y(e.SPREAD,0),y(e.SPREAD,0),0);e.Shoot(n),console.log("THIS",n)}window.gameforceUpdate()}}()},window.ReloadLogic=function(t){"r"==t.key&&window.MeleeAmmo>0&&setTimeout((function(){var t=e.CLIPSIZE-window.MeleeClip;e.ClipUpdate([e.CLIPSIZE]),e.AmmoUpdate([window.MeleeAmmo-t]),window.MeleeClip=e.CLIPSIZE,window.MeleeAmmo=window.MeleeAmmo-t,console.log(window.MeleeClip),e.Refresh()}),1e3*e.RELOADTIME*(e.CLIPSIZE-window.MeleeClip))},e.ClipUpdate([window.MeleeClip]),e.AmmoUpdate([window.MeleeAmmo])})),ge(he(e),"ClipUpdate",(function(e){console.log("ClipUpdate",e),document.getElementsByClassName("ClipCount")[0]&&(document.getElementsByClassName("ClipCount")[0].innerHTML=e[0])})),ge(he(e),"AmmoUpdate",(function(e){console.log("AmmoUpdate",e),document.getElementsByClassName("AmmoCount")[0]&&(document.getElementsByClassName("AmmoCount")[0].innerHTML=e[0])})),e}return t=c,r=[{key:"IdentifyParts",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.children.forEach((function(e){e.material&&(e.renderOrder=999,e.material.depthTest=!0,e.material.depthWrite=!1,e.material.polygonOffset=!0,e.material.polygonOffsetFactor=-4),e.children&&IdentifyParts(e)}))}))},{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement(S,{value:[],didUpdate:this.StartState}),n.createElement(S,{value:[window.MeleeClip],didUpdate:this.ClipUpdate}),n.createElement(S,{value:[window.MeleeAmmo],didUpdate:this.AmmoUpdate}),n.createElement(O,{group:this.group,animations:this.animations,Ammo:window.MeleeAmmo,Clip:window.MeleeClip,state:this.props.state,RELOADTIME:this.RELOADTIME,CLIPSIZE:this.CLIPSIZE},n.createElement("group",{ref:this.group,dispose:null,position:[0,-.27,-.33]},n.createElement("group",{name:"blockbench_export"},n.createElement("group",null,n.createElement("group",{name:"Root",position:[-.25,-.6875,0]},n.createElement("group",{name:"body",position:[0,-1.5,0]},n.createElement("group",{name:"arms",position:[0,1.25,0]},n.createElement("group",{name:"right_arm",position:[.75,.1875,0]},n.createElement("group",{name:"WeaponRoot",position:[0,-1.3125,0]},n.createElement("group",{name:"WeaponRoot2",position:[.025,.125,-.15],rotation:[Math.PI,0,Math.PI/2]},n.createElement("group",{name:"muzzle",position:[2.26280567,.0625,.3237532]},n.createElement("mesh",{name:"pyramid",castShadow:!0,receiveShadow:!0,geometry:this.nodes.pyramid.geometry,material:this.nodes.pyramid.material,position:[-1.33125,0,-.09375],rotation:[0,0,Math.PI/2]})),n.createElement("group",{name:"pump",position:[1.79755655,.0625,.14688987]},n.createElement("mesh",{name:"pump_1",castShadow:!0,receiveShadow:!0,geometry:this.nodes.pump_1.geometry,material:this.nodes.pump_1.material,position:[-68155e-8,0,.01561013],rotation:[0,-.04363323,0]})),n.createElement("group",{name:"base",position:[.94405567,.0625,.2362532]},n.createElement("mesh",{name:"box",castShadow:!0,receiveShadow:!0,geometry:this.nodes.box.geometry,material:this.nodes.box.material,position:[.18719433,-.0625,.0387468]}),n.createElement("mesh",{name:"top_barrel",castShadow:!0,receiveShadow:!0,geometry:this.nodes.top_barrel.geometry,material:this.nodes.top_barrel.material,position:[.18719433,-.0625,.0387468]}),n.createElement("mesh",{name:"bottom_barrel",castShadow:!0,receiveShadow:!0,geometry:this.nodes.bottom_barrel.geometry,material:this.nodes.bottom_barrel.material,position:[.55906933,0,-.0393782],rotation:[-Math.PI/4,0,0]}),n.createElement("mesh",{name:"holder",castShadow:!0,receiveShadow:!0,geometry:this.nodes.holder.geometry,material:this.nodes.holder.material,position:[.18719433,-.0625,.0387468]}),n.createElement("mesh",{name:"handle",castShadow:!0,receiveShadow:!0,geometry:this.nodes.handle.geometry,material:this.nodes.handle.material,position:[-.88505187,0,-.11007592],rotation:[0,-.91629786,0]})),n.createElement("group",{name:"trigger",position:[.328125,.0625,.128125]},n.createElement("mesh",{name:"trigger_1",castShadow:!0,receiveShadow:!0,geometry:this.nodes.trigger_1.geometry,material:this.nodes.trigger_1.material,position:[.00625,0,-.015625],rotation:[0,-.43633231,0]})))),n.createElement("mesh",{name:"right_arm_1",castShadow:!0,receiveShadow:!0,geometry:this.nodes.right_arm_1.geometry,material:this.nodes.right_arm_1.material,position:[-.75,-2.9375,0]})),n.createElement("group",{name:"left_arm",position:[-.75,.1875,0]},n.createElement("mesh",{name:"left_arm_1",castShadow:!0,receiveShadow:!0,geometry:this.nodes.left_arm_1.geometry,material:this.nodes.left_arm_1.material,position:[.75,-2.9375,0]}))),n.createElement("group",{name:"HeadMod",position:[0,1.5625,0]},n.createElement("group",{name:"head"}))),n.createElement("group",{name:"left_leg",position:[-.25,-1.5,0]}),n.createElement("group",{name:"right_leg",position:[.25,-1.5,0]})))))))}}],r&&pe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component)),h)}};function Ce(e){e!=window.AnimState&&(window.Server.emit("state",e),console.log(e)),window.AnimState=e}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Re=function(e){var t=e.socket,r=(e.PrimaryClip,e.setPrimaryClip),o=(e.PrimaryAmmo,e.setPrimaryAmmo),a=je((0,n.useReducer)((function(e){return e+1}),0),2)[1],l=(0,c.y)(),y=l.camera,h=l.scene,w=je((0,n.useState)(null),2),g=(w[0],w[1],je((0,n.useState)("stop"),2)),b=g[0],E=g[1],v=je((0,n.useState)(0),2),S=(v[0],v[1],(0,n.useRef)()),O=(0,n.useRef)(),P=(0,n.useRef)(),_=600,A=je((0,f.f)((function(){return{mass:100,fixedRotation:!0,position:[0,1,0],args:.2,material:{friction:0}}})),2),C=A[0],j=A[1],I=(0,n.useRef)({timeToShoot:0,timeTojump:0,vel:[0,0,0],jumping:!1,crouching:!1});(0,n.useEffect)((function(){j.velocity.subscribe((function(e){return I.current.vel=e}))}),[j]);var R=function(){var e,t,r={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",Space:"jump",ControlLeft:"crouch"},o=function(e){return r[e]},a=(e=(0,n.useState)({forward:!1,backward:!1,left:!1,right:!1,jump:!1,crouch:!1}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1];return(0,n.useEffect)((function(){var e=function(e){c((function(t){return u(u({},t),{},m({},o(e.code),!0))})),console.log(e)},t=function(e){c((function(t){return u(u({},t),{},m({},o(e.code),!1))})),console.log(e)};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),i}(),M=R.forward,L=R.backward,T=R.left,k=R.right,D=R.jump,U=R.crouch,x=je((0,n.useState)(0),2),Z=x[0],B=x[1],H=0,N=je((0,n.useState)(["bab","aba","daba"]),2),F=N[0],z=N[1],G=je((0,n.useState)(!1),2);G[0],G[1],(0,n.useEffect)((function(){d(Z,U?2.55:3.45,.05,9,B)}),[U]);var W=je((0,n.useState)(1),2),V=W[0],$=W[1],K=je((0,n.useState)(1),2),Y=K[0],X=K[1],q=je((0,n.useState)(1),2),J=q[0],Q=q[1],ee=je((0,n.useState)(1),2),te=ee[0],re=ee[1];(0,n.useEffect)((function(){d(V,J,.05,20,$)}),[J]),(0,n.useEffect)((function(){d(Y,te,.05,20,X)}),[te]),(0,c.z)((function(e,r){var n=new p.Vector3(0,0,0),o=new p.Vector3;y.getWorldDirection(o);var a=new p.Vector3;a.setFromMatrixColumn(y.matrix,0),a.crossVectors(y.up,a);var i=new p.Vector3;i.setFromMatrixColumn(y.matrix,0),I.current.jumping?(re(M?.75:L?-.5:0),Q(k?.5:T?-.5:0)):I.current.crouching?(re(M?.6:L?-.6:0),Q(k?.6:T?-.6:0),!M||k||T||Ce("cf"),M||k||T||Ce("crouch")):(re(M?1:L?-1:0),Q(k?1:T?-1:0),k&&M?Ce("sr"):T&&M&&Ce("sl"),!M||k||T||Ce("run"),k&&!M?Ce("r"):T&&!M&&Ce("l"),k||T||M||L||Ce("idle")),I.current.crouching=!!U,0!==J&&0!==te?(n.add(a.clone().multiplyScalar(_*Y)).add(i.clone().multiplyScalar(_*V)),n.clampLength(-600,_)):0!==J?n.add(i.clone().multiplyScalar(_*V)):0!==te&&n.add(a.clone().multiplyScalar(_*Y)),j.velocity.set(n.x*r,I.current.vel[1],n.z*r),y.eulerOrder="YXZ",y.position.set(C.current.position.x,Z+C.current.position.y,C.current.position.z);var c,l,u,m,s,f=new p.Vector3;if(y.getWorldDirection(f),f.multiplyScalar(.075),f.add(y.position),O.current.position.set(f.x,f.y,f.z),O.current.setRotationFromQuaternion(y.quaternion),E((M||L||k||T)&&!U?"run":(M||L||k||T)&&U?"crouch":"idle"),S.current){var d=new p.Vector3(0,0,0);y.getWorldDirection(d),c=C.current.position,l=o,u=t.id,m=[],s=[],c.toArray(m),l.toArray(s),t.emit("move",{id:u,rotation:s,position:m})}if(I.current.jumping&&I.current.vel[1]<0&&0!==new p.Raycaster(C.current.position,new p.Vector3(0,-1,0),0,.2).intersectObjects(h.children).length&&(I.current.jumping=!1),D&&!I.current.jumping){var w=Date.now();w>I.current.timeTojump&&(I.current.timeTojump=w+400,I.current.jumping=!0,j.velocity.set(I.current.vel[0],5,I.current.vel[2]))}}));var ne=je((0,n.useState)(0),2),oe=ne[0],ae=ne[1];function ie(e){return n.createElement(e.ref,{PrimaryAmmo:window.PrimaryAmmo,setPrimaryAmmo:o,PrimaryClip:window.PrimaryClip,setPrimaryClip:r,state:b,camera:y,scene:h})}return(0,n.useEffect)((function(){window.addEventListener("wheel",(function(e){console.log(e.deltaY),e.deltaY>1&&(H-1>=0?H-=1:H=2),e.deltaY<-1&&(H+1<=2?H+=1:H=0),z(F),ae(H),t.emit("selW",H),console.log(H),a(),window.GameUIUpdate(),window.selectedWeapon=H}))}),[]),(0,n.useEffect)((function(){console.log(H),a()}),[H]),(0,n.useEffect)((function(){console.log("Make_Weapons"),window.PrimaryAmmo=Ae[F[0]].ammoSize,window.PrimaryClip=Ae[F[0]].clipSize,window.SecondaryAmmo=Ae[F[1]].ammoSize,window.SecondaryClip=Ae[F[1]].clipSize,window.MeleeAmmo=Ae[F[2]].ammoSize,window.MeleeClip=Ae[F[2]].clipSize,a(),window.forceUpdate()}),[]),(0,n.useEffect)((function(){t.emit("loadout",F)}),[F]),n.createElement(n.Fragment,null,n.createElement("group",null,n.createElement(i.q,{minPolarAngle:.01,maxPolarAngle:3,ref:S,camera:y})),n.createElement("group",{ref:O,scale:[.1,.1,.1],renderOrder:2},n.createElement("group",{ref:P,position:[.3,-.3,0]},0==oe?ie(Ae[F[0]]):"",1==oe?ie(Ae[F[1]]):"",2==oe?ie(Ae[F[2]]):"")))};const Me=r.p+"62edb9a2741027143a4e70f82a58255f.gltf";function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ke=function(e){var t=e.position,r=e.rotation,o=void 0===r?[0,0,0,"XYZ"]:r,a=e.id,i=e.animState,c=(0,n.useRef)(),l=(0,n.useRef)(),u=(0,n.useRef)(),m=(0,n.useRef)(),s=((0,n.useRef)(),(0,n.useRef)(),(0,n.useRef)()),f=(0,w.L)(Me),d=f.nodes,y=(f.materials,f.animations),h=(0,g.v)(y,c).actions,b=Le((0,n.useState)([0,0,0]),2),E=b[0],v=(b[1],Le((0,n.useState)(!0),2));function S(e){h[e].fadeIn(.1),h[e].play(),Object.keys(h).forEach((function(t){t!=e&&(h[t].fadeOut(.1),setTimeout((function(){h[t].stop()}),100))}))}function O(e){e.children.forEach((function(e){e.userData.id=a,e.castShadow=!0,e.children&&O(e)}))}return v[0],v[1],n.useRef(),(0,n.useEffect)((function(){switch(i){case"idle":S("animation.player.idle");break;case"crouch":S("animation.player.crouch");break;case"cf":S("animation.player.crouchF");break;case"run":S("animation.player.run");break;case"l":S("animation.player.runL");break;case"r":S("animation.player.runR");break;case"sl":S("animation.player.strafeL");break;case"sr":S("animation.player.strafeR");break;default:S("animation.player.def")}console.log(h)}),[i]),(0,n.useEffect)((function(){c.current&&(c.current.userData.id=a,console.log(c.current),c.current.children.forEach((function(e){e.userData.id=a,e.castShadow=!0,O(e)})))}),[c]),(0,n.useEffect)((function(){var e=new p.Vector3;(e=(new p.Vector3).fromArray(o)).y=0,e.add(c.current.position),c.current.lookAt(e)}),[o]),(0,n.useEffect)((function(){m.current.rotation.x=o[1],s.current.rotation.x=o[1]+("cf"==i?1.8:1.5)}),[o]),n.createElement("group",{ref:c,rotation:E,dispose:null,position:t},n.createElement("group",{ref:l}),n.createElement("group",{name:"blockbench_export"},n.createElement("group",null,n.createElement("group",{name:"Root",rotation:[Math.PI,0,Math.PI]},n.createElement("group",null,n.createElement("group",{ref:u,name:"body",position:[0,1.5,0]},n.createElement("group",{name:"HeadMod",position:[0,1.56,0],ref:m},n.createElement("group",{name:"head"},n.createElement("mesh",{name:"head_1",castShadow:!0,receiveShadow:!0,geometry:d.head_1.geometry,material:d.head_1.material,position:[0,-3.0625,0]}))),n.createElement("group",{name:"arms",position:[0,1.25,0],ref:s},n.createElement("group",{name:"left_arm",position:[-.75,.1875,0]},n.createElement("mesh",{name:"left_arm_1",castShadow:!0,receiveShadow:!0,geometry:d.left_arm_1.geometry,material:d.left_arm_1.material,position:[.75,-2.9375,0]})),n.createElement("group",{name:"right_arm",position:[.75,.1875,0]},n.createElement("mesh",{name:"right_arm_1",castShadow:!0,receiveShadow:!0,geometry:d.right_arm_1.geometry,material:d.right_arm_1.material,position:[-.75,-2.9375,0]}))),n.createElement("mesh",{name:"body_1",castShadow:!0,receiveShadow:!0,geometry:d.body_1.geometry,material:d.body_1.material,position:[0,-1.5,0]}))),n.createElement("group",{name:"left_leg",position:[-.25,1.5,0]},n.createElement("mesh",{name:"left_leg_1",castShadow:!0,receiveShadow:!0,geometry:d.left_leg_1.geometry,material:d.left_leg_1.material,position:[.25,-1.5,0]})),n.createElement("group",{name:"right_leg",position:[.25,1.5,0]},n.createElement("mesh",{name:"right_leg_1",castShadow:!0,receiveShadow:!0,geometry:d.right_leg_1.geometry,material:d.right_leg_1.material,position:[-.25,-1.5,0]}))))))};w.L.preload(Me);var De=r(977),Ue=r(593),xe=r(217);const Ze=r.p+"6da4e5170eabe08000fe505f5fe44d53.hdr",Be=r.p+"d516aec7c37e8bbe2c7d8a564c2dbd77.gltf";w.L.preload(Be);var He=r(580);function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ge=function(e){var t,r,o=(0,f.a)((function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach((function(t){Fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({mass:1,args:[.5,.5,.5],material:{friction:1,restitution:0}},e)})),a=(t=o,r=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ze(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],i=(0,n.useMemo)((function(){return He[8][Math.floor(Math.random()*He[8].length)]}),[]);return n.createElement("mesh",{ref:a,castShadow:!0,receiveShadow:!0,layers:e.layers},n.createElement("boxBufferGeometry",{args:[.5,.5,.5]}),n.createElement("meshLambertMaterial",{color:i}))};function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ve=function(){var e,t,r=(e=(0,f.u)((function(){return{rotation:[-Math.PI/2,0,0],position:[0,-.25,0],material:{friction:.1}}})),t=1,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return We(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?We(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return n.createElement("mesh",{ref:r,receiveShadow:!0,scale:[1e3,1e3,1e3]},n.createElement("planeBufferGeometry",{receiveShadow:!0}),n.createElement("meshPhongMaterial",{color:"skyblue",receiveShadow:!0}))};const $e=r.p+"e6f09b38c4af066ad670f4c73cf99f82.gltf";function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ye(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xe(){(0,c.C)(xe.E,$e);var e=(0,n.useRef)(),t=Ke((0,n.useState)(null),2),r=t[0],i=t[1],l=Ke((0,n.useState)({}),2),u=l[0],m=l[1],s=Ke(n.useReducer((function(e){return e+1}),0),2)[1];return window.gameforceUpdate=function(){s()},(0,n.useEffect)((function(){var e=(0,o.io)(window.ServerIP,{reconnection:!1});return console.log("Sever connect..."),i(e),window.Server=e,function(){r&&r.disconnect()}}),[]),(0,n.useEffect)((function(){if(r){r.on("move",(function(e){m(e)}));var e={name:localStorage.getItem("name"),uid:localStorage.getItem("uid")};r.on("connect",(function(){console.log("CON!"),r.emit("UserData",JSON.stringify(e))})),r.on("disconnect",(function(){console.log("disconnect")})),r.on("connect_error",(function(e){console.log("connect_error due to ".concat(e.message)),setTimeout((function(){window.isGame=!1,window.location.hash="#mainmenu",window.forceUpdate()}),2e3)}))}}),[r]),(0,n.useEffect)((function(){var e=function(e){window.ReloadLogic(e),console.log(e)};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[]),n.createElement(n.Fragment,null,r?n.createElement(n.Fragment,null,n.createElement(De.Xz,{onFocus:function(){navigator.keyboard.lock()},ref:e,onKeyUp:function(e){window.RKey(e),e.key},className:"GameViewport",onClick:function(){window.ShootClick()},dpr:(Math.min(window.devicePixelRatio),2/12*parseFloat(localStorage.getItem("setting.pixelScale"))),shadows:{autoUpdate:!0,enabled:!0,type:p.PCFSoftShadowMap}},n.createElement(f.P,{gravity:[0,-9,0],tolerance:0,iterations:50,broadphase:"SAP"},n.createElement(Re,{socket:r}),n.createElement(Ve,null),n.createElement(Ge,{position:[0,0,-5],layers:1}),n.createElement(Ge,{position:[-.6,0,-5]}),n.createElement(Ge,{position:[.6,0,-5]}),n.createElement(Ge,{position:[-.3,.5,-5]}),n.createElement(Ge,{position:[.3,.5,-5]}),n.createElement(Ge,{position:[0,1,-5]}),n.createElement(Ge,{position:[-5,0,-5]}),n.createElement(Ge,{position:[-5,.5,-5]}),n.createElement(Ge,{position:[-5,1,-5]}),n.createElement(Ge,{position:[-5,1.5,-5]}),n.createElement(Ge,{position:[0,0,5],type:"Static"}),n.createElement(Ge,{position:[0,0,5.5],type:"Static"}),n.createElement(Ge,{position:[0,.5,5.5],type:"Static"})),n.createElement(Ue.qA,{background:!0,files:Ze}),n.createElement("ambientLight",{intensity:0,rotation:[0,1,0]}),n.createElement("directionalLight",{intensity:1}),Object.keys(u).filter((function(e){return e!==r.id})).map((function(e){var t=u[e],r=t.position,o=t.rotation;return n.createElement(ke,{key:e,id:e,position:r,rotation:o,animState:u[e].state})}))),"false"!=localStorage.getItem("use3Dmodel")?n.createElement("div",{className:"Representation_3D"},r&&u[r.id]?n.createElement(De.Xz,{dpr:1},n.createElement(ke,{key:r.id,id:r.id,position:[-.5,-3,2.5],rotation:[.4878147781749304,-.011999712002073833,.8089065418644015],animState:"idle"}),n.createElement("ambientLight",{intensity:1})):""):"",n.createElement(qe,null)):"",n.createElement("div",{className:"LoadScreen"},n.createElement("div",{className:"spinner",style:{backgroundImage:"url(".concat(a.Z,")")}})))}function qe(){var e=Ke(n.useReducer((function(e){return e+1}),0),2)[1];return(0,n.useEffect)((function(){window.GameUIUpdate=function(){e()}}),[]),n.createElement(n.Fragment,null,n.createElement("div",{className:"cel"}),n.createElement("div",{className:"UIAmmo"},n.createElement("h2",{className:"ClipCount"},0),n.createElement("h3",{className:"AmmoCount"},0)))}}}]);