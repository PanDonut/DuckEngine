/*! For license information please see 757.js.LICENSE.txt */
"use strict";(global.webpackChunkelectron_react_webpack_boilerplate=global.webpackChunkelectron_react_webpack_boilerplate||[]).push([[757],{7757:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var r=n(4413),a=n(5977),o=n(7294),i=n(5964),l=n(6882),c=n(6037),s=n(2694);const u=n.p+"1f00a8151d98f7b3cc102fce717d6ebd.gltf";var m=n(4975),d=n(2248),h=n(9477);n.p,n.p;const f=n.p+"img/CustomServerIcon__BJSUK.png";var g=n(6826);const p=n.p+"img/check__DcMEB.png",v=n.p+"img/check_x__E2mZ5.png",y=n.p+"img/check_y__zmy4v.png";function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(){var e,t,n=(e=o.useReducer((function(e){return e+1}),0),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];return o.createElement("div",{className:"Settings"},[{type:"tf",name:"setting.use3Dmodel",value:"use3Dmodel"},{type:"range",name:"Crosshair opacity",min:0,max:10,step:1,value:"csOP"},{type:"range",name:"Shadow map quality",min:.01,max:50,step:.01,value:"shadowQ"},{type:"range",name:"Pixel scale",min:1,max:15,step:1,value:"pixelScale"},{type:"tf",name:"Ambient Occlusion",value:"AO"},{type:"tf",name:"Bloom",value:"Bloom"},{type:"tf",name:"Depth of Field",value:"DoF"},{type:"tf",name:"Vignette",value:"Vignette"},{type:"tf",name:"Antialiasing",value:"antialiasing"},{type:"range",name:"Antialiasing mode",min:0,max:2,step:1,value:"antialiasingMode"}].map((function(e){return"tf"==e.type?o.createElement("div",{key:e.name,className:"SettingsLine"},o.createElement("h3",null,e.name),o.createElement(g.o,null,o.createElement("div",{className:"TF",key:"checkbox."+e.value.toLowerCase().replaceAll(" ",""),onClick:function(){localStorage.setItem("setting."+e.value,"true"==localStorage.getItem("setting."+e.value)?"false":"true"),n()}},o.createElement("img",{src:p}),o.createElement("img",{src:"true"==localStorage.getItem("setting."+e.value)?y:v})))):"range"==e.type?o.createElement("div",{key:e.name,className:"SettingsLine"},o.createElement("h3",null,e.name),o.createElement("input",{type:"range",step:e.step,min:e.min,max:e.max,value:parseInt(localStorage.getItem("setting."+e.value)),onChange:function(t){localStorage.setItem("setting."+e.value,t.target.value),n()}})):void 0})))}const w=n.p+"aa0af0059f420dc482ea36f033f3a13c.mp3",b=n.p+"b296c352c22d09d124ef9a9b6e27ca45.mp3",I=n.p+"fcc080c69a5383dc8171625252d28f9c.mp3",k=n.p+"90e54fc9343c71326420917cfc1f9089.mp3",N=n.p+"c72a625a37b41ccca652e601eb7a187d.mp3";var L=n(7526),x=n(6117),O=n(4206),P=n.n(O),_=n(3728),M=n(6204),C=n(168),F=n(6034);function j(e){var t=e.filter,n=void 0===t?"any":t,r=e.clickAction,i=void 0===r?function(e){}:r;return o.createElement("div",{className:"ItemSelectorBox"},"primary"==n?Object.entries(F.m).filter((function(e){return"primary"==e[1].slot})).map((function(e){return o.createElement("div",{className:"Weapon",key:e[0],onClick:function(t){i({id:e[0],data:e[1]},t)}},o.createElement(a.Xz,null,[0].map((function(t){var n=e[1].model,r=(0,l.L)(n).scene;return r.children[0].children[0].children[0].children[0].children[0].children[1].visible=!1,r.children[0].children[0].children[0].children[0].children[1].children[0].visible=!1,r.children[0].children[0].children[0].children[2]&&(r.children[0].children[0].children[0].children[2].visible=!1),o.createElement(o.Suspense,{key:e,fallback:null},o.createElement("group",{position:[1.5,1.75,0],rotation:[0,1,0]},o.createElement("primitive",{object:r})),o.createElement(s.c,{makeDefault:!0,rotation:[0,0,1.8],position:[1,-1,4.2]}),o.createElement("ambientLight",{intensity:1}))}))),o.createElement("h4",null,e[1].data.name),o.createElement("div",{className:"WeaponData"},o.createElement("h4",null,e[1].data.desc)))})):"","secondary"==n?Object.entries(F.m).filter((function(e){return"secondary"==e[1].slot})).map((function(e){return o.createElement("div",{className:"Weapon",key:e[0],onClick:function(t){i({id:e[0],data:e[1]},t)}},o.createElement(a.Xz,null,[0].map((function(t){var n=e[1].model,r=(0,l.L)(n).scene;return r.children[0].children[0].children[0].children[0].children[0].children[1].visible=!1,r.children[0].children[0].children[0].children[0].children[1].children[0].visible=!1,r.children[0].children[0].children[0].children[2]&&(r.children[0].children[0].children[0].children[2].visible=!1),o.createElement(o.Suspense,{key:e,fallback:null},o.createElement("group",{position:[1.1,1.26,0],rotation:[0,1,0]},o.createElement("primitive",{object:r})),o.createElement(s.c,{makeDefault:!0,rotation:[0,0,1.8],position:[1,-1,1]}),o.createElement("ambientLight",{intensity:1}))}))),o.createElement("h4",null,e[1].data.name),o.createElement("div",{className:"WeaponData"},o.createElement("h4",null,e[1].data.desc)))})):"")}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function T(){T=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),i=new I(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=S(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function m(){}function d(){}function h(){}var f={};l(f,a,(function(){return this}));var g=Object.getPrototypeOf,p=g&&g(g(k([])));p&&p!==t&&n.call(p,a)&&(f=p);var v=h.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(a,o,i,l){var c=s(e[a],e,o);if("throw"!==c.type){var u=c.arg,m=u.value;return m&&"object"==A(m)&&n.call(m,"__await")?t.resolve(m.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=h,l(v,"constructor",h),l(h,"constructor",d),d.displayName=l(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;b(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function D(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,l,"next",e)}function l(e){D(o,r,a,i,l,"throw",e)}i(void 0)}))}}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=[w,b,I,k,N];function W(e){var t=e.Spin1,n=e.Spin2,a=e.LightRef,i=(0,r.y)(),l=i.gl;i.camera,l.shadowMap.enabled=!0,(0,r.z)((function(){t.current&&n.current&&(t.current.rotateZ(.005),n.current.rotateZ(.005))})),(0,o.useEffect)((function(){a.current&&(console.log(a.current.shadow),a.current.shadow.mapSize=new h.Vector2(1024*parseFloat(localStorage.getItem("setting.shadowQ")),1024*parseFloat(localStorage.getItem("setting.shadowQ"))))}),[a])}function R(e){var t=B((0,o.useState)(1),2),n=(t[0],t[1],B((0,o.useState)(),2)),r=(n[0],n[1]),i=B((0,o.useState)(0),2),p=i[0],v=i[1],y=B((0,o.useState)(!1),2),E=y[0],w=y[1];(0,o.useEffect)((function(){window.addEventListener("keyup",(function(e){"p"==e.key&&w(!0)}))}),[]),new h.Vector2(4092,4092);var b=(0,o.useRef)(),I=(0,o.useRef)(),k=(0,o.useRef)(),N=B((0,o.useState)(!1),2),O=N[0],A=N[1],D=B((0,o.useState)(!1),2),z=D[0],R=D[1],V=B((0,o.useState)(!1),2),Y=V[0],X=V[1],Q=B((0,o.useState)(!1),2),$=Q[0],Z=Q[1],K=B((0,o.useState)(!1),2),q=K[0],H=K[1],ee=B((0,o.useState)(!1),2),te=(ee[0],ee[1],B((0,o.useState)(0),2)),ne=te[0],re=te[1],ae=B((0,o.useState)(!1),2),oe=ae[0],ie=ae[1],le=B((0,o.useState)(!1),2),ce=le[0],se=le[1],ue=((0,o.useRef)(),(0,l.L)(u)),me=ue.nodes,de=ue.materials,he=B(o.useReducer((function(e){return e+1}),0),2)[1];return(0,o.useEffect)((function(){document.getElementById("MenuSong").src=G[G.length*Math.random()|0],document.getElementById("MenuSong").volume=.15,document.getElementById("MenuSong").play()}),[]),(0,o.useEffect)((function(){(0,L.l)(me)}),[]),o.createElement(o.Fragment,null,o.createElement("audio",{id:"MenuSong",autoPlay:!1,loop:!1}),o.createElement("div",{className:"MainMenu"},o.createElement("div",{className:"MenuButtons",style:{opacity:1==ce?0:1,pointerEvents:1==ce?"none":"all"}},o.createElement(g.o,null,o.createElement("button",{uiControlId:console.log,onClick:function(){A(!0)}},"Play")),o.createElement(g.o,null,o.createElement("button",{onClick:function(){se(!0)}},"Inventory")),o.createElement(g.o,null,o.createElement("button",{onClick:function(){R(!0)}},"Settings")),o.createElement(g.o,null,o.createElement("button",{onClick:function(){X(!0)}},"Mods"))),o.createElement("div",{className:"Loadout",style:{opacity:0==ce?0:1,pointerEvents:0==ce?"none":"all",display:1==ce?"block":"none"}},o.createElement("div",{className:"Main"},o.createElement("div",{className:"Part"}),o.createElement("div",{className:"Part"},o.createElement(a.Xz,null,o.createElement(_.M,{selW:ne,animState:"idle",loadout:JSON.parse(localStorage.getItem("loadout")),position:[0,0,0],rotation:[0,0,0],id:"NONE",Parts:{head:C.Z,body:M.SA,arms:{L:M.O$,R:M.qm},legs:M.ne}}),o.createElement("ambientLight",{intensity:.6}),o.createElement("axesHelper",null),o.createElement(c.z,{makeDefault:!0,target:new h.Vector3(0,2.5,0),position:[0,4.5,6.75],rotation:[0,0,0]}),o.createElement(m.xC,{multisampling:0},"false"!=localStorage.getItem("setting.DoF")?o.createElement(m.y8,{focusDistance:0,focalLength:.06,bokehScale:2,height:480}):"","false"!=localStorage.getItem("setting.Bloom")?o.createElement(m.dp,{luminanceThreshold:0,luminanceSmoothing:10,height:300}):"","false"!=localStorage.getItem("setting.Vignette")?o.createElement(m.sY,{eskil:!1,offset:.1,darkness:1.1}):"","false"!=localStorage.getItem("setting.antialiasing")?o.createElement(m.k,{preset:1,edgeDetectionMode:parseInt(localStorage.getItem("setting.antialiasingMode"))}):"","false"!=localStorage.getItem("setting.AO")?o.createElement(o.Fragment,null,o.createElement(m.K,{blendFunction:d.YQ.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,scale:.5,bias:.5})):""))),o.createElement("div",{className:"Part WeaponList"},o.createElement("div",{className:"Weapon",id:"CurrentPrimary",onClick:function(){Z(!0),re(0)}},0==$?o.createElement(a.Xz,null,[0].map((function(e){var t=F.m[JSON.parse(localStorage.getItem("loadout"))[0]].model,n=(0,l.L)(t).scene;return n.children[0].children[0].children[0].children[0].children[0].children[1].visible=!1,n.children[0].children[0].children[0].children[0].children[1].children[0].visible=!1,n.children[0].children[0].children[0].children[2]&&(n.children[0].children[0].children[0].children[2].visible=!1),o.createElement(o.Suspense,{fallback:null},o.createElement("group",{position:[1,1.7,0],rotation:[0,1,0]},o.createElement("primitive",{object:n})),o.createElement(s.c,{makeDefault:!0,rotation:[0,0,1.8],position:[1,-1,4]}),o.createElement("ambientLight",{intensity:1}))}))):"",o.createElement("h4",null,F.m[JSON.parse(localStorage.getItem("loadout"))[0]].data.name),o.createElement("div",{className:"WeaponData"},o.createElement("h4",null,F.m[JSON.parse(localStorage.getItem("loadout"))[0]].data.desc))),o.createElement("div",{className:"Weapon",id:"CurrentSecondary",onClick:function(){H(!0),re(1)}},0==q?o.createElement(a.Xz,null,[0].map((function(e){var t=F.m[JSON.parse(localStorage.getItem("loadout"))[1]].model,n=(0,l.L)(t).scene;return n.children[0].children[0].children[0].children[0].children[0].children[1].visible=!1,n.children[0].children[0].children[0].children[0].children[1].children[0].visible=!1,n.children[0].children[0].children[0].children[2]&&(n.children[0].children[0].children[0].children[2].visible=!1),o.createElement(o.Suspense,{key:e,fallback:null},o.createElement("group",{position:[1,1.2,0],rotation:[0,1,0]},o.createElement("primitive",{object:n})),o.createElement(s.c,{makeDefault:!0,rotation:[0,0,1.8],position:[1,-1,1]}),o.createElement("ambientLight",{intensity:1}))}))):"",o.createElement("h4",null,F.m[JSON.parse(localStorage.getItem("loadout"))[1]].data.name),o.createElement("div",{className:"WeaponData"},o.createElement("h4",null,F.m[JSON.parse(localStorage.getItem("loadout"))[1]].data.desc))),o.createElement("div",{className:"Weapon"},o.createElement(a.Xz,null,[0].map((function(e){var t=F.m[JSON.parse(localStorage.getItem("loadout"))[2]].model,n=(0,l.L)(t).scene;return n.children[0].children[0].children[0].children[0].children[0].children[1].visible=!1,n.children[0].children[0].children[0].children[0].children[1].children[0].visible=!1,n.children[0].children[0].children[0].children[2]&&(n.children[0].children[0].children[0].children[2].visible=!1),o.createElement(o.Suspense,{fallback:null},o.createElement("group",{position:[1.9,.5,0],rotation:[0,1,0]},o.createElement("primitive",{object:n})),o.createElement(s.c,{makeDefault:!0,rotation:[0,0,1.8],position:[1,-1,4.2]}),o.createElement("ambientLight",{intensity:1}))}))),o.createElement("h4",null,F.m[JSON.parse(localStorage.getItem("loadout"))[2]].data.name),o.createElement("div",{className:"WeaponData"},o.createElement("h4",null,F.m[JSON.parse(localStorage.getItem("loadout"))[2]].data.desc)))),1==$?o.createElement(j,{filter:"primary",clickAction:function(e){var t=JSON.parse(localStorage.getItem("loadout"));t[0]=e.id,localStorage.setItem("loadout",JSON.stringify(t)),Z(!1)}}):"",1==q?o.createElement(j,{filter:"secondary",clickAction:function(e){var t=JSON.parse(localStorage.getItem("loadout"));t[1]=e.id,localStorage.setItem("loadout",JSON.stringify(t)),H(!1)}}):""),o.createElement("div",{onClick:function(){se(!1)},className:"BG"})),1==Y?o.createElement(o.Fragment,null,o.createElement("div",{className:"PluginList"},window.API.Plugins.List?window.API.Plugins.List.map((function(e,t){return o.createElement("div",{className:"PluginItem",key:t},o.createElement("img",{src:e.image}),o.createElement("h3",null,e.name),o.createElement("h4",null,e.author),o.createElement("h5",null,e.pluginID),"Ten mod zostanie usunięty po restarcie duckengine/%gamename%"==window.API.Plugins.List[t].pluginID?"":o.createElement("button",{onClick:function(){var e=JSON.parse(localStorage.getItem("df_extenstions"));e.splice(t,1),localStorage.setItem("df_extenstions",JSON.stringify(e)),window.API.Plugins.List[t].pluginID="Ten mod zostanie usunięty po restarcie duckengine/%gamename%",he()}},"Usuń"))})):o.createElement("h3",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"'Pixel', sans-serif",fontWeight:"100"}},"Nie masz żadnych modów :(")),o.createElement("div",{onClick:function(){X(!1)},className:"BG"})):"",1==O?o.createElement(o.Fragment,null,o.createElement("div",{className:"MenuButtons PlayMenu"},o.createElement("div",{className:"PlayMenuSelect"},o.createElement("img",{src:f}),o.createElement("h2",null,"Casual"),o.createElement(g.o,null,o.createElement("button",{onClick:J(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],console.log("Finding server");try{new Promise((function(e,n){A(!1),ie(!0),setTimeout((function(){x.Lr.forEach((function(n,r,a){P().get("".concat(n,"/config")).then((function(o){console.log("Got config of "+n),1==x.Oh.includes(o.data.map)?(console.log("".concat(n," 's map is selected")),P().get("".concat(n,"/players")).then((function(i){console.log("Got ".concat(n," 's players")),o.data.maxplayers>Object.keys(i.data).length?(console.log("Found space in "+n),t.push({ip:n,availablePlaces:o.data.maxplayers-Object.keys(i.data).length}),r===a.length-1&&e()):r===a.length-1&&e()}))):r===a.length-1&&e()}))}))}),3e3)})).then((function(){console.log(t),window.ServerIP=t[0].ip,window.forceUpdate(),window.location.hash="#game",window.isGame=!0,window.forceUpdate()}))}catch(e){console.error("Couldn't find server")}case 3:case"end":return e.stop()}}),e)})))},"Find game"))),o.createElement("div",{className:"PlayMenuSelect"},o.createElement("img",{src:f}),o.createElement("h2",null,"Custom server"),o.createElement(g.o,null,o.createElement("input",{value:window.ServerIP,onChange:function(e){window.ServerIP=e.target.value,he()},type:"text"})),o.createElement(g.o,null,o.createElement("button",{onClick:function(){var e;1==(e=window.ServerIP.split(":")[0],!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e))||1==function(e){var t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}(window.ServerIP)?(window.location.hash="#game",window.isGame=!0,window.forceUpdate()):console.log("Invalid IP")}},"Connect")))),o.createElement("div",{onClick:function(){A(!1)},className:"BG"})):"",1==z?o.createElement(o.Fragment,null,o.createElement(S,null),o.createElement("div",{onClick:function(){R(!1)},className:"BG"})):"",o.createElement(a.Xz,{dpr:(Math.min(window.devicePixelRatio),2/12*parseFloat(localStorage.getItem("setting.pixelScale"))),shadows:{autoUpdate:!0,enabled:!0,type:h.PCFSoftShadowMap}},o.createElement(W,{Spin1:b,Spin2:I,LightRef:k}),o.createElement(U,{nodes:me,materials:de,Spin1:b,Spin2:I,LightRef:k}),o.createElement(m.xC,{multisampling:0},"false"!=localStorage.getItem("setting.DoF")?o.createElement(m.y8,{focusDistance:0,focalLength:.06,bokehScale:2,height:480}):"","false"!=localStorage.getItem("setting.Bloom")?o.createElement(m.dp,{luminanceThreshold:0,luminanceSmoothing:10,height:300}):"","false"!=localStorage.getItem("setting.Vignette")?o.createElement(m.sY,{eskil:!1,offset:.1,darkness:1.1}):"","false"!=localStorage.getItem("setting.antialiasing")?o.createElement(m.k,{preset:1,edgeDetectionMode:parseInt(localStorage.getItem("setting.antialiasingMode"))}):"","false"!=localStorage.getItem("setting.AO")?o.createElement(o.Fragment,null,o.createElement(m.K,{blendFunction:d.YQ.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,scale:.5,bias:.5})):""))),1==oe?o.createElement("div",{className:"ServerFinding"},o.createElement("h3",null,"Queued for Casual")):"",1==E?o.createElement("div",{className:"ExtenstionInstaller"},o.createElement("div",{className:"ExtenstionView NativeWindow"},o.createElement("h2",{className:"h2"},"duckengine/$gamename$ ",o.createElement("a",{href:"#",class:"close"},"Close")),o.createElement("div",{className:"ViewObject",style:{left:"".concat(p,"%")}},o.createElement("div",{className:"file-input"},o.createElement("input",{type:"file",accept:".dmodfile",onChange:function(e){r(e.target.files[0]),v(-100);var t=new FileReader;t.readAsText(e.target.files[0],"UTF-8"),t.onload=function(e){1==e.target.result.includes('"forApp": "148962"')?setTimeout((function(){null==localStorage.getItem("df_extenstions")&&localStorage.setItem("df_extenstions",JSON.stringify([]));var t=JSON.parse(localStorage.getItem("df_extenstions")),n=document.createElement("script");n.innerHTML=e.target.result,document.body.appendChild(n),console.log(window.ExtensionManifest),t.push({manifest:window.ExtensionManifest[window.ExtensionManifest.length-1],script:e.target.result}),localStorage.setItem("df_extenstions",JSON.stringify(t)),setTimeout((function(){window.location.reload()}),700)}),1500):setTimeout((function(){v(-200)}),300)},t.onerror=function(e){setTimeout((function(){console.error("Error reading extension"),v(-200)}),2e3)}}}),o.createElement("span",{className:"button"},"Wybierz plik .dmodfile lub przeciągnij go tu")),o.createElement("div",{className:"ExtenstionButtonLine"},o.createElement("button",{onClick:function(){w(!1)}},"Anuluj"))),o.createElement("div",{className:"ViewObject",id:"installing",style:{left:"".concat(p,"%")}},o.createElement("h2",{className:"InstallText"},"Instaluję..."),o.createElement("div",{className:"ExtenstionButtonLine"})),o.createElement("div",{className:"ViewObject",style:{left:"".concat(p,"%")}},o.createElement("h2",{className:"InstallText"},"Wystąpił błąd"),o.createElement("div",{className:"ExtenstionButtonLine"})))):"")}function U(e){e.Spin1,e.Spin2;var t=e.nodes,n=e.materials,r=e.LightRef;return o.createElement("group",{dispose:null},o.createElement("group",{position:[0,3.04,-.19]},o.createElement("mesh",{geometry:t.cube012.geometry,material:n["Material_0.001"]}),o.createElement("mesh",{geometry:t.pyramid.geometry,material:n["Material_0.001"]})),o.createElement("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.cube062.geometry,material:n["Material_0.012"]}),o.createElement("group",{position:[0,3.21,0],rotation:[0,0,0]},o.createElement(L.k,{ref:r,intensity:1,angle:.78,penumbra:1,decay:2,OriginPosition:[0,3.21,0],rotation:[-Math.PI/2,0,0]}),o.createElement("ambientLight",{intensity:.06})),o.createElement("group",{position:[-.1,1.51,-6.32],rotation:[Math.PI/2,0,Math.PI]},o.createElement(s.c,{makeDefault:!0,far:1e3,near:.1,fov:22.9,rotation:[-Math.PI/2,0,0]})),o.createElement("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.cube014.geometry,material:n["Material_0.003"],position:[0,0,.84]}),o.createElement("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.cube015.geometry,material:n["Material_0.004"],position:[-3,0,.84]}),o.createElement("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.cube013.geometry,material:n["Material_0.002"],position:[2.99,0,.84]}),o.createElement("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.cube018.geometry,material:n["Material_0.007"],position:[2.99,2.23,.84]}),o.createElement("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.cube017.geometry,material:n["Material_0.006"],position:[0,2.23,.84]}),o.createElement("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.cube016.geometry,material:n["Material_0.005"],position:[-3,2.23,.84]}))}(0,i.v)(),l.L.preload(u)}}]);